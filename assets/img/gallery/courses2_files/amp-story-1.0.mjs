;
(self.AMP=self.AMP||[]).push({m:1,v:"2401122240000",n:"amp-story",ev:"1.0",l:!0,f:function(t,i){(()=>{var i;function s(){return i||(i=Promise.resolve(void 0))}var o=class{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}};function n(t){return new Promise((i=>{i(t())}))}function r(t){return t?Array.prototype.slice.call(t):[]}var{isArray:a}=Array;function e(t,i){for(let s=0;s<t.length;s++)if(i(t[s],s,t))return s;return-1}var h,{hasOwnProperty:p,toString:l}=Object.prototype;function m(t){const i=Object.create(null);return t&&Object.assign(i,t),i}function c(t,i){return p.call(t,i)}function u(t,i,s,o,n,r,a,e,h,p,l){return t}function d(t,i){return t.replace(/^|,/g,`$&${i} `)}function f(t){return CSS.escape(t)}function g(t){u(/^[\w-]+$/.test(t))}function y(t,i){return t.querySelector(d(i,":scope"))}function _(t,i){return t.querySelectorAll(d(i,":scope"))}function b(t,i){return t.matches(i)}function v(t,i,s){let o;for(o=t;o&&o!==s;o=o.parentElement)if(i(o))return o;return null}function A(t,i){return t.closest(i)}function P(t,i){for(let s=t.lastElementChild;s;s=s.previousElementSibling)if(i(s))return s;return null}function x(t,i){return g(i),y(t,`> ${i}`)}function w(t){const i=Object.getOwnPropertyDescriptor(t,"message");if(null!=i&&i.writable)return t;const{message:s,stack:o}=t,n=new Error(s);for(const i in t)n[i]=t[i];return n.stack=o,n}function T(t){let i=null,s="";for(const t of arguments)t instanceof Error&&!i?i=w(t):(s&&(s+=" "),s+=t);return i?s&&(i.message=s+": "+i.message):i=new Error(s),i}function E(t){var i,s;null===(i=(s=self).__AMP_REPORT_ERROR)||void 0===i||i.call(s,t)}function M(t){const i=T.apply(null,arguments);return i.expected=!0,i}function I(t,...i){const s=T.apply(null,i);s.name=t||s.name,E(s)}function R(t,...i){E(M.apply(null,i))}var k=["Webkit","webkit","Moz","moz","ms","O","o"],V={"getPropertyPriority":()=>"","getPropertyValue":()=>""};function S(t){const i=t.replace(/[A-Z]/g,(t=>"-"+t.toLowerCase()));return k.some((t=>i.startsWith(t+"-")))?`-${i}`:i}function z(t,i,s){if(Y(i))return i;h||(h=m());let o=h[i];if(!o||s){if(o=i,void 0===t[i]){const s=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}(i),n=function(t,i){for(let s=0;s<k.length;s++){const o=k[s]+i;if(void 0!==t[o])return o}return""}(t,s);void 0!==t[n]&&(o=n)}s||(h[i]=o)}return o}function O(t,i){const{style:s}=t;for(const t in i)s.setProperty(S(z(s,t)),String(i[t]),"important")}function C(t,i,s,o,n){const r=z(t.style,i,n);if(!r)return;const a=o?s+o:s;t.style.setProperty(S(r),a)}function N(t,i){for(const s in i)C(t,s,i[s])}function L(t,i){void 0===i&&(i=t.hasAttribute("hidden")),i?t.removeAttribute("hidden"):t.setAttribute("hidden","")}function D(t){return`${t}px`}function U(t){return`${t}deg`}function $(t,i){return"number"==typeof t?i(t):t}function j(t,i){return null==i?`translate(${$(t,D)})`:`translate(${$(t,D)}, ${$(i,D)})`}function F(t){return`scale(${t})`}function H(t){return`rotate(${$(t,U)})`}function B(t,i){return t.getComputedStyle(i)||V}function Y(t){return t.startsWith("--")}function G(t){return"display"in t&&I("STYLE","`display` style detected. You must use toggle instead."),t}var W="nodisplay",q="container",X=class extends t.BaseElement{constructor(t){super(t)}isLayoutSupported(t){return t==q}buildCallback(){this.element.classList.add("i-amphtml-story-layer")}},K=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function Z(t,i=""){try{return decodeURIComponent(t)}catch(t){return i}}function J(t){const i=m();if(!t)return i;let s;for(;s=K.exec(t);){const t=Z(s[1],s[1]),o=s[2]?Z(s[2].replace(/\+/g," "),s[2]):"";i[t]=o}return i}function Q(t){const{location:i}=t||self;return J(i.originalHash||i.hash)}function tt(t){return(t.ownerDocument||t).defaultView}function it(t){const i=tt(t),s=J(i.location.href).page;let o="amp-story-page:first-of-type";s&&(o+=`, amp-story-page#${f(s)}`);const n=i.document.querySelectorAll(o);return n[n.length-1]===t}var st={"align-content":"alignContent","align-items":"alignItems","align-self":"alignSelf","grid-area":"gridArea","justify-content":"justifyContent","justify-items":"justifyItems","justify-self":"justifySelf"},ot=Object.keys(st).map((t=>`[${t}]`)).join(","),nt="load-end",rt="preview";function at(t){return JSON.parse(t)}function et(t,i,s=5){if(!isFinite(s)||s<0)throw new Error("Invalid depth: "+s);if(t===i)return!0;const o=[{a:t,b:i,depth:s}];for(;o.length>0;){const{a:t,b:i,depth:s}=o.shift();if(s>0){if(typeof t!=typeof i)return!1;if(a(t)&&a(i)){if(t.length!==i.length)return!1;for(let n=0;n<t.length;n++)o.push({a:t[n],b:i[n],depth:s-1});continue}if(t&&i&&"object"==typeof t&&"object"==typeof i){const n=Object.keys(t),r=Object.keys(i);if(n.length!==r.length)return!1;for(const r of n)o.push({a:t[r],b:i[r],depth:s-1});continue}}if(t!==i)return!1}return!0}function ht(t){var i;null===(i=t.parentElement)||void 0===i||i.removeChild(t)}function pt(t){const i=t.isConnected;if(void 0!==i)return i;let s=t;for(;s=lt(s),s.host;)s=s.host;return s.nodeType===Node.DOCUMENT_NODE}function lt(t){if(Node.prototype.getRootNode)return t.getRootNode();let i;for(i=t;i.parentNode&&(!(s=i)||"I-AMPHTML-SHADOW-ROOT"!=s.tagName&&(11!=s.nodeType||"[object ShadowRoot]"!==Object.prototype.toString.call(s)));i=i.parentNode);var s;return i}function mt(t){var i;return"SCRIPT"==t.tagName&&"APPLICATION/JSON"==(null===(i=t.getAttribute("type"))||void 0===i?void 0:i.toUpperCase())}function ct(t,i,s){const o=t.hasAttribute(i),n=void 0!==s?s:!o;return n!==o&&(n?t.setAttribute(i,""):t.removeAttribute(i)),n}function ut(t){const i=(s=t,g("script"),_(s,"> script"));var s;const{length:o}=i;if(1!==o)throw new Error(`Found ${o} <script> children. Expected 1.`);const n=i[0];if(!mt(n))throw new Error('<script> child must have type="application/json"');try{var r;return at(null!==(r=n.textContent)&&void 0!==r?r:"")}catch(t){throw new Error("Failed to parse <script> contents. Is it valid JSON?")}}function dt(t){if(u(function(t){const i=t.tagName;return i.startsWith("AMP-")&&!("AMP-STICKY-AD-TOP-PADDING"==i||"AMP-BODY"==i)}(t)),t.createdCallback)return Promise.resolve(t);if(!t.__AMP_UPG_PRM){const i=new o;t.__AMP_UPG_PRM=i.promise,t.__AMP_UPG_RES=i.resolve}const i=t.__AMP_UPG_PRM;return u(i),i}function ft(t,i,s){return i in t?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s,t}function gt(t,i){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);i&&(o=o.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),s.push.apply(s,o)}return s}function yt(t){for(var i=1;i<arguments.length;i++){var s=null!=arguments[i]?arguments[i]:{};i%2?gt(Object(s),!0).forEach((function(i){ft(t,i,s[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):gt(Object(s)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(s,i))}))}return t}function _t(t,i){if(!!i===i||null==i)return;if(Array.isArray(i))return void i.forEach((i=>{_t(t,i)}));const s=i;t.appendChild(s.nodeType?s:self.document.createTextNode(String(i)))}function bt(t,i,...s){if("string"!=typeof t)return t(yt(yt({},i),{},{children:s}));const o=null==i?void 0:i.xmlns;o&&delete i.xmlns;const n=o?self.document.createElementNS(o,t):self.document.createElement(t);return _t(n,s),i&&Object.keys(i).forEach((t=>{!function(t,i,s){if(!1!==s&&null!=s)if("function"!=typeof s||"o"!==i[0]||"n"!==i[1])t.setAttribute(i,!0===s?"":String(s));else{const o=i.toLowerCase().substring(2);t.addEventListener(o,s)}}(n,t,i[t])})),n}function vt(t,i){const s=n((()=>t.play(!!i)));return s.catch((t=>{R(0,t)})),s}function At(t,i,s){let o=0,n=0,r=null;function a(){o=0;const e=s-(t.Date.now()-n);var h;e>0?o=t.setTimeout(a,e):(h=r,r=null,i.apply(null,h))}return function(...i){n=t.Date.now(),r=i,o||(o=t.setTimeout(a,s))}}var Pt="";function xt(t){const i=t||self;return i.__AMP_MODE?i.__AMP_MODE:i.__AMP_MODE=function(t){return{localDev:!1,development:Tt(t,Q(t)),esm:!0,test:!1,rtvVersion:wt(t),ssrReady:!1}}(i)}function wt(t){var i;return Pt||(Pt=(null===(i=t.AMP_CONFIG)||void 0===i?void 0:i.v)||"012401122240000"),Pt}function Tt(t,i){const s=i||Q(t);return["1","actions","amp","amp4ads","amp4email"].includes(s.development)||!!t.AMP_DEV_MODE}self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var Et=self.__AMP_LOG;function Mt(t,i){throw new Error("failed to call initLogConstructor")}function It(t){return Et.user||(Et.user=Rt()),function(t,i){return i&&i.ownerDocument.defaultView!=t}(Et.user.win,t)?Et.userForEmbed||(Et.userForEmbed=Rt()):Et.user}function Rt(t){return Mt()}function kt(){return Et.dev||(Et.dev=Mt())}function Vt(t,i,s,o,n,r,a,e,h,p,l){return t}function St(t,i,s,o,n,r,a,e,h,p,l){return It().assert(t,i,s,o,n,r,a,e,h,p,l)}function zt(t,i,s,o){Ht(t=Ut(t),t,i,s),o&&Ft(t,i)}function Ot(t,i){return Ft(t=Ut(t),i)}function Ct(t,i){return Gt(t=Ut(t),i)?Ft(t,i):null}function Nt(t,i){return Ft(jt($t(t)),i)}function Lt(t,i){const s=jt($t(t));return Gt(s,i)?Ft(s,i):null}function Dt(t,i){return Bt(jt(t),i)}function Ut(t){return t.__AMP_TOP||(t.__AMP_TOP=t)}function $t(t){return t.nodeType?(i=tt(t),Ot(i,"ampdoc")).getAmpDoc(t):t;var i}function jt(t){const i=$t(t);return i.isSingleDoc()?i.win:i}function Ft(t,i){Vt(Gt(t,i));const s=Yt(t)[i];return s.obj||(Vt(s.ctor),Vt(s.context),s.obj=new s.ctor(s.context),Vt(s.obj),s.context=null,s.resolve&&s.resolve(s.obj)),s.obj}function Ht(t,i,s,o,n,r){const a=Yt(t);let e=a[s];e||(e=a[s]={obj:null,promise:null,resolve:null,reject:null,context:null,ctor:null,sharedInstance:r||!1}),!n&&e.ctor||(e.ctor=o,e.context=i,e.sharedInstance=r||!1,e.resolve&&Ft(t,s))}function Bt(t,i){const s=Yt(t)[i];return s?s.promise?s.promise:(Ft(t,i),s.promise=Promise.resolve(s.obj)):null}function Yt(t){let i=t.__AMP_SERVICES;return i||(i=t.__AMP_SERVICES={}),i}function Gt(t,i){const s=t.__AMP_SERVICES&&t.__AMP_SERVICES[i];return!(!s||!s.ctor)}var Wt="__AMP__EXPERIMENT_TOGGLES";function qt(t,i){const s=function(t){var i,s,o,n,r;if(t[Wt])return t[Wt];t[Wt]=m();const e=t[Wt];u(e);const h=yt(yt({},null!==(i=t.AMP_CONFIG)&&void 0!==i?i:{}),null!==(s=t.AMP_EXP)&&void 0!==s?s:at((null===(o=t.__AMP_EXP)||void 0===o?void 0:o.textContent)||"{}"));for(const t in h){const i=h[t];"number"==typeof i&&i>=0&&i<=1&&(e[t]=Math.random()<i)}const p=null===(n=t.AMP_CONFIG)||void 0===n?void 0:n["allow-doc-opt-in"];if(a(p)&&p.length){const i=t.document.head.querySelector('meta[name="amp-experiments-opt-in"]');if(i){var l;const t=(null===(l=i.getAttribute("content"))||void 0===l?void 0:l.split(","))||[];for(const i of t)p.includes(i)&&(e[i]=!0)}}Object.assign(e,function(t){var i;let s="";try{var o;"localStorage"in t&&(s=null!==(o=t.localStorage.getItem("amp-experiment-toggles"))&&void 0!==o?o:"")}catch(t){}const n=(null===(i=s)||void 0===i?void 0:i.split(/\s*,\s*/g))||[],r=m();for(const t of n)t&&("-"==t[0]?r[t.substr(1)]=!1:r[t]=!0);return r}(t));const c=null===(r=t.AMP_CONFIG)||void 0===r?void 0:r["allow-url-opt-in"];if(a(c)&&c.length){const i=J(t.location.originalHash||t.location.hash);for(const t of c){const s=i[`e-${t}`];"1"==s&&(e[t]=!0),"0"==s&&(e[t]=!1)}}return e}(t);return!!s[i]}function Xt(t,i){return t.__AMP_EXPERIMENT_BRANCHES?t.__AMP_EXPERIMENT_BRANCHES[i]:null}var Kt="story-ad-auto-advance",Zt="31067116",Jt=(()=>self.AMP.config.urls)();function Qt(t,i,s,n){const r=Dt(t,i);if(r)return r;const a=$t(t);return a.whenExtensionsKnown().then((()=>{const t=a.getExtensionVersion(s);return t?Ot(a.win,"extensions").waitForExtension(s,t):null})).then((s=>s?n?Dt(t,i):function(t,i){return function(t,i){const s=Bt(t,i);if(s)return s;const n=Yt(t);return n[i]=function(){const t=new o,{promise:i,reject:s,resolve:n}=t;return i.catch((()=>{})),{obj:null,promise:i,resolve:n,reject:s,context:null,ctor:null}}(),n[i].promise}(jt(t),i)}(t,i):null))}var ti,ii,si=t=>Lt(t,"action"),oi=t=>Nt(t,"documentInfo").get(),ni=t=>Ot(t,"extensions"),ri=t=>Nt(t,"mutator"),ai=t=>Ot(t,"performance"),ei=t=>Ot(t,"platform"),hi=t=>Lt(t,"localization"),pi=t=>Ft(t,"timer"),li=t=>Lt(t,"url"),mi=t=>Nt(t,"viewer"),ci=t=>Ot(t,"vsync"),ui=t=>Ot(t,"xhr");function di(t,i,s,o){let n=t,r=s,a=t=>{try{return r(t)}catch(t){var i,s;throw null===(i=(s=self).__AMP_REPORT_ERROR)||void 0===i||i.call(s,t),t}};const e=function(){if(void 0!==ti)return ti;ti=!1;try{const t={get capture(){return ti=!0,!1}};self.addEventListener("test-options",null,t),self.removeEventListener("test-options",null,t)}catch(t){}return ti}(),h=!(null==o||!o.capture);return n.addEventListener(i,a,e?o:h),()=>{null==n||n.removeEventListener(i,a,e?o:h),r=null,n=null,a=null}}function fi(t,i,s,o){return di(t,i,s,o)}function gi(t){return t.detail}function yi(t,i,s,o){let n=s;const r=di(t,i,(t=>{try{n(t)}finally{n=null,r()}}),o);return r}var _i=class{constructor(){this.At=null}add(t){return this.At||(this.At=[]),this.At.push(t),()=>{this.remove(t)}}remove(t){this.At&&function(t,i){const s=t.indexOf(i);-1!=s&&t.splice(s,1)}(this.At,t)}removeAll(){this.At&&(this.At.length=0)}fire(t){if(this.At)for(const i of this.At.slice())i(t)}getHandlerCount(){var t,i;return null!==(t=null===(i=this.At)||void 0===i?void 0:i.length)&&void 0!==t?t:0}};function bi(t){const i=J(t).embedMode,s=parseInt(i,10);return 0===(o=s)||1===o||2===o||3===o||4===o?s:0;var o}function vi(t){return 3===bi(t.location.hash)}var Ai="amp-story",Pi=t=>{let i=(t=>Ct(t,"story-store"))(t);return i||(i=new Mi(t),zt(t,"story-store",(function(){return i}))),i},xi={CAN_INSERT_AUTOMATIC_AD:1,CAN_SHOW_AUDIO_UI:2,CAN_SHOW_NAVIGATION_OVERLAY_HINT:3,CAN_SHOW_PAGINATION_BUTTONS:4,CAN_SHOW_PREVIOUS_PAGE_HELP:5,CAN_SHOW_SHARING_UIS:6,CAN_SHOW_STORY_URL_INFO:7,CAN_SHOW_SYSTEM_LAYER_BUTTONS:8,VIEWER_CUSTOM_CONTROLS:9,AD_STATE:10,PAGE_ATTACHMENT_STATE:11,EDUCATION_STATE:12,GYROSCOPE_PERMISSION_STATE:13,INFO_DIALOG_STATE:14,INTERACTIVE_COMPONENT_STATE:15,INTERACTIVE_REACT_STATE:16,KEYBOARD_ACTIVE_STATE:17,MUTED_STATE:18,PAGE_HAS_AUDIO_STATE:19,PAGE_HAS_CAPTION_STATE:20,CAPTIONS_STATE:21,PAGE_HAS_ELEMENTS_WITH_PLAYBACK_STATE:22,PANNING_MEDIA_STATE:23,PAUSED_STATE:24,PREVIEW_STATE:25,RTL_STATE:26,SHARE_MENU_STATE:27,SHOPPING_DATA:28,STORY_HAS_BACKGROUND_AUDIO_STATE:29,STORY_HAS_PLAYBACK_UI_STATE:30,SYSTEM_UI_IS_VISIBLE_STATE:31,UI_STATE:32,DESKTOP_ASPECT_RATIO:33,ACTIONS_ALLOWLIST:34,CONSENT_ID:35,CURRENT_PAGE_ID:36,CURRENT_PAGE_INDEX:37,ADVANCEMENT_MODE:38,NAVIGATION_PATH:39,NEW_PAGE_AVAILABLE_ID:40,PAGE_IDS:41,PAGE_SIZE:42,SUBSCRIPTIONS_DIALOG_UI_STATE:43,SUBSCRIPTIONS_STATE:44,SUBSCRIPTIONS_PAGE_INDEX:45},wi=27,Ti=34,Ei={[xi.ACTIONS_ALLOWLIST]:(t,i)=>t.length!==i.length,[xi.INTERACTIVE_COMPONENT_STATE]:(t,i)=>t.element!==i.element||t.state!==i.state,[xi.NAVIGATION_PATH]:(t,i)=>t.length!==i.length,[xi.PAGE_IDS]:(t,i)=>t.length!==i.length,[xi.PAGE_SIZE]:(t,i)=>null===t||null===i||t.width!==i.width||t.height!==i.height,[xi.PANNING_MEDIA_STATE]:(t,i)=>null===t||null===i||!et(t,i,2),[xi.SHOPPING_DATA]:(t,i)=>null===t||null===i||!et(t,i,2),[xi.INTERACTIVE_REACT_STATE]:(t,i)=>!et(t,i,3)},Mi=class{constructor(t){this.i=t,this.Kt={},this.Mi=yt(yt({},this.aT()),this.hT())}get(t){if(c(this.Mi,t))return this.Mi[t];kt().error(Ai,"Unknown state %s.",t)}subscribe(t,i,s=!1){c(this.Mi,t)?(this.Kt[t]||(this.Kt[t]=new _i),this.Kt[t].add(i),s&&i(this.get(t))):kt().error(Ai,"Can't subscribe to unknown state %s.",t)}dispatch(t,i){const s=yt({},this.Mi);let o;this.Mi=((t,i,s)=>{switch(i){case 1:return yt(yt({},t),{},{[xi.INTERACTIVE_REACT_STATE]:yt(yt({},t[xi.INTERACTIVE_REACT_STATE]),{},{[s.interactiveId]:s})});case 2:return yt(yt({},t),{},{[xi.NEW_PAGE_AVAILABLE_ID]:s});case 3:const o=yt(yt({},t[xi.PANNING_MEDIA_STATE]),s);return yt(yt({},t),{},{[xi.PANNING_MEDIA_STATE]:o});case 4:const n=yt(yt({},t[xi.SHOPPING_DATA]),s);return yt(yt({},t),{},{[xi.SHOPPING_DATA]:n});case 5:const r=[].concat(t[xi.ACTIONS_ALLOWLIST],s);return yt(yt({},t),{},{[xi.ACTIONS_ALLOWLIST]:r});case 22:return yt(yt({},t),{},{[xi.PAGE_ATTACHMENT_STATE]:!!s});case 16:return yt(yt({},t),{},{[xi.AD_STATE]:!!s});case 17:return yt(yt({},t),{},{[xi.EDUCATION_STATE]:!!s});case 19:return yt(yt({},t),{},{[xi.PAUSED_STATE]:1===s.state,[xi.SYSTEM_UI_IS_VISIBLE_STATE]:!0,[xi.INTERACTIVE_COMPONENT_STATE]:s});case 18:return yt(yt({},t),{},{[xi.INFO_DIALOG_STATE]:!!s,[xi.PAUSED_STATE]:!!s});case 31:return yt(yt({},t),{},{[xi.STORY_HAS_PLAYBACK_UI_STATE]:!!s});case 30:return yt(yt({},t),{},{[xi.STORY_HAS_BACKGROUND_AUDIO_STATE]:!!s});case 21:return yt(yt({},t),{},{[xi.MUTED_STATE]:!!s});case 23:return yt(yt({},t),{},{[xi.PAGE_HAS_AUDIO_STATE]:!!s});case 24:return yt(yt({},t),{},{[xi.PAGE_HAS_CAPTIONS_STATE]:!!s});case 25:return yt(yt({},t),{},{[xi.CAPTIONS_STATE]:!!s});case 26:return yt(yt({},t),{},{[xi.PAGE_HAS_ELEMENTS_WITH_PLAYBACK_STATE]:!!s});case wi:return yt(yt({},t),{},{[xi.PAUSED_STATE]:!!s});case 28:return yt(yt({},t),{},{[xi.RTL_STATE]:!!s});case 20:return yt(yt({},t),{},{[xi.KEYBOARD_ACTIVE_STATE]:!!s});case 29:return yt(yt({},t),{},{[xi.PAUSED_STATE]:!!s,[xi.SHARE_MENU_STATE]:!!s});case Ti:return yt(yt({},t),{},{[xi.SYSTEM_UI_IS_VISIBLE_STATE]:!!s});case 35:return 3===t[xi.UI_STATE]&&3!==s?(kt().error(Ai,"Cannot switch away from UIType_Enum.VERTICAL"),t):yt(yt({},t),{},{[xi.UI_STATE]:s});case 9:return yt(yt({},t),{},{[xi.GYROSCOPE_PERMISSION_STATE]:s});case 8:return yt(yt({},t),{},{[xi.CONSENT_ID]:s});case 6:return yt(yt({},t),{},{[xi.CURRENT_PAGE_ID]:s.id,[xi.CURRENT_PAGE_INDEX]:s.index});case 7:return yt(yt({},t),{},{[xi.ADVANCEMENT_MODE]:s});case 10:return yt(yt({},t),{},{[xi.NAVIGATION_PATH]:s});case 11:return yt(yt({},t),{},{[xi.PAGE_IDS]:s});case 12:return yt(yt({},t),{},{[xi.PAGE_SIZE]:s});case 13:return yt(yt({},t),{},{[xi.VIEWER_CUSTOM_CONTROLS]:s});case 14:return yt(yt({},t),{},{[xi.SUBSCRIPTIONS_PAGE_INDEX]:s});case 32:return yt(yt({},t),{},{[xi.SUBSCRIPTIONS_DIALOG_UI_STATE]:!!s,[xi.PAUSED_STATE]:!!s});case 33:return yt(yt({},t),{},{[xi.SUBSCRIPTIONS_STATE]:s});case 15:return yt(yt({},t),{},{[xi.DESKTOP_ASPECT_RATIO]:s});default:return kt().error(Ai,"Unknown action %s.",i),t}})(this.Mi,t,i),Object.keys(this.Kt).forEach((t=>{o=Ei[t],(o?o(s[t],this.Mi[t]):s[t]!==this.Mi[t])&&this.Kt[t].fire(this.Mi[t])}))}aT(){return{[xi.CAN_INSERT_AUTOMATIC_AD]:!0,[xi.CAN_SHOW_AUDIO_UI]:!0,[xi.CAN_SHOW_NAVIGATION_OVERLAY_HINT]:!0,[xi.CAN_SHOW_PREVIOUS_PAGE_HELP]:!0,[xi.CAN_SHOW_PAGINATION_BUTTONS]:!0,[xi.CAN_SHOW_SHARING_UIS]:!0,[xi.CAN_SHOW_STORY_URL_INFO]:!0,[xi.CAN_SHOW_SYSTEM_LAYER_BUTTONS]:!0,[xi.VIEWER_CUSTOM_CONTROLS]:[],[xi.AD_STATE]:!1,[xi.EDUCATION_STATE]:!1,[xi.GYROSCOPE_PERMISSION_STATE]:"",[xi.INFO_DIALOG_STATE]:!1,[xi.INTERACTIVE_COMPONENT_STATE]:{state:0},[xi.INTERACTIVE_REACT_STATE]:{},[xi.KEYBOARD_ACTIVE_STATE]:!1,[xi.MUTED_STATE]:!0,[xi.PAGE_ATTACHMENT_STATE]:!1,[xi.PAGE_HAS_AUDIO_STATE]:!1,[xi.PAGE_HAS_CAPTIONS_STATE]:!1,[xi.CAPTIONS_STATE]:!0,[xi.PAGE_HAS_ELEMENTS_WITH_PLAYBACK_STATE]:!1,[xi.PANNING_MEDIA_STATE]:{},[xi.PAUSED_STATE]:!1,[xi.RTL_STATE]:!1,[xi.SHARE_MENU_STATE]:!1,[xi.SHOPPING_DATA]:{},[xi.STORY_HAS_BACKGROUND_AUDIO_STATE]:!1,[xi.STORY_HAS_PLAYBACK_UI_STATE]:!1,[xi.SYSTEM_UI_IS_VISIBLE_STATE]:!0,[xi.UI_STATE]:0,[xi.ACTIONS_ALLOWLIST]:[],[xi.CONSENT_ID]:null,[xi.CURRENT_PAGE_ID]:"",[xi.CURRENT_PAGE_INDEX]:0,[xi.ADVANCEMENT_MODE]:"",[xi.NEW_PAGE_AVAILABLE_ID]:"",[xi.NAVIGATION_PATH]:[],[xi.PAGE_IDS]:[],[xi.PAGE_SIZE]:null,[xi.PREVIEW_STATE]:!1,[xi.SUBSCRIPTIONS_DIALOG_UI_STATE]:!1,[xi.SUBSCRIPTIONS_STATE]:0,[xi.SUBSCRIPTIONS_PAGE_INDEX]:-1,[xi.DESKTOP_ASPECT_RATIO]:0}}hT(){switch(bi(this.i.location.hash)){case 1:return{[xi.CAN_INSERT_AUTOMATIC_AD]:!1,[xi.CAN_SHOW_NAVIGATION_OVERLAY_HINT]:!1,[xi.CAN_SHOW_PAGINATION_BUTTONS]:!1,[xi.CAN_SHOW_PREVIOUS_PAGE_HELP]:!0,[xi.CAN_SHOW_SYSTEM_LAYER_BUTTONS]:!1,[xi.MUTED_STATE]:!1};case 2:return{[xi.CAN_SHOW_SHARING_UIS]:!1};case 3:return{[xi.PREVIEW_STATE]:!0,[xi.CAN_INSERT_AUTOMATIC_AD]:!1,[xi.CAN_SHOW_NAVIGATION_OVERLAY_HINT]:!1,[xi.CAN_SHOW_PAGINATION_BUTTONS]:!1,[xi.CAN_SHOW_PREVIOUS_PAGE_HELP]:!1,[xi.CAN_SHOW_SYSTEM_LAYER_BUTTONS]:!1};case 4:return{[xi.CAN_SHOW_AUDIO_UI]:!1,[xi.CAN_SHOW_SHARING_UIS]:!1,[xi.CAN_SHOW_STORY_URL_INFO]:!1};default:return{}}}},Ii="ampstory:switchpage",Ri="ampstory:previouspage",ki="ampstory:nextpage",Vi="ampstory:pageprogress",Si="ampstory:replay",zi="ampstory:nonextpage",Oi="ampstory:nopreviouspage";function Ci(t,i,s,o,n){const r=function(t,i,s,o){const n={detail:s};return Object.assign(n,o),new t.CustomEvent(i,n)}(t,s,o,n);i.dispatchEvent(r)}var Ni,Li,Di="storyPageCount",Ui="storyIsMuted",$i="storyProgress",ji="storyAdvancementMode",Fi=t=>{let i=(t=>Ct(t,"story-variable"))(t);return i||(i=new Hi(t),zt(t,"story-variable",(function(){return i}))),i},Hi=class{constructor(t){this.lT={storyInteractiveId:null,storyInteractiveResponse:null,storyInteractiveType:null,storyPageIndex:null,storyPageId:null,[Di]:null,[$i]:null,[Ui]:null,storyPreviousPageId:null,storyPreviousPageIndex:null,[ji]:null,storyShoppingProductId:null},this.pT=Pi(t),this.mT()}mT(){this.pT.subscribe(xi.PAGE_IDS,(()=>this.cT())),this.pT.subscribe(xi.CURRENT_PAGE_ID,(()=>this.cT()),!0)}cT(){const t=this.pT.get(xi.PAGE_IDS),i=t.filter((t=>!t.startsWith("i-amphtml-ad-"))).length;this.lT.storyPageCount=i;const s=this.pT.get(xi.CURRENT_PAGE_ID);if(!s)return;this.lT.storyPreviousPageId=this.lT.storyPageId,this.lT.storyPageId=s;const o=this.pT.get(xi.CURRENT_PAGE_INDEX),n=t.slice(0,o).filter((t=>t.startsWith("i-amphtml-ad-"))).length;this.lT.storyPreviousPageIndex=this.lT.storyPageIndex,this.lT.storyPageIndex=o-n,1===i?this.lT.storyProgress=0:i>1&&(this.lT.storyProgress=(o-n)/(i-1))}onVariableUpdate(t,i){this.lT[t]=i}get(){return this.lT}},Bi="__AMP_ANALYTICS_TAG_NAME__",Yi="story-open",Gi="story-close",Wi="manualAdvance",qi=(t,i)=>{let s=(t=>Ct(t,"story-analytics"))(t);return s||(s=new Xi(t,i),zt(t,"story-analytics",(function(){return s}))),s},Xi=class{constructor(t,i){this.i=t,this.yp=i,this.uT=Fi(t),this.dT=m(),this.pT=Pi(t),this.mT()}mT(){this.pT.subscribe(xi.CURRENT_PAGE_ID,(t=>{const i=this.pT.get(xi.AD_STATE);if(!t||i)return;this.triggerEvent("story-page-visible");const s=this.pT.get(xi.PAGE_IDS);this.pT.get(xi.CURRENT_PAGE_INDEX)===s.length-1&&this.triggerEvent("story-last-page-visible")}),!0)}triggerEvent(t,i=null){this.fT(t),$t(this.yp).whenNextVisible().then((()=>function(t,i,s={},o=!0){(t=>Qt(t,"amp-analytics-instrumentation","amp-analytics"))(t).then((n=>{n&&n.triggerEventForTarget(t,i,s,o)}))}(this.yp,t,this.updateDetails(t,i))))}updateDetails(t,i=null){const s={},o=this.uT.get(),n=o.storyPageId;return this.dT[n][t]>1&&(s.repeated=!0),i&&(s.tagName=i[Bi]||i.tagName.toLowerCase(),Object.assign(o,function(t,i,s){const{dataset:o}=t,n={},r=/^vars(.+)/||/^param(.+)/;for(const t in o){const i=t.match(r);i&&(n[i[1][0].toLowerCase()+i[1].substr(1)]=o[t])}return n}(i))),yt({eventDetails:s},o)}fT(t){const i=this.uT.get().storyPageId;this.dT[i]=this.dT[i]||{},this.dT[i][t]=this.dT[i][t]||0,this.dT[i][t]++}},Ki="none",Zi="v0";function Ji(t){return void 0===Ni&&(i=t||Element,Ni=i.prototype.attachShadow?"v1":i.prototype.createShadowRoot?Zi:Ki),Ni;var i}function Qi(t,i,s){var o="";return t&&Array.prototype.forEach.call(t,(function(t){if(t.selectorText&&t.style&&void 0!==t.style.cssText)o+=function(t,i,s){var o=[];return t.split(",").forEach((function(t){t=t.trim(),s&&(t=s(t)),function(t,i){var s=function(t){return t=t.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),new RegExp("^("+t+")"+ss,"m")}(i);return!t.match(s)}(t,i)&&(t=function(t,i){return function(t,i){return t.match(ns)?(t=t.replace(os,i)).replace(ns,i+" "):i+" "+t}(t,i)}(t,i)),o.push(t)})),o.join(", ")}(t.selectorText,i,s)+" {\n\t",o+=function(t){var i=t.style.cssText;t.style.content&&!t.style.content.match(/['"]+|attr/)&&(i=i.replace(/content:[^;]*;/g,"content: '"+t.style.content+"';"));var s=t.style;for(var o in s)"initial"===s[o]&&(i+=o+": initial; ");return i}(t)+"\n}\n\n";else if(t.type===CSSRule.MEDIA_RULE)o+="@media "+t.media.mediaText+" {\n",o+=Qi(t.cssRules,i),o+="\n}\n\n";else try{t.cssText&&(o+=t.cssText+"\n\n")}catch(t){}})),o}var ts="-shadowcsshost",is=")(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",ss=(new RegExp("("+ts+is,"gim"),new RegExp("(-shadowcsscontext"+is,"gim"),"([>\\s~+[.,{:][\\s\\S]*)?$"),os=ts+"-no-combinator",ns=new RegExp(ts,"gim"),rs=(new RegExp("-shadowcsscontext","gim"),"vcs"),as="verr",es=/[^\.\-\_0-9a-zA-Z]/,hs=/[^\-\_0-9a-zA-Z]/;function ps(t){const i=tt(t),s=t.shadowRoot||t.__AMP_SHADOW_ROOT;if(s){if(self.trustedTypes&&self.trustedTypes.createPolicy){const t=self.trustedTypes.createPolicy("shadow-embed#createShadowRoot",{createHTML:function(t){return""}});s.innerHTML=t.createHTML("")}else s.innerHTML="";return s}let o;const n=Ji();if("v1"==n?(o=t.attachShadow({mode:"open"}),o.styleSheets||Object.defineProperty(o,"styleSheets",{get:function(){const t=[];return o.childNodes.forEach((i=>{"STYLE"===i.tagName&&t.push(i.sheet)})),t}})):o=n==Zi?t.createShadowRoot():function(t){const i=t.ownerDocument;t.classList.add("i-amphtml-shadow-host-polyfill");const s=i.createElement("style");s.textContent=".i-amphtml-shadow-host-polyfill>:not(i-amphtml-shadow-root){display:none!important}",t.appendChild(s);const o=i.createElement("i-amphtml-shadow-root");return t.appendChild(o),t.__AMP_SHADOW_ROOT=o,Object.defineProperty(t,"shadowRoot",{enumerable:!0,configurable:!0,value:o}),o.host=t,o.getElementById=function(t){const i=f(t);return o.querySelector(`#${i}`)},Object.defineProperty(o,"styleSheets",{get:()=>i.styleSheets?r(i.styleSheets).filter((t=>o.contains(t.ownerNode))):[]}),o}(t),!function(){if(void 0!==Li)return Li;if(Ji()==Ki)Li=!1;else{const i=Ji()===Zi?self.document.createElement("div").createShadowRoot():self.document.createElement("div").attachShadow({mode:"open"});t=ShadowRoot,Li=!!t&&-1!=t.toString().indexOf("[native code]")&&i instanceof ShadowRoot}var t;return Li}()){const t=`i-amphtml-sd-${i.Math.floor(1e4*i.Math.random())}`;o.id=t,o.host.classList.add(t),a=t=>function(t,i){return function(t,i){const s=Vt(t.id),o=t.ownerDocument;let n=null;try{n=cs(o.implementation.createHTMLDocument(""),i)}catch(t){}if(!n)try{n=cs(o,i)}catch(t){}return n?Qi(n,`.${s}`,ls):i}(t,i)}(o,t),o.__AMP_CSS_TR=a}var a;return o}function ls(t){return t.replace(/(html|body)/g,ms)}function ms(t,i,s,o){const n=o.charAt(s-1),r=o.charAt(s+t.length);return n&&!es.test(n)||r&&!hs.test(r)?t:"amp-"+t}function cs(t,i){const s=t.createElement("style");s.textContent=i;try{return(t.head||t.documentElement).appendChild(s),s.sheet?s.sheet.cssRules:null}finally{s.parentNode&&s.parentNode.removeChild(s)}}function us(t,i=NaN){const s=t.toLowerCase().match(/^([0-9\.]+)\s*(s|ms)$/),o=s?s[1]:void 0,n=s?s[2]:void 0;return!s||3!==s.length||"s"!==n&&"ms"!==n?i:Math.round(("s"==n?1e3:1)*parseFloat(o))}function ds(t){const{height:i,left:s,top:o,width:n}=t.getBoundingClientRect(),r=0==n?1:n/t.offsetWidth,a=0==i?1:i/t.offsetHeight;return{left:s/r,top:o/a,width:n/r,height:i/a}}function fs(t){return A(t,"amp-video, amp-audio")}function gs(t,i,s){const o=self.document.createElement("style");o.textContent=s;const n=ps(t);return n.appendChild(o),n.appendChild(i),t}function ys(t,i,s){const o=s||"";t.mutateElement((()=>{t.element.setAttribute(i,o)}))}function _s(t,i){t.mutateElement((()=>{t.element.removeAttribute(i)}))}function bs(t,i){if(!i.get(xi.CAN_SHOW_STORY_URL_INFO))return!1;const s=t.getParam("showStoryUrlInfo");return s?"0"!==s:t.isEmbedded()}function vs(t,i,s){const o=A(t,"AMP-STORY"),n=o.getAttribute(i);return n?li(o).assertHttpsUrl(n,o,i):null}function As(t,i){const s=t.cloneNode();L(s,!1),i.appendChild(s),s.click(),s.remove()}function Ps(t){return t.getRootNode().documentElement.hasAttribute("transformed")}var xs="i-amphtml-tooltip-action-icon-launch",ws="i-amphtml-story-tooltip-theme-dark",Ts={"amp-twitter":{customIconClassName:"amp-social-share-twitter-no-background",actionIcon:xs,selector:"amp-twitter[interactive]"}},Es=yt({"a":{actionIcon:xs,selector:"a[href]"}},Ts);function Ms(){return Object.values(function(t){const i={};return Object.keys(t).forEach((s=>{i[s]=t[s].selector})),i}(Es)).join(",")}var Is="amp-story-embedded-component",Rs="default",ks=/\w+/gi;function Vs(t,i,s){for(const n of i){var o;const i=null===(o=t[n])||void 0===o?void 0:o[s];if(null!=i)return i.string||i}return null}var Ss=["af","am","ar","bg","bn","bs","ca","cs","da","de","el","en-GB","en","es-419","es","et","eu","fa","fi","fil","fr","gl","gu","hi","hr","hu","id","is","it","iw","ja","ka","km","kn","ko","lo","lt","lv","mk","ml","mn","mr","ms","my","ne","nl","no","pa","pl","pt-BR","pt-PT","ro","ru","si","sk","sl","sq","sr","sv","sw","ta","te","th","tr","uk","ur","vi","zh-CN","zh-TW","zu"];function zs(t){let i=hi(t);return i||(i=new class{constructor(t){this.yp=t,this._T=mi(t).getParam("lang"),this.gT={},this.yT=new _i}getLanguageCodesForElement(t){const i=v(t,(t=>t.hasAttribute("lang"))),s=function(t){if(!t)return["en",Rs];const i=t.match(ks)||[];return i.reduce(((t,s,o)=>{const n=i.slice(0,o+1).join("-").toLowerCase();return t.unshift(n),t}),[Rs])}((i?i.getAttribute("lang"):null)||"");return this._T&&s.unshift(this._T),s}registerLocalizedStringBundles(t){Object.keys(t).forEach((i=>{const s=i.toLowerCase();this.gT[s]||(this.gT[s]={}),Object.assign(this.gT[s],t[i])})),this.yT.fire()}getLocalizedString(t,i=this.yp){const s=this.getLanguageCodesForElement(i);return Vs(this.gT,s,t)}getLocalizedStringAsync(t){const i=this.getLanguageCodesForElement(this.yp),s=Vs(this.gT,i,t);return null!==s?Promise.resolve(s):new Promise((s=>{const o=this.yT.add((()=>{const n=Vs(this.gT,i,t);n&&(o(),s(n))}))}))}}(t),function(t,s,o,n){const r=$t(t);Ht(jt(r),r,"localization",(function(){return i}))}(t)),i}function Os(t,i){const s=hi(i),o=ci(tt(i)),n=[];return t.querySelectorAll("[i-amphtml-i18n-aria-label]").forEach((t=>{n.push(s.getLocalizedStringAsync(t.getAttribute("i-amphtml-i18n-aria-label")).then((i=>t.setAttribute("aria-label",i)))),t.removeAttribute("i-amphtml-i18n-aria-label")})),t.querySelectorAll("[i-amphtml-i18n-text-content]").forEach((i=>{n.push(s.getLocalizedStringAsync(i.getAttribute("i-amphtml-i18n-text-content")).then((s=>t.isConnected?o.mutatePromise((()=>{i.textContent=s})):i.textContent=s))),i.removeAttribute("i-amphtml-i18n-text-content")})),Promise.all(n)}function Cs(t){var i;return!(null===(i=t.matchMedia("(prefers-reduced-motion: reduce)"))||void 0===i||!i.matches)}function Ns(t,i,s,o){return[{transform:j(t,i)},{transform:j(s,o)}]}function Ls(t,i,s,o,n){return[{transform:j(t,i)+" "+H(120*n)},{transform:j(s,o)+" "+H(0)}]}function Ds(t,i,s,o){return[{opacity:0,transform:j(t,i)+" "+F(.15)},{opacity:1,transform:j(s,o)+" "+F(1)}]}function Us(t){if(function(t){return t.targetWidth<=t.pageWidth||t.targetHeight<=t.pageHeight}(t)){const i=1.25,s=t.pageWidth>t.targetWidth?t.pageWidth/t.targetWidth:1,o=t.pageHeight>t.targetHeight?t.pageHeight/t.targetHeight:1;return Math.max(s,o)*i}return 1}function $s(t,i,s,o,n){return 1===n?Ns(t,i,s,o):function(t,i){return t.forEach((t=>{t.transform+=" "+F(i),t["transform-origin"]="left top"})),t}(Ns(t,i,s,o),n)}var js=["scale-start","scale-end","pan-scaling-factor","translate-x","translate-y"],Fs=["pan-up","pan-down","pan-right","pan-left","zoom-in","zoom-out"],Hs="i-amphtml-story-grid-template-with-full-bleed-animation",Bs={"pulse":{duration:600,easing:"cubic-bezier(0.3, 0.0, 0.0, 1)",keyframes:[{offset:0,transform:"scale(1)"},{offset:.25,transform:"scale(0.95)"},{offset:.75,transform:"scale(1.05)"},{offset:1,transform:"scale(1)"}]},"fly-in-left":{duration:600,easing:"cubic-bezier(0.2, 0.6, 0.0, 1)",keyframes:t=>Ns(-(t.targetX+t.targetWidth),0,0,0)},"fly-in-right":{duration:600,easing:"cubic-bezier(0.2, 0.6, 0.0, 1)",keyframes:t=>Ns(t.pageWidth-t.targetX,0,0,0)},"fly-in-top":{duration:600,easing:"cubic-bezier(0.2, 0.6, 0.0, 1)",keyframes:t=>Ns(0,-(t.targetY+t.targetHeight),0,0)},"fly-in-bottom":{duration:600,easing:"cubic-bezier(0.2, 0.6, 0.0, 1)",keyframes:t=>Ns(0,t.pageHeight-t.targetY,0,0)},"rotate-in-left":{duration:1e3,easing:"cubic-bezier(0.4, 0.4, 0.0, 1)",keyframes:t=>Ls(-(t.targetX+t.targetWidth),0,0,0,-1)},"rotate-in-right":{duration:1e3,easing:"cubic-bezier(0.4, 0.4, 0.0, 1)",keyframes:t=>Ls(t.pageWidth-t.targetX,0,0,0,1)},"fade-in":{duration:600,easing:"cubic-bezier(0.4, 0.4, 0.0, 1)",keyframes:[{opacity:0},{opacity:1}]},"scale-fade-up":{duration:600,easing:"cubic-bezier(0.4, 0.4, 0.0, 1)",keyframes:[{opacity:0,transform:"scale(0.8)"},{opacity:1,transform:"scale(1)"}]},"scale-fade-down":{duration:600,easing:"cubic-bezier(0.4, 0.4, 0.0, 1)",keyframes:[{opacity:0,transform:"scale(1.4)"},{opacity:1,transform:"scale(1)"}]},"drop":{duration:1600,easing:"linear",keyframes(t){const i=Math.max(160,t.targetY+t.targetHeight);return[{offset:0,transform:`translateY(${D(Number(-i))})`,easing:"cubic-bezier(.5, 0, 1, 1)"},{offset:.29,transform:"translateY(0)",easing:"cubic-bezier(0, 0, .5, 1)"},{offset:.45,transform:`translateY(${D(.2812*-i)})`,easing:"cubic-bezier(.5, 0, 1, 1)"},{offset:.61,transform:"translateY(0)",easing:"cubic-bezier(0, 0, .5, 1)"},{offset:.71,transform:`translateY(${D(.0956*-i)})`,easing:"cubic-bezier(.5, 0, 1, 1)"},{offset:.8,transform:"translateY(0)",easing:"cubic-bezier(0, 0, .5, 1)"},{offset:.85,transform:`translateY(${D(.0359*-i)})`,easing:"cubic-bezier(.5, 0, 1, 1)"},{offset:.92,transform:"translateY(0)",easing:"cubic-bezier(0, 0, .5, 1)"},{offset:.96,transform:`translateY(${D(.0156*-i)})`,easing:"cubic-bezier(.5, 0, 1, 1)"},{offset:1,transform:"translateY(0)",easing:"cubic-bezier(0, 0, .5, 1)"}]}},"twirl-in":{duration:1e3,easing:"cubic-bezier(0.4, 0.4, 0.0, 1)",keyframes:[{transform:"rotate(-540deg) scale(0.1)",opacity:0},{transform:"none",opacity:1}]},"whoosh-in-left":{duration:600,easing:"cubic-bezier(0.4, 0.4, 0.0, 1)",keyframes:t=>Ds(-(t.targetX+t.targetWidth),0,0,0)},"whoosh-in-right":{duration:600,easing:"cubic-bezier(0.4, 0.4, 0.0, 1)",keyframes:t=>Ds(t.pageWidth-t.targetX,0,0,0)},"pan-left":{duration:1e3,easing:"linear",keyframes(t,i){var s;const o=i["translate-x"],n=null!==(s=i["pan-scaling-factor"])&&void 0!==s?s:Us(t);t.targetWidth*=n,t.targetHeight*=n;const r=t.pageWidth-t.targetWidth,a=(t.pageHeight-t.targetHeight)/2;return $s(r,a,o?r+o:0,a,n)}},"pan-right":{duration:1e3,easing:"linear",keyframes(t,i){var s;const o=i["translate-x"],n=null!==(s=i["pan-scaling-factor"])&&void 0!==s?s:Us(t);t.targetWidth*=n,t.targetHeight*=n;const r=t.pageWidth-t.targetWidth,a=(t.pageHeight-t.targetHeight)/2;return $s(0,a,-o||r,a,n)}},"pan-down":{duration:1e3,easing:"linear",keyframes(t,i){var s;const o=i["translate-y"],n=null!==(s=i["pan-scaling-factor"])&&void 0!==s?s:Us(t);t.targetWidth*=n,t.targetHeight*=n;const r=.5*(t.pageWidth-t.targetWidth),a=t.pageHeight-t.targetHeight;return $s(r,0,r,-o||a,n)}},"pan-up":{duration:1e3,easing:"linear",keyframes(t,i){var s;const o=i["translate-y"],n=null!==(s=i["pan-scaling-factor"])&&void 0!==s?s:Us(t);t.targetWidth*=n,t.targetHeight*=n;const r=.5*(t.pageWidth-t.targetWidth),a=t.pageHeight-t.targetHeight;return $s(r,a,r,o?a+o:0,n)}},"zoom-in":{duration:1e3,easing:"linear",keyframes(t,i){const s=i["scale-start"],o=i["scale-end"];return s&&St(o>s,'"scale-end" value must be greater than "scale-start" value when using "zoom-in" animation.'),[{transform:`scale(${s||1})`},{transform:`scale(${o||3})`}]}},"zoom-out":{duration:1e3,easing:"linear",keyframes(t,i){const s=i["scale-start"],o=i["scale-end"];return s&&St(s>o,'"scale-start" value must be higher than "scale-end" value when using "zoom-out" animation.'),[{transform:`scale(${s||3})`},{transform:`scale(${o||1})`}]}}},Ys="animate-in-duration",Gs="animate-in-delay",Ws="animate-in-after",qs="animate-in-timing-function";function Xs(t,i){if(!i.hasAttribute(Ws))return null;const s=i.getAttribute(Ws);return t.querySelector(`#${f(s)}`)?s:null}var Ks=class t{constructor(t,i,s,o,n){const{preset:r,source:a,spec:e,startAfterId:h}=i;if(this.AT=t,this.PT=a,this.Kh=o,this.bT=r?e.target:null,this.vT=n,this.TT=h,this.ET=this.xT(i),this.MT=this.ET.then((t=>s.then((i=>i.createRunner(t))))),this.wT=this.ET.then((t=>{const{keyframes:i}=t;return this.bT?(Vt(!i[0].offset),s=i[0],o=["offset"],Object.keys(s).reduce(((t,i)=>(o.includes(i)||(t[i]=s[i]),t)),{})):null;var s,o})),this.IT=null,this.RT=null,this.VT=null,this.bT){const{delay:t}=e;St(t>=0,'Negative delays are not allowed in amp-story "animate-in" animations.')}this.MT.then((t=>this.kT(t)))}static create(i,s,o,n,r){return new t(i,s,o,n,r)}getDims(){return this.Kh.measurePromise((()=>{const t=ds(this.bT),i=ds(this.AT);return{pageWidth:i.width,pageHeight:i.height,targetWidth:t.width,targetHeight:t.height,targetX:t.left-i.left,targetY:t.top-i.top}}))}ST(t,i){return"function"==typeof t?this.getDims().then((s=>t(s,i||{}))):Promise.resolve(t)}xT(t){const{keyframeOptions:i,preset:s,spec:o}=t;if(!s)return Promise.resolve(o);const{delay:n,duration:r,easing:a}=o,{target:e}=o;return this.ST(s.keyframes,i).then((t=>({keyframes:t,target:e,delay:n,duration:r,easing:a,fill:"forwards"})))}applyFirstFrame(){return this.hasStarted()?s():(this.IT&&this.IT.cancel(),this.wT.then((t=>{if(t)return this.Kh.mutatePromise((()=>{N(this.bT,G(Vt(t)))}))})))}applyLastFrame(){if(this.bT)return s();this.MT.then((t=>{t.init(),t.finish(!0)}))}start(){this.hasStarted()||this.OT(0,this.CT())}CT(){return this.TT?this.vT.waitFor(this.TT):s()}zT(t){t.start()}hasStarted(){return this.NT(0)||!!this.IT&&"running"==Vt(this.IT).getPlayState()}finish(){this.IT||this.LT(),this.OT(1)}pause(){if(null===this.VT&&this.IT)try{this.IT.pause()}catch(t){}}resume(){if(null===this.VT&&this.IT)try{this.IT.resume()}catch(t){}}DT(t){this.IT&&(t.start(),t.finish())}cancel(){this.RT=null,this.VT=null,this.IT&&Vt(this.IT).cancel()}OT(t,i){const s=i||null;this.RT=t,this.VT=s,this.IT&&this.UT(t,s)}UT(t,i){const o=Vt(this.IT);(i||s()).then((()=>{if(this.NT(t))switch(this.RT=null,this.VT=null,t){case 0:return this.zT(o);case 1:return this.DT(o)}}))}kT(t){this.IT=t,t.onPlayStateChanged((t=>{"finished"==t&&this.LT()})),this.NT()&&this.UT(this.RT,this.VT)}NT(t){return t?this.RT===t:null!==this.RT}LT(){this.PT.id&&this.vT.notifyFinish(this.PT.id)}},Zs=class t{constructor(t,i){this.AT=t,this.ji=i,this.Kh=ci(this.ji.win),this.$T=this.jT();const s=qt(i.win,"story-disable-animations-first-page")||vi(i.win)||Ps(i);this.FT=Cs(i.win)||s&&b(t,"amp-story-page:first-of-type"),this.HT=null,this.vT=Js.create()}static create(i,s,o){return new t(i,s)}applyFirstFrameOrFinish(){return Promise.all(this.BT().map((t=>this.FT?t.applyLastFrame():t.applyFirstFrame())))}applyLastFrame(){return Promise.all(this.BT().map((t=>t.applyLastFrame())))}animateIn(){this.FT||this.YT().forEach((t=>t.start()))}finishAll(){this.YT().forEach((t=>t.finish()))}cancelAll(){this.HT&&this.YT().forEach((t=>t.cancel()))}pauseAll(){this.HT&&!this.FT&&this.YT().forEach((t=>t.pause()))}resumeAll(){this.HT&&!this.FT&&this.YT().forEach((t=>t.resume()))}hasAnimationStarted(){return this.YT().some((t=>t.hasStarted()))}YT(){return Vt(this.HT)}BT(){return this.HT||(this.HT=Array.prototype.map.call(_(this.AT,"[animate-in]"),(t=>{const i=this.GT(t);return i?this.WT({preset:i,source:t,startAfterId:Xs(this.AT,t),keyframeOptions:this.qT(t),spec:this.XT(t,i)}):null})).concat(Array.prototype.map.call(this.AT.querySelectorAll("amp-story-animation[trigger=visibility]"),(t=>this.WT({source:t,startAfterId:Xs(this.AT,t),spec:ut(t)})))).concat(Array.prototype.map.call(this.AT.querySelectorAll("amp-bodymovin-animation"),(t=>new Qs(t)))).filter(Boolean)),Vt(this.HT)}WT(t){return Ks.create(this.AT,t,Vt(this.$T),this.Kh,this.vT)}XT(t,i){const s={target:t,delay:i.delay||0,duration:i.duration||0,easing:i.easing||"cubic-bezier(0.4, 0.0, 0.2, 1)",keyframes:[]};return t.hasAttribute(Ys)&&(s.duration=us(t.getAttribute(Ys),s.duration)),t.hasAttribute(Gs)&&(s.delay=us(t.getAttribute(Gs),s.delay)),t.hasAttribute(qs)&&(s.easing=t.getAttribute(qs)),s}jT(){return ni(this.ji.win).installExtensionForDoc(this.ji,"amp-animation").then((()=>function(t,i,s,o){return Qt(t,"web-animation",s,void 0).then((t=>function(t,i,s){return St(t,"Service %s was requested to be provided through %s, but %s is not loaded in the current page. To fix this problem load the JavaScript file for %s in this page.","web-animation",s,s,s)}(t,0,s)))}(this.AT,0,"amp-animation"))).then((t=>t.createBuilder({scope:this.AT,scaleByScope:!0})))}GT(t){const i=t.getAttribute("animate-in");return Bs[i]?(function(t,i){Fs.indexOf(i)>=0&&t.parentElement.classList.add(Hs)}(t,i),Bs[i]):null}qT(t){const i={};return js.forEach((s=>{if(!t.hasAttribute(s))return;const o=parseFloat(t.getAttribute(s));isNaN(o)||o<=0||(i[s]=o)})),i}},Js=class t{constructor(){this.KT=m(),this.ZT=m()}static create(){return new t}notifyFinish(t){t in this.KT&&(Vt(this.ZT[t])(),delete this.KT[t])}waitFor(t){if(!(t in this.KT)){const i=new o;this.KT[t]=i.promise,this.ZT[t]=i.resolve}return this.KT[t]}},Qs=class{constructor(t){this.JT=t,this.pause()}pause(){this.QT("pause")}resume(){this.QT("play")}start(){this.applyFirstFrame(),this.resume()}applyFirstFrame(){this.QT("seekTo",{percent:0})}applyLastFrame(){this.QT("seekTo",{percent:1})}cancel(){this.pause()}QT(t,i=null){this.JT.getImpl().then((s=>{s.executeAction({method:t,args:i,satisfiesTrust:()=>!0})}))}};function to(t,i=!0){if(!t.hasAttribute("background-audio"))return null;const s=t.ownerDocument.createElement("audio"),o=li(t).assertHttpsUrl(t.getAttribute("background-audio"),t);return s.setAttribute("src",o),s.setAttribute("preload","auto"),i&&s.setAttribute("loop",""),s.setAttribute("autoplay",""),s.setAttribute("muted",""),s.muted=!0,s.classList.add("i-amphtml-story-background-audio"),t.appendChild(s),s}var io=class t{constructor(t=null,i=[],s=[]){this.hE=t,this.pE=i,this.mE=s}cE(t){this.mE.forEach((i=>{const s=document.createElement("track");s.id=i.id,s.kind=i.kind,s.label=i.label,s.srclang=i.srclang,s.default=i.default,s.src=i.src,s.addEventListener("load",(()=>{s.mode="showing",t.textTracks[0].mode="showing"})),t.appendChild(s)}))}applyToElement(i,s){if(t.removeFrom(i,s),this.hE?s.setAttribute("src",this.hE):s.removeAttribute("src"),this.pE.forEach((t=>s.appendChild(t))),s.changedSources&&s.changedSources(),this.mE.length>0)if(s.readyState>=1)this.cE(s);else{const t=()=>{s.removeEventListener("loadedmetadata",t),this.cE(s)};s.addEventListener("loadedmetadata",t)}}static removeFrom(i,s){let o;o="VIDEO"===s.tagName?s:fs(s)||s;let n=null;o.hasAttribute("src")&&(n=t.createSourceElement(i,o),o.removeAttribute("src"));const a=r(o.querySelectorAll("source"));a.forEach((t=>ht(t)));const e=r(o.querySelectorAll("track"));return e.forEach((t=>ht(t))),new t(null,n?[n]:a,e)}static createSourceElement(t,i){const s=t.document.createElement("source"),o=i.getAttribute("src");s.setAttribute("src",o);const n=i.getAttribute("amp-orig-src");n&&s.setAttribute("amp-orig-src",n);const r=i.getAttribute("type");return r&&s.setAttribute("type",r),s}},so=["i-amphtml-pool-media","i-amphtml-pool-audio","i-amphtml-pool-video"],oo=["id","src","class","autoplay"];function no(t){return so.indexOf(t)>=0}function ro(t){return oo.indexOf(t)>=0}function ao(t,i){for(let t=i.classList.length-1;t>=0;t--){const s=i.classList.item(t);no(s)||i.classList.remove(s)}for(let s=0;s<t.classList.length;s++){const o=t.classList.item(s);no(o)||i.classList.add(o)}}function eo(t,i){const s=t.attributes,o=i.attributes;for(let t=o.length-1;t>=0;t--){const s=o[t].name;ro(s)||i.removeAttribute(s)}for(let t=0;t<s.length;t++){const{name:o,value:n}=s[t];ro(o)||i.setAttribute(o,n)}}var ho=class{constructor(t,i={}){this.uE=t;const s=new o;this.dE=s.promise,this.options=i,this.Ne=s.resolve,this.Zh=s.reject}getName(){return this.uE}whenComplete(){return this.dE}execute(t){return this.executeInternal(t).then(this.Ne,this.Zh)}executeInternal(t){return s()}requiresSynchronousExecution(){return!1}failTask(t){this.Zh(t)}},po=class extends ho{constructor(){super("play")}executeInternal(t){return t.paused?vt(t):s()}},lo=class extends ho{constructor(){super("pause")}executeInternal(t){return t.pause(),s()}},mo=class extends ho{constructor(){super("unmute")}executeInternal(t){return t.muted=!1,t.removeAttribute("muted"),s()}},co=class extends ho{constructor(){super("mute")}executeInternal(t){return t.muted=!0,t.setAttribute("muted",""),s()}},uo=class extends ho{constructor(t={currentTime:0}){super("setCurrentTime",t)}executeInternal(t){return t.currentTime=this.options.currentTime,s()}},fo=class extends ho{constructor(){super("load")}executeInternal(t){return t.load(),s()}requiresSynchronousExecution(){return!0}},go=class extends ho{constructor(){super("bless")}requiresSynchronousExecution(){return!0}executeInternal(t){const i=t.muted;return t.muted=!1,i&&(t.muted=!0),s()}},yo=class extends ho{constructor(t,i){super("update-src"),this.i=t,this.fE=i}executeInternal(t){return io.removeFrom(this.i,t),this.fE.applyToElement(this.i,t),s()}requiresSynchronousExecution(){return!0}},_o=class extends ho{constructor(t){super("swap-into-dom"),this._E=t}executeInternal(t){return pt(this._E)?(ao(this._E,t),eo(this._E,t),this._E.parentElement.replaceChild(t,this._E),s()):(this.failTask("Cannot swap media for element that is not in DOM."),s())}requiresSynchronousExecution(){return!0}},bo=class extends ho{constructor(t){super("swap-out-of-dom"),this._E=t}executeInternal(t){return ao(t,this._E),eo(t,this._E),t.parentElement.replaceChild(this._E,t),s()}requiresSynchronousExecution(){return!0}};function vo(t){var i;dt((i=t,i)).then((t=>{t.signals().signal("playback-delegated")}))}function Ao(t){t.signals().signal("user-interacted")}var Po="audio",xo="video",wo="pool",To={},Eo=0,Mo=class t{constructor(t,i,s){this.i=t,this.er=pi(t),this.gE=s,this.allocated={},this.unallocated={},this.Bw={},this.yE=null,this.AE={},this.PE={},this.bE=0,this.vE=!1,this.TE=null,this.EE={[Po]:()=>{const t=this.i.document.createElement("audio");return t.setAttribute("muted",""),t.muted=!0,t.classList.add("i-amphtml-pool-media"),t.classList.add("i-amphtml-pool-audio"),t},[xo]:()=>{const t=this.i.document.createElement("video");return t.setAttribute("muted",""),t.muted=!0,t.setAttribute("playsinline",""),t.classList.add("i-amphtml-pool-media"),t.classList.add("i-amphtml-pool-video"),t}},this.xE(i)}xE(t){let i=0;for(const s in t){const o=t[s],n=Vt(this.EE[s])();this.allocated[s]=[],this.unallocated[s]=[];for(let t=o;t>0;t--){const o=1==t?n:n.cloneNode(!0);o.addEventListener("error",this.ME,{capture:!0}),o.id="i-amphtml-pool-media-"+i++,o.muted=!0,o.__AMP_MEDIA_ELEMENT_ORIGIN__=wo,this.unallocated[s].push(o)}}}ME(t){const i=t.target;if(!b(i,"source:last-of-type, video[src]"))return;const s="SOURCE"===i.tagName?i.parentElement:i;s.__AMP_MEDIA_LOAD_FAILURE_SRC=s.currentSrc||!0}wE(){return new io}IE(t,i){return this.gE(t)<this.gE(i)?-1:1}RE(){return"i-amphtml-placeholder-media-"+this.bE++}VE(t){return t.__AMP_MEDIA_ELEMENT_ORIGIN__===wo}kE(t){switch(t.tagName.toLowerCase()){case"audio":return Po;case"video":return xo;default:return 0}}SE(t){return this.unallocated[t].pop()}OE(t,i){if(this.CE(t,i))return i;const s=this.allocated[t];return s[e(s,(t=>t["replaced-media"]===i.id))]}zE(t,i){this.allocated[t].push(i);const s=this.unallocated[t],o=s.indexOf(i);o>=0&&s.splice(o,1)}NE(t,i){const s=this.allocated[t];if(s.sort(((t,i)=>this.IE(t,i))),i){const t=s[s.length-1];if(!t||this.gE(t)<this.gE(i))return null}const o=s.pop();return this.unallocated[t].push(o),o}LE(t){const i=this.kE(t),o=this.allocated[i];return(pt(t)?this.DE(t):s()).then((()=>{const s=o.indexOf(t);Vt(s>=0),o.splice(s,1),this.unallocated[i].push(t)}))}UE(t,i){const s=this.NE(t,i);return s?(this.DE(s),s):null}CE(t,i){const s=i;return this.allocated[t].indexOf(s)>=0}$E(t,i,s){const o=fs(i),n=fs(t);return i["replaced-media"]=t.id,this.jE(i,new _o(t)).then((()=>Promise.all([this.FE(o),this.FE(n)]))).then((()=>this.jE(i,new yo(this.i,s)))).then((()=>this.jE(i,new fo))).catch((()=>{this.LE(i)}))}FE(t){return t?"amp-audio"==t.tagName.toLowerCase()?s():(this.AE[t.id]&&this.HE(t,1),t.getImpl().then((t=>{t.resetOnDomChange&&t.resetOnDomChange()}))):s()}BE(t,i=this.wE()){return this.jE(t,new yo(this.i,i)).then((()=>this.jE(t,new fo)))}DE(t){const i=t["replaced-media"],s=this.PE[i];t["replaced-media"]=null;const o=this.jE(t,new bo(s));return this.BE(t),o}YE(t){if(!pt(t))return s();const i=this.kE(t),o=this.OE(i,t);if(o)return Promise.resolve(o);const n=t,r=this.Bw[n.id];Vt(r instanceof io);const a=this.SE(i)||this.UE(i,n);return a?(this.zE(i,a),this.$E(n,a,r).then((()=>a))):s()}GE(t){return t.__AMP_MEDIA_IS_BLESSED__?s():this.jE(t,new go)}reregister(t){return this.register(t,!0)}register(t,i=!1){const o=t.parentNode;if(o&&o.signals&&this.WE(o),this.VE(t)){if(i){const i=io.removeFrom(this.i,t);return this.Bw[t.id]=i,this.BE(t,i)}return s()}const n=t;n.__AMP_MEDIA_ELEMENT_ORIGIN__="placeholder";const r=n.id||this.RE();if(this.Bw[r]&&this.PE[r])return s();n.id=r;const a=io.removeFrom(this.i,n);return this.Bw[r]=a,this.PE[r]=n,n instanceof HTMLMediaElement&&(n.muted=!0,n.setAttribute("muted",""),n.pause()),s()}WE(t){this.TE=this.TE||[],this.TE.push(t)}preload(t){return this.YE(t).then()}play(t){return this.YE(t).then((t=>t?this.jE(t,new po):s()))}pause(t,i=!1){const o=this.kE(t),n=this.OE(o,t);return n?this.jE(n,new lo).then((()=>{i&&this.er.delay((()=>{this.jE(n,new uo({currentTime:0}))}),100)})):s()}rewindToBeginning(t){return this.setCurrentTime(t,0)}setCurrentTime(t,i){const o=this.kE(t),n=this.OE(o,t);return n?this.jE(n,new uo({currentTime:i})):s()}mute(t){const i=this.kE(t),o=this.OE(i,t);if(!o)return s();const n=this.AE[t.id];return n&&(n.gain.value=0),this.jE(o,new co)}unmute(t){const i=this.kE(t),o=this.OE(i,t);if(!o)return s();if(i==xo){const i=t.parentElement;if(i){const o=parseFloat(i.getAttribute("volume"));if(o<=0||i.hasAttribute("noaudio"))return s();o<1&&this.HE(t,o)}}return this.jE(o,new mo)}HE(t,i){if("function"==typeof AudioContext?this.yE=this.yE||new AudioContext:"function"==typeof webkitAudioContext&&(this.yE=this.yE||new global.webkitAudioContext),this.yE){if(!this.AE[t.id]){const i=this.yE.createMediaElementSource(t),s=this.yE.createGain();this.AE[t.id]=s,i.connect(s).connect(this.yE.destination)}this.AE[t.id].gain.value=i}}blessAll(){if(this.vE)return s();(this.TE||[]).forEach(Ao),this.TE=null;const t=[...this.allocated.audio,...this.unallocated.video,...this.allocated.audio,...this.unallocated.video].map((t=>this.GE(t)));return Promise.all(t).then((()=>{this.vE=!0}),(t=>{kt().expectedError("AMP-STORY","Blessing all media failed: ",t)}))}qE(t){const i=t.__AMP_MEDIA_ELEMENT_TASKS__;if(0===i.length)return;const s=i[0],o=()=>{s.execute(t).catch((t=>kt().error("AMP-STORY",t))).then((()=>{i.shift(),this.qE(t)}))};s.requiresSynchronousExecution()?o():this.er.delay(o,0)}jE(t,i){t.__AMP_MEDIA_ELEMENT_TASKS__||(t.__AMP_MEDIA_ELEMENT_TASKS__=[]);const s=t.__AMP_MEDIA_ELEMENT_TASKS__,o=0!==s.length;return s.push(i),o||this.qE(t),i.whenComplete()}static for(i){const s=i.getElement(),o=s.__AMP_MEDIA_POOL_ID__;if(o&&To[o])return To[o];const n=String(Eo++);return s.__AMP_MEDIA_POOL_ID__=n,To[n]=new t(tt(i.getElement()),i.getMaxMediaElementCounts(),(t=>i.getElementDistance(t))),To[n]}},Io=self.__AMP_ERRORS||[];self.__AMP_ERRORS=Io,Math.random();var Ro={"button":!0,"checkbox":!0,"link":!0,"listbox":!0,"menuitem":!0,"menuitemcheckbox":!0,"menuitemradio":!0,"option":!0,"radio":!0,"scrollbar":!0,"slider":!0,"spinbutton":!0,"switch":!0,"tab":!0,"treeitem":!0},ko=class t{constructor(){this.XE=[],this.KE=[],this.ZE=[],this.JE=[],this._n=!1}getType(){return 0}addProgressListener(t){this.XE.push(t)}addAdvanceListener(t){this.KE.push(t)}addPreviousListener(t){this.ZE.push(t)}addOnTapNavigationListener(t){this.JE.push(t)}removeAllAddedListeners(){this.XE=[],this.KE=[],this.ZE=[],this.JE=[]}start(t){this._n=!0}stop(t){this._n=!1}isAutoAdvance(){return!1}isRunning(){return this._n}getProgress(){return 1}onProgressUpdate(t){const i=null!=t?t:this.getProgress();this.XE.forEach((t=>{t(i)}))}onAdvance(){this.KE.forEach((t=>{t()}))}onPrevious(){this.ZE.forEach((t=>{t()}))}onTapNavigation(t){this.JE.forEach((i=>{i(t)}))}static forElement(i,s){const o=Vo.fromElement(i,s);if(o)return o;const n=s.getAttribute("auto-advance-after");if(n){const t=So.fromAutoAdvanceString(n,i,s);if(t)return t;const o=zo.fromAutoAdvanceString(n,i,s);if(o)return o}return new t}},Vo=class t extends ko{constructor(t,i){super(),this.yp=i,this.QE=null,this.er=pi(t),this.hx=null,this.mx=!1,this.ji=$t(t.document),this._x(),i.ownerDocument.defaultView&&(this.pT=Pi(i.ownerDocument.defaultView));const s=this.pT.get(xi.RTL_STATE);this.gx={left:{widthRatio:s?.75:.25,direction:s?1:2},right:{widthRatio:s?.25:.75,direction:s?2:1}}}getType(){return 1}getProgress(){return 1}_x(){this.yp.addEventListener("touchstart",this.yx.bind(this),!0),this.yp.addEventListener("touchend",this.Ax.bind(this),!0),this.yp.addEventListener("click",this.Px.bind(this),!0),this.ji.onVisibilityChanged((()=>{this.ji.isVisible()&&this.bx()}))}isAutoAdvance(){return!1}yx(t){!this.hx&&this.vx(t)&&(this.hx=Date.now(),this.mx=this.pT.get(xi.PAUSED_STATE),this.pT.dispatch(wi,!0),this.QE=this.er.delay((()=>{this.pT.dispatch(Ti,!1)}),500))}Ax(t){const i=(t.touches||[]).length;!this.hx||i>0||(Date.now()-this.hx>500&&t.preventDefault(),this.bx())}bx(){this.hx&&(this.pT.dispatch(wi,this.mx),this.hx=null,this.er.cancel(this.QE),this.QE=null,this.pT.get(xi.SYSTEM_UI_IS_VISIBLE_STATE)||this.pT.dispatch(Ti,!0))}Tx(t){return!v(t.target,(t=>function(t){return t.hasAttribute("on")&&!!t.getAttribute("on").match(/(^|;)\s*tap\s*:/)}(t)),this.yp)}Ex(t){return!!v(t.target,(t=>{const i=t.getAttribute("role");return!!i&&!!Ro[i.toLowerCase()]}),this.yp)}vx(t){let i,s=!1;return v(t.target,(o=>(i=o.tagName.toLowerCase(),o.classList.contains("amp-story-draggable-drawer-root")?(s=!1,!0):!i.startsWith("amp-story-interactive-")||this.xx(t,this.Mx())&&!t.path[0].classList.contains("i-amphtml-story-interactive-disclaimer-icon")?o.classList.contains("i-amphtml-story-interactive-disclaimer-dialog-container")||"amp-story-audio-sticker"===i?(s=!1,!0):("amp-story-page"===i||"amp-story-subscriptions"===i)&&(s=!0,!0):(s=!1,!0))),this.yp),s}wx(t,i){let s,o=!0;const n=t.target,r=!!v(n,(t=>(s=t.tagName.toLowerCase(),"amp-story-page-attachment"===s||"amp-story-page-outlink"===s?(o=!1,!1):"amp-story-page"===s&&o)),this.yp);return r&&(this.xx(t,i)||this.Ix(t,i))?(t.preventDefault(),!1):"auto"===n.getAttribute("show-tooltip")&&this.Rx(n,i)?(n.setAttribute("target","_blank"),n.setAttribute("role","link"),!1):r}Rx(t,i){return t.getBoundingClientRect().top-i.top>=.8*i.height}xx(t,i){if(0===t.clientX&&0===t.clientY)return!1;const s=.12*i.width,o=Math.max(s,48);return t.clientX<=i.x+o||t.clientX>=i.x+i.width-o}Ix(t,i){if(0===t.clientX&&0===t.clientY)return!1;const s=t.target.getBoundingClientRect();return s.height*s.width/(i.width*i.height)>=.8&&(It().error("AMP-STORY-PAGE","Link was too large; skipped for navigation. For more information, see https://github.com/ampproject/amphtml/issues/31108"),!0)}Vx(t,i){return b(t.target,Ms())&&this.wx(t,i)}Px(t){const i=t.target,s=this.Mx();if(this.Vx(t,s)){t.stopPropagation(),t.preventDefault();const s=this.pT.get(xi.INTERACTIVE_COMPONENT_STATE);return void this.pT.dispatch(19,{element:i,state:s.state||1,clientX:t.clientX,clientY:t.clientY})}if(!this.isRunning()||!this.Tx(t)||this.Ex(t)||!this.vx(t))return;t.stopPropagation(),this.pT.dispatch(7,Wi);const o={offset:"x"in s?s.x:s.left,width:s.width,clickEventX:t.pageX};this.onTapNavigation(this.kx(o))}Mx(){return 4!==this.pT.get(xi.UI_STATE)?this.yp.getLayoutBox():this.yp.querySelector("amp-story-page[active]").getBoundingClientRect()}kx(t){const{left:i,right:s}=this.gx;return t.clickEventX<=t.offset+i.widthRatio*t.width?i.direction:s.direction}static fromElement(i,s){return"amp-story"!==s.tagName.toLowerCase()?null:new t(i,s)}},So=class t extends ko{constructor(t,i,s){super(),this.er=pi(t),i<500&&(i=500),this.Sx=i,this.Ox=null,this.Cx=null,this.QE=null,s.ownerDocument.defaultView&&(this.pT=Pi(s.ownerDocument.defaultView))}getType(){return 2}zx(){return Date.now()}start(t){if(super.start(),t){const i=1-t;this.Ox=this.Sx*i}this.Ox?this.Cx=this.zx()-(this.Sx-this.Ox):this.Cx=this.zx(),this.QE=this.er.delay((()=>this.onAdvance()),this.Ox||this.Sx),this.onProgressUpdate(),this.er.poll(300,(()=>(this.onProgressUpdate(),!this.isRunning())))}stop(t=!1){super.stop(),null!==this.QE&&this.er.cancel(this.QE),this.Ox=t?this.Cx+this.Sx-this.zx():null}isAutoAdvance(){return!0}getProgress(){if(null===this.Cx)return 0;const t=this.getProgressMs()/this.Sx;return Math.min(Math.max(t,0),1)}onAdvance(){this.pT.dispatch(7,"autoAdvanceTime"),super.onAdvance()}updateTimeDelay(t){const i=us(t);void 0===i||isNaN(i)||(this.Ox&&(this.Ox+=i-this.Sx),this.Sx=i)}getProgressMs(){return null===this.Cx?0:this.zx()-this.Cx}getDelayMs(){return this.Sx}static fromAutoAdvanceString(i,s,o){if(!i)return null;const n=us(i);return void 0===n||isNaN(n)?null:new t(s,Number(n),o)}},zo=class t extends ko{constructor(t,i){super(),this.er=pi(t),this.yp=i,this.Nx=null,this.Lx=[],this.Dx=null,this.Ux=null,this.qb=null,this.pT=Pi(t)}getType(){return 3}$x(){return this.yp.classList.contains("i-amphtml-video-interface")}jx(){const t=this.yp.tagName.toLowerCase();return this.yp instanceof HTMLMediaElement?this.yp:this.yp.hasAttribute("background-audio")&&"amp-story-page"===t?this.yp.querySelector(".i-amphtml-story-background-audio"):"amp-audio"===t?this.yp.querySelector("audio"):null}start(t){super.start(),(this.yp.build?this.yp.build():s()).then((()=>this.Fx(t)))}Fx(t){this.$x()?this.Hx(t):(this.Nx||(this.Nx=this.jx()),this.Nx?this.Bx(t):It().error("AMP-STORY-PAGE",`Element with ID ${this.yp.id} is not a media element supported for automatic advancement.`))}Bx(t){const i=this.Nx;this.Nx.removeAttribute("loop"),this.Lx.push(yi(i,"ended",(()=>this.onAdvance()))),this.onProgressUpdate(t),this.er.poll(300,(()=>(this.onProgressUpdate(),!this.isRunning())))}Hx(t){this.yp.getImpl().then((t=>{this.qb=t})),this.yp.querySelector("video").removeAttribute("loop"),this.Lx.push(yi(this.yp,"ended",(()=>this.onAdvance()),{capture:!0})),this.onProgressUpdate(t),this.er.poll(300,(()=>(this.onProgressUpdate(),!this.isRunning())))}stop(){super.stop(),this.Lx.forEach((t=>t()))}isAutoAdvance(){return!0}getProgress(){return this.$x()?this.qb&&this.qb.getDuration()?this.qb.getCurrentTime()/this.qb.getDuration():0:this.Nx&&this.Nx.duration?this.Nx.currentTime/this.Nx.duration:super.getProgress()}onAdvance(){this.pT.dispatch(7,"autoAdvanceMedia"),super.onAdvance()}static fromAutoAdvanceString(i,s,o){try{let n=o.querySelector(`amp-video[data-id=${f(i)}], amp-video#${f(i)}, amp-audio[data-id=${f(i)}], amp-audio#${f(i)}`);return b(o,`amp-story-page[background-audio]#${f(i)}`)&&(n=o),n?new t(s,n):null}catch(t){return null}}};function Oo(t){return(t=t.trim()).startsWith("WEBVTT")?function(t){const i=/^\d\d\:\d\d/;let s=!1;t=t.split(/[\n\r]+/).filter((t=>{const o=i.test(t);return s=s||o,!(!s||o||/^NOTE\s+/.test(t))})).map((t=>t.replace(/^- /,""))).join(" ");const o=bt("template",null);if(self.trustedTypes&&self.trustedTypes.createPolicy){const i=self.trustedTypes.createPolicy("semantic-render#extractTextContentWebVtt",{createHTML:function(i){return t}});o.innerHTML=i.createHTML("ignored")}else o.innerHTML=t;return o.content.textContent}(t):("number"!=typeof s&&(s=0),s+"http://www.w3.org/ns/ttml".length>(i=t).length||-1===i.indexOf("http://www.w3.org/ns/ttml",s)?"":function(t){try{return(new DOMParser).parseFromString(t,"text/xml").querySelector("body").textContent.replace(/[\s\n\r]+/g," ").trim()}catch(t){kt().error("TTML",t.message)}return""}(t));var i,s}var Co="a, amp-twitter > iframe",No="amp-story-page",Lo="next",Do="previous",Uo=class extends t.BaseElement{static prerenderAllowed(t){return it(t)}static previewAllowed(){return!0}constructor(t){super(t),this.Tr=mi(this.element),this.Yx=null,this.Gx=null,this.Wx=At(this.win,(t=>this.qx(!!t)),100),this.Xx=function(t){let i=!1,s=null,o=t;return(...t)=>(i||(s=o.apply(self,t),i=!0,o=null),s)}((()=>this.Kx())),this.Zx=null,this.Jx=null;const i=new o;this.Qx=b(this.element,"amp-story-page:first-of-type"),this.EI=(t=>{let i=(t=>Ct(t,"media-performance-metrics"))(t);return i||(i=new class{constructor(t){this.xI=new WeakMap,this.MI=ai(t)}isPerformanceTrackingOn(){return this.MI.isPerformanceTrackingOn()}startMeasuring(t){if(!t.paused)return void kt().expectedError("media-performance-metrics","media must start paused");const i=this.wI(t),s=this.VI(t,i);this.xI.set(t,s),(t.error||t.__AMP_MEDIA_LOAD_FAILURE_SRC===t.currentSrc)&&(s.metrics.error=t.error?t.error.code:0,s.status=0)}stopMeasuring(t,i=!0){const s=this.xI.get(t);if(s){switch(s.unlisteners.forEach((t=>t())),this.xI.delete(t),s.status){case 2:this.kI(s);break;case 3:this.SI(s)}i&&this.CI(s)}}CI(t){const{media:i,metrics:s}=t;if(this.MI.tickDelta(rs,this.zI(i)),this.MI.tickDelta("vofp",b(i,`amp-story-page:first-of-type ${i.tagName}`)?1:0),null!==s.error)return this.MI.tickDelta(as,s.error||0),void this.MI.flush();if(!s.jointLatency&&Date.now()-t.timeStamps.start<1e3)return;if(!s.jointLatency)return this.MI.tickDelta(as,5),void this.MI.flush();const o=Math.round(s.rebufferTime/(s.rebufferTime+s.watchTime)*100);this.MI.tickDelta("vjl",s.jointLatency),this.MI.tickDelta("vwt",s.watchTime),this.MI.tickDelta("vrb",s.rebuffers),this.MI.tickDelta("vrbr",o),s.rebuffers&&this.MI.tickDelta("vmtbrb",Math.round(s.watchTime/s.rebuffers)),this.MI.flush()}VI(t,i){return{media:t,status:1,unlisteners:i,timeStamps:{start:Date.now(),playing:0,waiting:0},metrics:{error:null,jointLatency:0,meanTimeBetweenRebuffers:0,rebuffers:0,rebufferTime:0,watchTime:0}}}kI(t){t.metrics.watchTime+=Date.now()-t.timeStamps.playing}SI(t){const i=Date.now()-t.timeStamps.waiting;i>250&&(t.metrics.rebuffers++,t.metrics.rebufferTime+=i)}wI(t){const i=[fi(t,"ended",this.NI.bind(this)),fi(t,"pause",this.NI.bind(this)),fi(t,"playing",this.LI.bind(this)),fi(t,"waiting",this.DI.bind(this))];let s=t;return t.hasAttribute("src")||(s=P(t,(t=>"SOURCE"===t.tagName))),i.push(fi(s||t,"error",this.UI.bind(this))),i}UI(t){const i="SOURCE"===t.target.tagName?t.target.parent:t.target,s=this.xI.get(i);s.metrics.error=i.error?i.error.code:0,s.status=0}NI(t){const i=this.xI.get(t.target);2===i.status&&this.kI(i),i.status=1}LI(t){const i=this.xI.get(t.target),{metrics:s,timeStamps:o}=i;s.jointLatency||(s.jointLatency=Date.now()-o.start),3===i.status&&this.SI(i),o.playing=Date.now(),i.status=2}DI(t){const i=this.xI.get(t.target),{timeStamps:s}=i;2===i.status&&this.kI(i),s.waiting=Date.now(),i.status=3}zI(t){let i=!1;const s=r(t.querySelectorAll("source"));for(const o of s){const s=o.hasAttribute("i-amphtml-video-cached-source");if(s&&t.currentSrc===o.src)return 2;s&&(i=!0)}return i?1:0}}(t),zt(t,"media-performance-metrics",(function(){return i}))),i})(this.win),this.$I=[],this.FI=null,this.HI=i.promise,this.BI=i.resolve,this.YI=i.reject,this.Mi=0,this.pT=Pi(this.win),this.__=[],this.GI=new o,this.WI=ei(this.win).isBot(),this.qI=null,this.XI=this.element.getAttribute("auto-advance-after"),this.D=this.getAmpDoc().getVisibilityState(),this.getAmpDoc().onVisibilityChanged((()=>this.du()))}KI(){this.Yx||y(this.element,"[animate-in],>amp-story-animation,amp-bodymovin-animation")&&(this.Yx=Zs.create(this.element,this.getAmpDoc(),this.getAmpDoc().getUrl()))}ZI(){const t=this.element.querySelector("amp-story-cta-layer");if(!t)return;const i=t.querySelectorAll("a");1===i.length&&i[0].getAttribute("href")&&(ht(t),this.element.appendChild(bt("amp-story-page-outlink",{layout:"nodisplay"},bt("a",{href:i[0].getAttribute("href")},i[0].textContent))))}buildCallback(){this.delegateVideoAutoplay(),this.JI(),this.xE(),this.KI(),this.QI(),this.pR(),this.pT.subscribe(xi.UI_STATE,(t=>this.mR(t)),!0),this.dR(),this.element.setAttribute("role","region"),this.fR(),this._R(),this.maybeApplyFirstAnimationFrameOrFinish(),this.ZI()}du(){const t=this.getAmpDoc(),i=this.D===rt&&t.isVisible();this.D=t.getVisibilityState(),(t.isPreview()||t.isVisible())&&this.QI(i)}QI(t=!1){this.getAmpDoc().isPreview()?(this.gR(),this.yR()):this.getAmpDoc().isVisible()&&(this.AR(),this.PR(),this.isActive()&&t?this.bR():this.yR())}gR(){let t=this.vR();const i=this.TR();if(!i)return void this.element.setAttribute("auto-advance-after",t+"s");const s=this.ER();s>0&&(t=Math.min(s,t)),this.element.setAttribute("auto-advance-after",t+"s"),dt(i).then((()=>i.getImpl())).then((s=>{this.loadPromise(i).then((()=>{const o=s.getDuration()<t,n=i.querySelector("video");n.loop||(n.loop=o)}))}))}vR(){const t=this.Tr.getParam("previewSecondsPerPage"),i=parseInt(t,10);return isNaN(i)||i<=0?5:i}ER(){const t=this.getAmpDoc().getMetaByName("robots"),i=null==t?void 0:t.match(/max-video-preview[^,]*/)[0];return parseInt(null==i?void 0:i.split(":")[1],10)}AR(){this.XI?this.element.setAttribute("auto-advance-after",this.XI):this.element.removeAttribute("auto-advance-after")}bR(){var t;u(2===(null===(t=this.Gx)||void 0===t?void 0:t.getType()));const i=this.Gx.getProgress(),s=this.Gx.getProgressMs();switch(this.yR(),this.Gx.getType()){case 0:this.xR(1),this.Gx.start();break;case 3:this.Gx.start(i);break;case 2:this.Gx.start(s/this.Gx.getDelayMs())}}yR(){var t;null===(t=this.Gx)||void 0===t||t.removeAllAddedListeners(),this.Gx=ko.forElement(this.win,this.element),this.Gx.addPreviousListener((()=>this.previous())),this.Gx.addAdvanceListener((()=>this.next(!0))),this.Gx.addProgressListener((t=>this.xR(t)))}PR(){const t=this.element.getAttribute("auto-advance-after"),i=mi(this.element).getParam("storyNextUp");null===t&&null!==i&&(this.element.setAttribute("auto-advance-after",i),this.MR())}MR(){const t=this.TR();null!==t&&dt(t).then((()=>t.getImpl())).then((i=>{const s=i.getDuration();isNaN(s)?yi(t,"loadedmetadata",(()=>{this.wR(i.getDuration())})):this.wR(s)}))}wR(t){t<2||!this.Gx||!this.Gx.updateTimeDelay||(this.Gx.updateTimeDelay(t+"s"),this.element.setAttribute("auto-advance-after",t+"s"))}TR(){const t=this.IR();return 0===t.length?null:t[0]}delegateVideoAutoplay(){this.element.querySelectorAll("amp-video").forEach(vo)}xE(){const t=A(this.element,"amp-story");dt(t).then((()=>t.getImpl())).then((t=>this.BI(Mo.for(t))),(t=>this.YI(t)))}JI(){this.element.querySelectorAll("amp-audio, amp-video").forEach((t=>{t.setAttribute("preload","auto")}))}isLayoutSupported(t){return t==q}setState(t){var i;switch(t){case 0:this.element.removeAttribute("active"),this.fw(),this.Mi=t;break;case 1:var s;0===this.Mi&&(this.element.setAttribute("active",""),this.RR()),2===this.Mi&&(this.Gx.start(),this.VR(),null===(s=this.Yx)||void 0===s||s.resumeAll()),this.Mi=t;break;case 2:this.Gx.stop(!0),this.kR(!1),null===(i=this.Yx)||void 0===i||i.pauseAll(),this.Mi=t}}fw(){var t;this.Gx.stop(!1),this.SR(),this.OR(),this.CR(!1),this.zR(!1),this.qI=null,this.kR(!0),this.pT.get(xi.MUTED_STATE)||this.muteAllMedia(),null===(t=this.Yx)||void 0===t||t.cancelAll()}RR(){const t=this.NR();this.isActive()&&(t.then((()=>{0!==this.Mi&&(this.signals().whenSignal(nt).then((()=>{1==this.Mi&&this.Gx.start()})),this.LR().then((()=>{0!==this.Mi&&(this.DR(),this.UR(),this.VR().then((()=>{this.pT.get(xi.MUTED_STATE)||0===this.Mi||this.unmuteAllMedia()})),this.$R(this.pT.get(xi.CAPTIONS_STATE)))})))})).then((()=>{if(this.getAmpDoc().isPreview())return this.jR().then((()=>this.FR()))})),this.HR(),this.BR(),this.YR(),this.GR(),this.WR())}FR(){const t=this.qR().filter((t=>t.readyState<2));return this.HI.then((i=>{const s=t.map((t=>this.XR(i,t).then((()=>(this.CR(!1),this.KR(i,t))))));return Promise.all(s)}))}layoutCallback(){const t=this.element.getAttribute("id")!==this.element.getAttribute("auto-advance-after");return to(this.element,t),this.GI.resolve(),this.muteAllMedia(),this.ZR(),this.JR(),Promise.all([this.QR().then((()=>this.tV())),this.HI])}onLayoutMeasure(){const{height:t,width:i}=this.getLayoutSize();this.Qx&&0!==t&&0!==i&&this.pT.dispatch(12,{height:t,width:i})}mR(t){3===t&&this.iV()}QR(){const t=r(this.sV("amp-story-grid-layer amp-audio, amp-story-grid-layer amp-video, amp-story-grid-layer amp-img, amp-story-grid-layer amp-anim")).map((t=>new Promise((i=>{switch(t.tagName.toLowerCase()){case"amp-anim":case"amp-img":case"amp-story-360":if(t.hasAttribute("fallback"))return void i();dt(t).then((t=>t.signals().whenSignal(nt))).then(i,i);break;case"amp-audio":case"amp-video":const s=t.querySelector("audio, video");if(s&&s.readyState>=2)return void i();t.addEventListener("canplay",i,!0);break;default:i()}t.addEventListener("error",i,!0)}))));return Promise.all(t)}nV(){return this.eV(!0)}jR(){return this.eV(!1)}eV(t){const i=r(this.sV("amp-story-grid-layer amp-audio, amp-story-grid-layer amp-video")).map((i=>new Promise((s=>{switch(i.tagName.toLowerCase()){case"amp-audio":case"amp-video":const o=t?"load-start":nt,n=i.getAttribute("layout")===W?"built":o;dt(i).then((t=>t.signals().whenSignal(n))).then(s,s);break;default:s()}}))));return this.element.hasAttribute("background-audio")&&i.push(this.GI.promise),Promise.all(i)}oV(){const t=this.IR().map((t=>dt(t).then((t=>t.whenBuilt()))));return Promise.all(t)}WR(){this.rV()}rV(){const t=r(_(this.element,Object.keys(Ts).join(",")));t.length<=0||this.mutateElement((()=>{t.forEach((t=>{t.classList.add("i-amphtml-embedded-component")}))}))}tV(){Ci(this.win,this.element,"ampstory:pageload",void 0,{bubbles:!0}),this.mutateElement((()=>{this.element.classList.add("i-amphtml-story-page-loaded")}))}aV(){return this.sV("> audio, amp-story-grid-layer audio, amp-story-grid-layer video")}qR(){return this.sV("amp-story-grid-layer video")}IR(){return this.sV("amp-story-grid-layer amp-video")}sV(t){const i=this.element.querySelector("iframe"),s=i&&function(t){return t.__AMP_EMBED__}(i),o=[];return _(this.element,t).forEach((t=>o.push(t))),s&&_(s.win.document.body,t.replace(/amp-story-grid-layer/g,"")).forEach((t=>o.push(t))),o}hV(){return null==(t=this.win).__AMP_AUTOPLAY&&(t.__AMP_AUTOPLAY=function(t){const i=t.document.createElement("video");var s;return i.setAttribute("muted",""),i.setAttribute("playsinline",""),i.setAttribute("webkit-playsinline",""),i.setAttribute("height","0"),i.setAttribute("width","0"),i.muted=!0,i.playsInline=!0,i.playsinline=!0,i.webkitPlaysinline=!0,N(i,{position:"fixed",top:"0",width:"0",height:"0",opacity:"0"}),s=i,n((()=>s.play())).catch((()=>{})),Promise.resolve(!i.paused)}(t)),t.__AMP_AUTOPLAY;var t}lV(t){const i=r(this.aV());return this.HI.then((s=>{const o=i.map((i=>t(s,i)));return Promise.all(o)}))}kR(t=!1){return this.lV(((i,s)=>this.pV(i,s,t)))}pV(t,i,o){return this.WI?(i.pause(),s()):t.pause(i,o)}VR(){return this.lV(((t,i)=>this.KR(t,i)))}KR(t,i){return this.WI?(vt(i),s()):this.loadPromise(i).then((()=>t.play(i).catch((t=>{"VIDEO"===i.tagName&&(this.Wx(!1),this.hV().then((t=>{t?this.CR(!0):(this.SR(!1),this.zR(!0))}))),"AUDIO"===i.tagName&&(this.qI=Date.now())}))),(()=>{this.Wx(!1),this.CR(!0)}))}LR(){return this.lV(((t,i)=>this.mV(t,i)))}mV(t,i){return this.WI?s():t.preload(i)}muteAllMedia(){return this.lV(((t,i)=>{this.cV(t,i)}))}cV(t,i){return this.WI?(i.muted=!0,i.setAttribute("muted",""),s()):t.mute(i)}unmuteAllMedia(){return this.lV(((t,i)=>{this.uV(t,i)}))}uV(t,i){if(this.WI)return i.muted=!1,i.removeAttribute("muted"),"AUDIO"===i.tagName&&i.paused&&vt(i),s();{const s=[t.unmute(i)];if("AUDIO"===i.tagName&&i.paused&&this.qI){const o=(Date.now()-this.qI)/1e3;(i.hasAttribute("loop")||o<i.duration)&&(s.push(t.setCurrentTime(i,o%i.duration)),s.push(t.play(i))),this.qI=null}return Promise.all(s)}}NR(){if(!this.FI){const t=this.getAmpDoc().isPreview()?this.nV():this.jR();this.FI=t.then((()=>this.lV(((t,i)=>this.dV(t,i)))))}return this.FI}dV(t,i){return this.WI?s():t.register(i)}XR(t,i){return this.WI?s():t.reregister(i)}HR(){this.Yx&&this.Yx.animateIn()}iV(){this.Yx&&this.signals().whenSignal(nt).then((()=>this.Yx.applyLastFrame()))}maybeApplyFirstAnimationFrameOrFinish(){var t;return Promise.resolve(null===(t=this.Yx)||void 0===t?void 0:t.applyFirstFrameOrFinish())}getDistance(){return parseInt(this.element.getAttribute("distance"),10)}setDistance(t){if(this.isAd()&&(t=Math.min(t,2)),t==this.getDistance())return;this.element.setAttribute("distance",t),this.element.setAttribute("aria-hidden",0!=t);const i=this.NR();t>0&&t<=2&&(this.WR(),i.then((()=>this.LR()))),this.fV(0==t)}isActive(){return this.element.hasAttribute("active")}xR(t){const i=Xt(this.win,Kt);if((!i||i==Zt)&&this.isAd()||0===this.Mi)return;const s={"pageId":this.element.id,"progress":t};Ci(this.win,this.element,Vi,s,{bubbles:!0})}getAdjacentPageIds(){const t=qt(this.win,"amp-story-branching")?this.Ov():[],i=this.getNextPageId(!0),s=this.getNextPageId(!1),o=this.getPreviousPageId();return i&&t.push(i),s&&s!=i&&t.push(s),o&&t.push(o),t}getPreviousPageId(){if(this.element.hasAttribute("i-amphtml-return-to"))return this.element.getAttribute("i-amphtml-return-to");const t=this.pT.get(xi.NAVIGATION_PATH),i=t.lastIndexOf(this.element.id),s=t[i-1];if(s)return s;const o=this.element.previousElementSibling;return o&&o.tagName.toLowerCase()===No?o.id:null}getNextPageId(t=!1){if(t&&this.element.hasAttribute("auto-advance-to"))return this.element.getAttribute("auto-advance-to");const i=qt(this.win,"amp-story-branching")?"advance-to":"i-amphtml-advance-to";if(this.element.hasAttribute(i))return this.element.getAttribute(i);const s=this.element.nextElementSibling;return s&&s.tagName.toLowerCase()===No?s.id:null}Ov(){return Array.prototype.slice.call(this.element.querySelectorAll("[on*=goToPage]")).map((t=>t.getAttribute("on"))).reduce(((t,i)=>(i.split(/[;,]+/).forEach((i=>{i.indexOf("goToPage")>=0&&t.push(i.slice(i.search("=(.*)")+1,-1))})),t)),[])}previous(){const t=this.getPreviousPageId();null!==t?(this.pT.dispatch(wi,!1),this._V(t,Do)):Ci(this.win,this.element,Oi,void 0,{bubbles:!0})}next(t=!1){const i=this.getNextPageId(t);i?(this.pT.dispatch(wi,!1),this._V(i,Lo)):Ci(this.win,this.element,zi,void 0,{bubbles:!0})}_V(t,i){const s={"targetPageId":t,"direction":i};Ci(this.win,this.element,Ii,s,{bubbles:!0})}BR(){(this.element.hasAttribute("background-audio")||this.element.querySelector("amp-audio")?Promise.resolve(!0):this.gV()).then((t=>this.pT.dispatch(23,t)))}gV(){return this.oV().then((()=>Array.prototype.some.call(this.IR(),(t=>!t.hasAttribute("noaudio")&&0!==parseFloat(t.getAttribute("volume"))))))}yV(){return this.oV().then((()=>Array.prototype.some.call(this.IR(),(t=>t.querySelector("track")))))}GR(){const t=this.isAutoAdvance()||this.element.hasAttribute("background-audio")||this.aV().length>0;this.pT.dispatch(26,t)}YR(){this.yV().then((t=>{this.pT.dispatch(24,t)}))}DR(){if(!this.EI.isPerformanceTrackingOn())return;const t=this.qR();for(let i=0;i<t.length;i++)this.AV(t[i])}AV(t){this.EI.isPerformanceTrackingOn()&&(this.$I.push(t),this.EI.startMeasuring(t))}SR(t=!0){if(this.EI.isPerformanceTrackingOn())for(let i=0;i<this.$I.length;i++)this.EI.stopMeasuring(this.$I[i],t)}UR(){const t=this.qR();t.length&&(t.some((t=>0!=t.currentTime))||this.Wx(!0)),t.forEach((t=>{this.__.push(fi(t,"playing",(()=>this.Wx(!1)))),this.__.push(fi(t,"waiting",(()=>this.Wx(!0))))}))}OR(){this.Wx(!1),this.__.forEach((t=>t())),this.__=[]}Kx(){const t=bt("div",{class:"i-amphtml-story-spinner","aria-hidden":"true"},bt("div",{class:"i-amphtml-story-spinner-container"},bt("div",{class:"i-amphtml-story-spinner-layer"},bt("div",{class:"i-amphtml-story-spinner-circle-clipper left"}),bt("div",{class:"i-amphtml-story-spinner-circle-clipper right"}))));return t.setAttribute("aria-label","Loading video"),this.element.appendChild(t)}qx(t){this.mutateElement((()=>{!function(t,i){i!==t.hasAttribute("active")&&(t.setAttribute("aria-hidden",String(!i)),i?t.setAttribute("active",""):t.removeAttribute("active"))}(this.Xx(),t)}))}PV(){this.Zx=bt("button",{role:"button",class:"i-amphtml-story-page-play-button i-amphtml-story-system-reset",onClick:()=>{this.zR(!1),this.DR(),this.HI.then((t=>t.blessAll())).then((()=>this.VR()))}},bt("span",{class:"i-amphtml-story-page-play-label","i-amphtml-i18n-text-content":"34"}),bt("span",{class:"i-amphtml-story-page-play-icon"})),Os(this.Zx,this.element).then((()=>this.mutateElement((()=>this.element.appendChild(this.Zx)))))}zR(t){t?(this.Zx||this.PV(),this.mutateElement((()=>L(this.Zx,!0)))):this.Zx&&this.mutateElement((()=>L(this.Zx,!1)))}bV(){this.Jx=bt("div",{class:"i-amphtml-story-page-error i-amphtml-story-system-reset"},bt("span",{class:"i-amphtml-story-page-error-label","i-amphtml-i18n-text-content":"65"}),bt("span",{class:"i-amphtml-story-page-error-icon"})),Os(this.Jx,this.element).then((()=>this.mutateElement((()=>this.element.appendChild(this.Jx)))))}CR(t){t?(this.Jx||this.bV(),this.mutateElement((()=>L(this.Jx,!0)))):this.Jx&&this.mutateElement((()=>L(this.Jx,!1)))}ZR(){this.element.querySelector("amp-story-page-attachment, amp-story-page-outlink, amp-story-shopping-attachment")&&ni(this.win).installExtensionForDoc(this.getAmpDoc(),"amp-story-page-attachment","0.1")}isAd(){return this.element.hasAttribute("ad")}pR(){_(this.element,"[data-text-background-color]").forEach((t=>{const i=t.getAttribute("data-text-background-color");C(t,"background-color",i)}))}dR(){this.WI&&function(t,i){const o=`i-amphtml-story-${t.element.id}-description`,n=bt("div",{class:"i-amphtml-story-page-description",id:o}),r=(i,s)=>{if(!s)return;const r=t.win.document.createElement(i);r.textContent=s,(i=>{t.mutateElement((()=>{n.appendChild(i),n.parentNode||(t.element.parentElement.insertBefore(n,t.element.nextElementSibling),t.element.getAttribute("aria-labelledby")||t.element.setAttribute("aria-labelledby",o))}))})(r)};r("h2",t.element.getAttribute("title")),i.forEach((i=>{r("p",i.getAttribute("alt")),r("p",i.getAttribute("title")),r("p",i.getAttribute("aria-label")),function(t,i){const o=i.querySelector("track[default]")||i.querySelector("track");return o&&o.src?ui(t.win).fetchText(o.src,{mode:"cors"}).then((t=>{if(t.ok)return t.text().then(Oo)})):s()}(t,i).then((t=>{r("p",t)}))}))}(this,this.IR()),!this.WI&&this.element.hasAttribute("title")&&(this.element.getAttribute("aria-label")||this.element.setAttribute("aria-label",this.element.getAttribute("title")),this.element.removeAttribute("title"))}fR(){r(this.element.querySelectorAll("amp-img")).forEach((t=>{if(!t.getAttribute("alt")){t.setAttribute("alt","");const i=t.querySelector("img");i&&t.getImpl().then((t=>function(t,i,s,o){const n=a("alt")?"alt":["alt"];for(const t of n){const o=i.getAttribute(t);null!==o&&s.setAttribute(t,o)}}(0,t.element,i)))}}))}isAutoAdvance(){return this.Gx.isAutoAdvance()}_R(){r(_(this.element,Co)).forEach((t=>{t.setAttribute("i-amphtml-orig-tabindex",t.getAttribute("tabindex")||0)}))}fV(t){r(_(this.element,Co)).forEach((i=>{i.setAttribute("tabindex",t?i.getAttribute("i-amphtml-orig-tabindex"):-1)}))}JR(){this.yV().then((t=>{t&&this.pT.subscribe(xi.CAPTIONS_STATE,(t=>{this.isActive()&&this.$R(t)}),!0)}))}$R(t){return this.IR().map((i=>i.getImpl().then((i=>{i.toggleCaptions&&i.toggleCaptions(t)}))))}};function $o(t,i,s){return u(i<=s),Math.min(Math.max(t,i),s)}function jo(t){try{return t.state}catch(t){return null}}var Fo="amp-story-consent",Ho={externalLink:{},onlyAccept:!1},Bo=class extends t.BaseElement{constructor(t){super(t),this.Ov=null,this.vV=null,this.pT=Pi(this.win),this.TV=null,this.EV=null}buildCallback(){this.Ov=si(this.element),this.xV();const t=A(this.element,"AMP-CONSENT").id;this.MV(t);const i=vs(this.element,"publisher-logo-src");if(this.TV){this.EV=((t,i,s)=>{var o,n;return bt("div",{class:"i-amphtml-story-consent i-amphtml-story-system-reset"},bt("div",{class:"i-amphtml-story-consent-overflow"},bt("div",{class:"i-amphtml-story-consent-container"},bt("div",{class:"i-amphtml-story-consent-header"},bt("div",{class:"i-amphtml-story-consent-logo",style:s&&("background-image",n=`url('${s}') !important`,!0,null==n||""===n?"":`background-image:${"number"==typeof n?`${n}px`:n};`)})),bt("div",{class:"i-amphtml-story-consent-content"},bt("h3",null,t.title),bt("p",null,t.message),bt("ul",{class:"i-amphtml-story-consent-vendors"},null===(o=t.vendors)||void 0===o?void 0:o.map((t=>bt("li",{class:"i-amphtml-story-consent-vendor"},t)))),bt("a",{class:"i-amphtml-story-consent-external-link"+(t.externalLink.title&&t.externalLink.href?"":" i-amphtml-hidden"),href:t.externalLink.href,target:"_top",title:t.externalLink.title},t.externalLink.title))),bt("div",{class:"i-amphtml-story-consent-actions"},bt("button",{class:"i-amphtml-story-consent-action i-amphtml-story-consent-action-reject"+(!0===t.onlyAccept?" i-amphtml-hidden":""),on:`tap:${i}.reject`,"i-amphtml-i18n-text-content":"23"}),bt("button",{class:"i-amphtml-story-consent-action i-amphtml-story-consent-action-accept",on:`tap:${i}.accept`,"i-amphtml-i18n-text-content":"22"}))))})(this.TV,t,i);const s=[{tagOrTarget:"AMP-CONSENT",method:"accept"},{tagOrTarget:"AMP-CONSENT",method:"prompt"},{tagOrTarget:"AMP-CONSENT",method:"reject"}];return this.pT.dispatch(5,s),Os(this.EV,this.element).then((()=>{gs(this.element,this.EV,':host{all:initial!important;color:initial!important}.i-amphtml-story-consent{display:-ms-flexbox!important;display:flex!important;-ms-flex-direction:column!important;flex-direction:column!important;z-index:100005!important}.i-amphtml-story-consent,.i-amphtml-story-consent:before{position:absolute!important;top:0!important;left:0!important;height:100%!important;width:100%!important}.i-amphtml-story-consent:before{content:""!important;background:#000!important;opacity:0.55!important}.i-amphtml-story-consent-overflow{margin-top:auto!important;overflow-y:auto!important;overflow-x:hidden!important;-webkit-overflow-scrolling:touch!important}.i-amphtml-story-consent-container{position:relative!important;margin:88px 0 72px!important;background:#fff!important;border-radius:8px 8px 0 0!important;color:rgba(0,0,0,0.87)!important;font-family:Roboto,sans-serif!important;text-align:start!important;overflow:hidden!important}.i-amphtml-story-consent-header{position:relative!important;height:80px!important;min-height:80px!important;background:var(--primary-color,#f0f0f0)!important;z-index:2!important}.i-amphtml-story-consent-logo{position:absolute!important;bottom:-32px!important;margin-left:-32px!important;left:50%!important;height:64px!important;width:64px!important;background:#f0f0f0!important;background-position:50%!important;background-repeat:no-repeat!important;background-size:contain!important;border-radius:5px!important}.i-amphtml-story-consent-logo:before{content:""!important;position:absolute!important;top:-6px!important;bottom:-6px!important;left:-6px!important;right:-6px!important;background:#fff!important;border-radius:6px!important;box-shadow:0 2px 3px rgba(0,0,0,0.12)!important;z-index:-1!important}.i-amphtml-story-consent-content{padding:42px 16px 16px!important;font-size:14px!important;z-index:0!important}.i-amphtml-story-consent-vendors{margin:0!important;padding:0!important;list-style:none!important}.i-amphtml-story-consent-vendor{height:40px!important;border-bottom:1px solid #f0f0f0!important;line-height:40px!important;text-overflow:ellipsis!important;overflow:hidden!important}.i-amphtml-story-consent-external-link{position:relative!important;display:inline-block!important;margin:24px 0!important;color:rgba(0,0,0,0.87)!important;font-size:15px!important;font-weight:700!important;text-decoration:none!important}.i-amphtml-story-consent-external-link:hover{text-decoration:underline!important}.i-amphtml-story-consent-external-link:after{content:""!important;position:absolute!important;display:block!important;height:16px!important;width:16px!important;top:3px!important;right:-20px!important;background:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="rgba(0, 0, 0, 0.87)"><path d="M10 6 8.6 7.4l4.6 4.6-4.6 4.6L10 18l6-6z"/><path d="M0 0h24v24H0z" fill="none"/></svg>\') 50% no-repeat!important}.i-amphtml-story-consent-external-link.i-amphtml-hidden{display:none!important}.i-amphtml-story-consent-actions{position:absolute!important;display:-ms-flexbox!important;display:flex!important;-ms-flex-pack:center!important;justify-content:center!important;-ms-flex-align:center!important;align-items:center!important;bottom:0!important;left:0!important;right:0!important;height:72px!important;min-height:72px!important;background:#fff!important;box-shadow:0 -2px 3px rgba(0,0,0,0.12)!important;z-index:1!important}.i-amphtml-story-consent-action{position:relative!important;padding:0 24px!important;margin:0 12px!important;height:40px!important;width:40vw!important;background:#fff!important;border:none!important;border-radius:40px!important;box-sizing:border-box!important;cursor:pointer!important;font-size:13px!important;font-weight:700!important;line-height:40px!important;text-align:center!important;text-transform:uppercase!important}.i-amphtml-story-consent-action.i-amphtml-hidden{display:none!important}.i-amphtml-story-consent-action-accept{background:var(--primary-color,#000)!important;color:#fff!important}.i-amphtml-story-consent-action-reject{border:1px solid #000!important}@media (min-width:420px){.i-amphtml-story-consent{-ms-flex-align:center!important;align-items:center!important;-ms-flex-pack:center!important;justify-content:center!important}.i-amphtml-story-consent-overflow{margin-top:0!important}.i-amphtml-story-consent-container{display:-ms-flexbox!important;display:flex!important;-ms-flex-direction:column!important;flex-direction:column!important;margin:0!important;max-height:60vh!important;min-height:40vh!important;width:calc(100vw - 80px)!important;max-width:800px!important}.i-amphtml-story-consent-content{margin:0 auto!important;max-width:424px!important;-ms-flex-positive:1!important;flex-grow:1!important;overflow-y:auto!important}.i-amphtml-story-consent-content::-webkit-scrollbar{width:0px!important;background:transparent!important}.i-amphtml-story-consent-actions{position:relative!important;left:0px!important;right:0px!important}.i-amphtml-story-consent-action{width:33vw!important;max-width:200px!important}}\n/*# sourceURL=/extensions/amp-story/1.0/amp-story-consent.css*/'),this.wV(),this.mT()}))}}isLayoutSupported(t){return t==W}mT(){this.EV.addEventListener("click",(t=>this.IV(t)),!0),this.pT.subscribe(xi.RTL_STATE,(t=>{this.RV(t)}),!0)}IV(t){if(!t.target)return;if(t.target.hasAttribute("on")){const i=t.target;this.Ov.trigger(i,"tap",t,3)}const i=v(t.target,(t=>b(t,"a[href]")));i&&(As(i,this.element),t.preventDefault())}RV(t){this.mutateElement((()=>{t?this.EV.setAttribute("dir","rtl"):this.EV.removeAttribute("dir")}),this.EV)}xV(){const t=x(this.element.parentElement,"script");if(this.vV=t&&at(t.textContent),this.VV(),!this.vV)return;const i=x(this.element,"script");St(i&&mt(i),`${Fo} config should be put in a <script> tag with type="application/json"`),this.TV=yt(yt({},Ho),at(i.textContent)),It().assertString(this.TV.title,`${Fo}: config requires a title`),It().assertString(this.TV.message,`${Fo}: config requires a message`),St(this.TV.vendors&&a(this.TV.vendors),`${Fo}: config requires an array of vendors`),It().assertBoolean(this.TV.onlyAccept,`${Fo}: config requires "onlyAccept" to be a boolean`),(this.TV.externalLink.href||this.TV.externalLink.title)&&(It().assertString(this.TV.externalLink.title,`${Fo}: config requires "externalLink.title" to be a string`),It().assertString(this.TV.externalLink.href,`${Fo}: config requires "externalLink.href" to be an absolute URL`),li(this.element).assertAbsoluteHttpOrHttpsUrl(this.TV.externalLink.href))}VV(){const t=this.vV.consents;if(t){const i=Object.keys(t)[0],s=t[i];this.vV.consentInstanceId=i,this.vV.checkConsentHref=s.checkConsentHref,this.vV.promptIfUnknownForGeoGroup=s.promptIfUnknownForGeoGroup,delete this.vV.consents}}MV(t){if(this.vV.checkConsentHref)return void this.pT.dispatch(8,t);const i=this.vV.promptIfUnknownForGeoGroup;var s;i&&(s=this.element,Qt(s,"geo","amp-geo",!0)).then((s=>{const o=s.matchedISOCountryGroups;s&&!o.includes(i)||this.pT.dispatch(8,t)}))}wV(){const t=this.EV.querySelector(".i-amphtml-story-consent-action-accept");O(t,{color:function(t){const{b:i,g:s,r:o}=t,n=t=>(t/=255)<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4);return.2126*n(o)+.7152*n(s)+.0722*n(i)>.179?"#000":"#FFF"}(function(t){const i=/rgba?\((\d{1,3}), (\d{1,3}), (\d{1,3})/;if(!t.match(i))return It().error("UTILS",`getRGBFromCssColorValue expects a parameter in the form of 'rgba(0, 0, 0, 1)' or 'rgb(0, 0, 0)' but got ${t}`),{r:0,g:0,b:0};const s=i.exec(t);return{r:Number(s[1]),g:Number(s[2]),b:Number(s[3])}}(B(this.win,t)["background-color"]))})}},Yo="show-navigation-overlay",Go="show-first-page-overlay",Wo="amp-story-viewer-messaging-handler",qo={"CAPTIONS_STATE":{dataSource:0,property:xi.CAPTIONS_STATE},"CURRENT_PAGE_ID":{dataSource:0,property:xi.CURRENT_PAGE_ID},"EDUCATION_STATE":{dataSource:0,property:xi.EDUCATION_STATE},"MUTED_STATE":{dataSource:0,property:xi.MUTED_STATE},"PAGE_ATTACHMENT_STATE":{dataSource:0,property:xi.PAGE_ATTACHMENT_STATE},"UI_STATE":{dataSource:0,property:xi.UI_STATE},"DESKTOP_ASPECT_RATIO":{dataSource:0,property:xi.DESKTOP_ASPECT_RATIO},"STORY_PROGRESS":{dataSource:2,property:$i},"STORY_PAGE_COUNT":{dataSource:2,property:Di}},Xo={"CAPTIONS_STATE":{action:25,isValueValid:t=>"boolean"==typeof t},"MUTED_STATE":{action:21,isValueValid:t=>"boolean"==typeof t}},Ko=class{constructor(t,i){this.pT=Pi(t),this.uT=Fi(t),this.Tr=i}startListening(){this.Tr.onMessageRespond("getDocumentState",(t=>this.kV(t))),this.Tr.onMessage("onDocumentState",(t=>this.SV(t))),this.Tr.onMessageRespond("setDocumentState",(t=>this.OV(t))),this.Tr.onMessageRespond("customDocumentUI",(t=>this.CV(t)))}send(t,i,s=!1){this.Tr.sendMessage(t,i,s)}onMessage(t,i){this.Tr.onMessage(t,i)}kV(t={}){const{state:i}=t,s=qo[i];if(!s)return Promise.reject("Invalid 'state' parameter");let o;switch(s.dataSource){case 0:o=this.pT.get(s.property);break;case 2:o=this.uT.get()[s.property];break;default:kt().error(Wo,"Unknown data source %s.",s.dataSource)}return Promise.resolve({state:i,value:o})}SV(t={}){const{state:i}=t,s=qo[i];s?this.pT.subscribe(s.property,(t=>{this.Tr.sendMessage("documentStateUpdate",{"state":i,"value":t})})):It().error(Wo,"Invalid 'state' parameter")}OV(t={}){const{state:i,value:s}=t,o=Xo[i];return o?o.isValueValid(s)?(this.pT.dispatch(o.action,s),Promise.resolve({state:i,value:s})):Promise.reject("Invalid 'value' parameter"):Promise.reject("Invalid 'state' parameter")}CV(t){this.pT.dispatch(13,t.controls)}},Zo=2,Jo=20,Qo=class t{constructor(t,i){this.i=t,this.ql=null,this.zV=0,this.NV=0,this.LV=1,this.ji=(t=>Ot(t,"ampdoc"))(this.i).getSingleDoc(),this.Ua=ri(this.ji),this.DV=m(),this.pT=Pi(this.i),this.UV="",this.Jh=[],this.$V=s(),this.jV=0,this.FV=i}static create(i,s){return new t(i,s)}build(t){if(this.ql)return this.ql;const i=bt("ol",{"aria-hidden":"true",class:"i-amphtml-story-progress-bar"+(this.HV()?"":" i-amphtml-story-progress-bar-exp-disabled")});return this.ql=i,this.FV.addEventListener(Si,(()=>{this.BV()})),this.pT.subscribe(xi.PAGE_IDS,(t=>{const s=!!i.parentElement;this.$V=this.Ua.mutateElement(i,(()=>{s&&this.YV(),t.forEach((t=>{this.GV(t)&&!this.HV()||t in this.DV||this.WV(t)})),this.zV>Jo&&(this.qV(this.NV),this.Ku(!1)),i.classList.toggle("i-amphtml-progress-bar-overflow",this.zV>Jo)})),s&&this.updateProgress(this.UV,this.LV,!0)}),!0),this.pT.subscribe(xi.RTL_STATE,(t=>{this.RV(t)}),!0),this.pT.subscribe(xi.UI_STATE,(t=>{this.mR(t)}),!0),(s=this.ji,Nt(s,"viewport")).onResize(At(this.i,(()=>this.XV()),300)),i;var s}HV(){const t=Xt(this.i,Kt);return t&&t!=Zt}GV(t){return t.startsWith("i-amphtml-ad-")}BV(){this.zV>Jo&&(this.jV=0,this.Ku(!1))}Ku(t=!0){this.KV().then((i=>{let s=-(this.jV-this.ZV())*(Zo+4);this.Ua.mutateElement(this.JV(),(()=>{this.JV().classList.toggle("i-amphtml-animate-progress",t);for(let t=0;t<this.zV;t++){const o=t>=this.jV&&t<this.jV+Jo?i:Zo;this.QV(this.Jh[t],s,o),s+=o+4}}))}))}QV(t,i,s){this.pT.get(xi.RTL_STATE)&&(i*=-1),t.setAttribute("style",`transform: translate3d(${i}px, 0px, 0.00001px) scaleX(${s/Zo});`)}KV(){const t=(this.pk()+this.ZV())*(Zo+4);return this.mk().then((i=>(i-t)/Math.min(this.zV,Jo)-4))}mk(){return this.Ua.measureElement((()=>this.JV().getBoundingClientRect().width))}pk(){const t=this.zV-(this.jV+Jo);return t>3?3:Math.max(t,0)}ZV(){return Math.min(3,this.jV)}fk(){if(this.NV>=this.jV+Jo){const t=this.jV+Jo+5-1;this.jV+=t<this.zV?5:this.zV-(this.jV+Jo),this.Ku()}else this.NV<this.jV&&(this.jV-=this.jV-5<0?this.jV:5,this.Ku())}RV(t){this.Ua.mutateElement(this.JV(),(()=>{t?this.JV().setAttribute("dir","rtl"):this.JV().removeAttribute("dir")}))}XV(){(this.JV().classList.contains("i-amphtml-progress-bar-overflow")||this.zV>Jo)&&(this.qV(this.NV),this.Ku(!1))}mR(t){switch(t){case 2:Jo=70,Zo=3;break;case 0:Jo=20,Zo=2;break;default:Jo=20}}_k(t){const i=bt("li",{class:"i-amphtml-story-page-progress-bar"},bt("div",{class:"i-amphtml-story-page-progress-value"+(t?" i-amphtml-story-ad-progress-value":"")}));this.JV().appendChild(i),this.Jh.push(i)}YV(){!function(t){for(;t.firstChild;)t.removeChild(t.firstChild)}(Vt(this.ql)),this.DV=m(),this.zV=0,this.Jh=[]}WV(t){this.DV[t]=this.zV++,this._k(this.GV(t))}JV(){return this.ql}gk(t){Vt(c(this.DV,t))}updateProgress(t,i,s=!1){this.$V.then((()=>{this.gk(t);const o=this.DV[t];this.yk(o,i),(this.NV!==o||s)&&this.Ak(o,i,this.NV,this.LV),this.LV=i,this.NV=o,this.UV=t,this.zV>Jo&&this.fk()}))}qV(t){t>Jo&&t+Jo<this.zV?this.jV=t-t%Jo:this.jV=t>Jo?this.zV-Jo:0}Ak(t,i,s,o){let n=!1;1===o&&1===i&&(n=!0),t>s&&1!==i&&(n=!0),s>t&&1===i&&(n=!0);for(let i=0;i<this.zV;i++){if(i===t)continue;const o=i<t?1:0,r=!!n&&i===s;this.yk(i,o,r)}}yk(t,i,s=!0){const o=t+1,n=y(this.JV(),`.i-amphtml-story-page-progress-bar:nth-child(${function(t){const i=String(t);return u(-1===i.indexOf(")")),i}(o)}) .i-amphtml-story-page-progress-value`);this.Ua.mutateElement(Vt(n),(()=>{let t="none";s&&(t=1===i||0===i?"transform 200ms ease":"transform 300ms linear"),O(Vt(n),{"transform":F(`${i},1`),"transition":t})}))}},tn="ad-showing",sn="muted",on="paused",nn="info",rn="i-amphtml-story-captions-control",an="i-amphtml-story-nocaptions-control",en="i-amphtml-story-mute-audio-control",hn="i-amphtml-story-close-control",pn="i-amphtml-story-skip-to-next",ln="i-amphtml-story-viewer-custom-control",mn="i-amphtml-story-unmute-audio-control",cn="i-amphtml-story-pause-control",un="i-amphtml-story-play-control",dn="i-amphtml-current-page-has-audio",fn="i-amphtml-story-share-control",gn="i-amphtml-story-info-control",yn="i-amphtml-story-has-new-page",_n="i-amphtml-story-attribution",bn="__AMP_VIEWER_CONTROL_EVENT_NAME__",vn={"share":{"selector":`.${fn}`},"close":{"selector":`.${hn}`},"skip-next":{"selector":`.${pn}`},"skip-to-next":{"selector":`.${pn}`}},An="amp-story-state",Pn="ampStoryNavigationPath";function xn(t,i){const{history:s}=t;let o=jo(s);return o&&o[i]||(o=function(t){const{hash:i}=t.location;if(-1!=i.indexOf("page=")||-1!=i.indexOf("ignoreLocalStorageHistory"))return;const s=wn(t),o=s&&s[Tn(t)];return o&&o.state}(t)),o&&o[i]||null}function wn(t){const i=function(t){try{return at(t.localStorage.getItem(An))}catch(t){return null}}(t);if(!i)return{};const s=Date.now();let o=!1;return Object.keys(i).forEach((t=>{const n=i[t];s>n.time+6e5&&(delete i[t],o=!0)})),o&&En(t,i),i}function Tn(t){return t.location.href.replace(/\#.*/,"")}function En(t,i){try{t.localStorage.setItem(An,JSON.stringify(i))}catch(t){}}var Mn={className:"i-amphtml-story-back-prev",triggers:Ri,label:"93"},In={className:"i-amphtml-story-fwd-next",triggers:ki,label:"91"},Rn={className:"i-amphtml-story-fwd-next",triggers:ki,label:"90"},kn={className:"i-amphtml-story-fwd-replay",triggers:Si,label:"92"},Vn=class{constructor(t,i,s,o){this.Mi=i,this._p=t,this.element=((t,i)=>bt("div",{onClick:i,class:`i-amphtml-story-button-container ${t.className}`},bt("button",{class:"i-amphtml-story-button-move","i-amphtml-i18n-aria-label":t.label})))(i,(t=>this.IV(t))),Os(this.element,t),this.Pk=Vt(this.element.firstElementChild),this.pT=s,this.i=o,this.Ua=ri(t)}updateState(t){t!==this.Mi&&(this.Ua.mutateElement(this.element,(()=>{this.element.classList.remove(this.Mi.className),this.element.classList.add(t.className),this.Mi=t})),hi(this._p).getLocalizedStringAsync(t.label).then((t=>this.Pk.setAttribute("aria-label",t))))}getState(){return this.Mi}setEnabled(t){this.Ua.mutateElement(this.element,(()=>{this.element.classList.toggle("i-amphtml-story-button-hidden",!t),ct(this.element.querySelector("button"),"disabled",!t)}))}IV(t){t.preventDefault(),this.pT.dispatch(7,Wi),this.Mi.triggers?Ci(this.i,this.element,Vt(this.Mi.triggers),void 0,{bubbles:!0}):this.Mi.action&&this.pT.dispatch(this.Mi.action,this.Mi.data)}},Sn="__AMP_Gestures",zn=class t{static get(i,s=!1,o=!1){let n=i[Sn];return n||(n=new t(i,s,o),i[Sn]=n),n}constructor(t,i=!1,s=!1){this.yp=t,this.bk=[],this.t_=[],this.gi=[],this.vk=[],this.Tk=null;const o=function(t){if(void 0!==ii)return ii;ii=!1;try{const i={get passive(){return ii=!0,!1}};t.addEventListener("test-options",null,i),t.removeEventListener("test-options",null,i)}catch(t){}return ii}(t.ownerDocument.defaultView);this.Ek=i||o,this.xk=s,this.Mk=!1,this.ar=new class{constructor(t,i,s){this.er=pi(t),this.nr=i,this.rr=s||0,this.hr=-1,this.ur=0,this.lr=!1,this.cr=()=>{this.ar()}}isPending(){return-1!=this.hr}schedule(t){let i=t||this.rr;this.lr&&i<10&&(i=10);const s=Date.now()+i;return(!this.isPending()||s-this.ur<-10)&&(this.cancel(),this.ur=s,this.hr=this.er.delay(this.cr,i),!0)}ar(){this.hr=-1,this.ur=0,this.lr=!0,this.nr(),this.lr=!1}cancel(){this.isPending()&&(this.er.cancel(this.hr),this.hr=-1)}}(tt(t),this.Sf.bind(this)),this.wk=new _i,this.Ik=Object.create(null),this.Rk=this.Am.bind(this),this.Vk=this.wm.bind(this),this.kk=this.bm.bind(this),this.Sk=this.h_.bind(this),this.yp.addEventListener("touchstart",this.Rk,!!o&&{passive:!0}),this.yp.addEventListener("touchend",this.Vk),this.yp.addEventListener("touchmove",this.kk,!!o&&{passive:!0}),this.yp.addEventListener("touchcancel",this.Sk),this.Ok=!1}cleanup(){this.yp.removeEventListener("touchstart",this.Rk),this.yp.removeEventListener("touchend",this.Vk),this.yp.removeEventListener("touchmove",this.kk),this.yp.removeEventListener("touchcancel",this.Sk),delete this.yp[Sn],this.ar.cancel()}onGesture(t,i){const s=new t(this),o=s.getType();let n=this.Ik[o];return n||(this.bk.push(s),n=new _i,this.Ik[o]=n),n.add(i)}removeGesture(t){const i=new t(this).getType(),s=this.Ik[i];if(s){s.removeAll();const t=e(this.bk,(t=>t.getType()==i));return!(t<0||(this.bk.splice(t,1),this.gi.splice(t,1),this.vk.splice(t,1),this.t_.splice(t,1),delete this.Ik[i],0))}return!1}onPointerDown(t){return this.wk.add(t)}Am(t){const i=Date.now();this.Mk=!1,this.wk.fire(t);for(let s=0;s<this.bk.length;s++)this.gi[s]||(this.vk[s]&&this.vk[s]<i&&this.o_(s),this.bk[s].onTouchStart(t)&&this.u_(s));this.Ck(t)}bm(t){const i=Date.now();for(let s=0;s<this.bk.length;s++)this.t_[s]&&(this.vk[s]&&this.vk[s]<i?this.o_(s):this.bk[s].onTouchMove(t)||this.o_(s));this.Ck(t)}wm(t){const i=Date.now();for(let s=0;s<this.bk.length;s++){if(!this.t_[s])continue;if(this.vk[s]&&this.vk[s]<i){this.o_(s);continue}this.bk[s].onTouchEnd(t);const o=!this.vk[s],n=this.vk[s]<i;this.Tk==this.bk[s]||!o&&!n||this.o_(s)}this.Ck(t)}h_(t){for(let t=0;t<this.bk.length;t++)this.zk(t);this.Ck(t)}ym(t,i){if(this.Tk)return void t.acceptCancel();const s=Date.now();for(let o=0;o<this.bk.length;o++)this.bk[o]==t&&(this.gi[o]=s+i,this.vk[o]=0);this.Ok=!0}Nk(t,i){if(this.Tk)return void t.acceptCancel();const s=Date.now();for(let o=0;o<this.bk.length;o++)this.bk[o]==t&&(this.vk[o]=s+i)}Lk(t){this.Tk==t&&(this.Tk=null,this.Mk=!0)}Dk(t,i,s){u(this.Tk==t);const o=this.Ik[t.getType()];o&&o.fire(new class{constructor(t,i,s,o){this.type=t,this.data=i,this.time=s,this.event=o}}(t.getType(),i,Date.now(),s))}Ck(t){let i=!!this.Tk||this.Mk;if(this.Mk=!1,!i){const t=Date.now();for(let s=0;s<this.bk.length;s++)if(this.gi[s]||this.vk[s]&&this.vk[s]>=t){i=!0;break}}i?(t.stopPropagation(),this.Ek||t.preventDefault()):this.xk&&t.stopPropagation(),this.Ok&&(this.Ok=!1,this.Sf())}Sf(){const t=Date.now();let i=-1;for(let s=0;s<this.bk.length;s++)this.gi[s]?(-1==i||this.gi[s]>this.gi[i])&&(i=s):this.vk[s]&&this.vk[s]<t&&this.o_(s);if(-1==i)return;let s=0;for(let i=0;i<this.bk.length;i++)!this.gi[i]&&this.t_[i]&&(s=Math.max(s,this.vk[i]-t));s<2?this.Uk(i):this.ar.schedule(s)}Uk(t){const i=this.bk[t];for(let i=0;i<this.bk.length;i++)i!=t&&this.zk(i);this.gi[t]=0,this.vk[t]=0,this.Tk=i,i.acceptStart()}u_(t){this.t_[t]=!0,this.vk[t]=0}o_(t){this.t_[t]=!1,this.vk[t]=0,this.gi[t]||this.bk[t].acceptCancel()}zk(t){this.gi[t]=0,this.o_(t)}};function On(t,i,s){i<1&&(i=1);const o=t/i,n=.5+Math.min(i/33.34,.5);return o*n+s*(1-n)}Math.round(-16.67/Math.log(.95));var Cn="ad-showing",Nn="auto-advance-to",Ln="muted",Dn="i-amphtml-return-to",Un="i-amphtml-visited",$n={[Po]:4,[xo]:8},jn="amp-story",Fn=class i extends t.BaseElement{static prerenderAllowed(){return!0}constructor(t){var i;super(t),this.pT=Pi(this.win),"rtl"==((i=this.win.document).body.getAttribute("dir")||i.documentElement.getAttribute("dir")||"ltr")&&this.pT.dispatch(28,!0),this.$k=qi(this.win,this.element),this.Gx=ko.forElement(this.win,this.element),this.Gx.start(),this.Kh=this.getVsync(),this.jk=new class{constructor(t,i){this.i=t,this.Fk=i,this.ql=null,this.Hk=null,this.Bk=null,this.Yk=Qo.create(t,this.Fk),this.pT=Pi(this.i),this.Kh=ci(this.i),this.er=pi(this.i),this.QE=null,this.Tr=null,this.Gk=null}build(t,i=!0){return this.ql||(this.Hk=((t,i,s)=>{const o=bt("aside",{class:"i-amphtml-story-system-layer i-amphtml-story-system-reset"},i,bt("a",{class:String(_n),target:"_blank"},bt("div",{class:"i-amphtml-story-attribution-logo-container"},bt("img",{alt:"",class:"i-amphtml-story-attribution-logo"})),bt("div",{class:"i-amphtml-story-attribution-text"})),bt("div",{class:"i-amphtml-story-has-new-page-notification-container"},bt("div",{class:"i-amphtml-story-has-new-page-text-wrapper"},bt("span",{class:"i-amphtml-story-has-new-page-circle-icon"}),bt("div",{class:"i-amphtml-story-has-new-page-text","i-amphtml-i18n-text-content":"64"}))),bt("div",{class:"i-amphtml-story-system-layer-buttons"},bt("div",{role:"button",class:gn+" i-amphtml-story-button","i-amphtml-i18n-aria-label":"68"}),bt("div",{class:"i-amphtml-story-captions-display"},bt("button",{class:rn+" i-amphtml-story-button","i-amphtml-i18n-aria-label":"111"}),bt("button",{class:an+" i-amphtml-story-button","i-amphtml-i18n-aria-label":"112"})),bt("div",{class:"i-amphtml-story-sound-display"},bt("button",{class:mn+" i-amphtml-story-button","i-amphtml-i18n-aria-label":"67"}),bt("button",{class:en+" i-amphtml-story-button","i-amphtml-i18n-aria-label":"66"})),bt("div",{class:"i-amphtml-paused-display"},bt("button",{class:cn+" i-amphtml-story-button","i-amphtml-i18n-aria-label":"85"}),bt("button",{class:un+" i-amphtml-story-button","i-amphtml-i18n-aria-label":"86"})),bt("button",{class:pn+" i-amphtml-story-ui-hide-button i-amphtml-story-button","i-amphtml-i18n-aria-label":"88"}),bt("button",{class:fn+" i-amphtml-story-button","i-amphtml-i18n-aria-label":"69"}),bt("button",{class:hn+" i-amphtml-story-ui-hide-button i-amphtml-story-button","i-amphtml-i18n-aria-label":"87"})),bt("div",{class:"i-amphtml-story-system-layer-buttons-start-position"}));return s||o.classList.add("i-amphtml-story-hidden"),o})(this.Fk,this.Yk.build(t),i),Os(this.Hk,this.Fk),this.Hk.querySelector(".i-amphtml-story-share-control").href=oi(this.Fk).canonicalUrl,this.ql=gs(bt("div",{class:"i-amphtml-system-layer-host"}),this.Hk,'.i-amphtml-story-system-layer{background:linear-gradient(180deg,#0004,#0002 33%,#0001 67%,#0000)!important;position:absolute!important;display:-ms-flexbox!important;display:flex!important;-ms-flex-pack:justify!important;justify-content:space-between!important;top:0!important;left:0!important;right:0!important;height:140px!important;z-index:100000!important;transition:opacity 0.3s cubic-bezier(0,0,0.2,1)!important;pointer-events:none!important;font-family:Roboto,sans-serif!important}.i-amphtml-story-hidden.i-amphtml-story-system-layer{opacity:0!important;transition:opacity 0.15s cubic-bezier(0.4,0,1,1)!important}.i-amphtml-story-hidden.i-amphtml-story-system-layer *{pointer-events:none!important}.i-amphtml-story-attribution{top:0!important;border:none!important;pointer-events:auto!important;cursor:pointer!important;padding:6px 8px 0!important;height:48px!important;place-items:center!important;display:-ms-flexbox!important;display:flex!important;text-decoration:none!important;overflow:hidden!important;visibility:hidden!important}.i-amphtml-story-attribution-visible{visibility:visible!important}[desktop] .i-amphtml-story-attribution{padding:6px 6px 0!important;left:0!important;right:0!important}.i-amphtml-story-attribution>*{margin:0px 4px!important}.i-amphtml-story-attribution-logo-container{display:grid!important;place-items:center!important}.i-amphtml-story-attribution-logo{border-radius:100%!important;border:1px solid #d4d4d4!important;width:28px!important;height:28px!important;-o-object-fit:cover!important;object-fit:cover!important;box-shadow:0px 0px 6px rgba(0,0,0,0.12)!important}.i-amphtml-story-attribution-text{white-space:nowrap!important;overflow:hidden!important;text-overflow:ellipsis!important;font-size:13px!important;font-weight:500!important;text-shadow:0px 0px 6px rgba(0,0,0,0.16)!important;color:#fff!important}.i-amphtml-story-system-layer-buttons,.i-amphtml-story-system-layer-buttons-start-position{display:-ms-flexbox!important;display:flex!important;-ms-flex-direction:row!important;flex-direction:row!important;-ms-flex-pack:end!important;justify-content:flex-end!important;padding:8px 4px!important;box-sizing:border-box!important;-ms-flex:1!important;flex:1!important}.i-amphtml-story-system-layer-buttons-start-position{position:absolute!important;top:0!important;-ms-flex-pack:start!important;justify-content:flex-start!important}[desktop] .i-amphtml-story-system-layer-buttons{padding:8px 4px 0!important}.i-amphtml-story-system-layer-buttons .i-amphtml-story-ui-hide-button.i-amphtml-story-button{display:none!important}.i-amphtml-story-button{height:48px!important;width:48px!important;cursor:pointer!important;border:none!important;pointer-events:auto!important;background:none!important}[desktop] .i-amphtml-story-button{margin:0 4px!important}.i-amphtml-story-button:active{background-color:rgba(0,0,0,0.2)!important}.i-amphtml-story-progress-bar{border:0!important;display:-ms-flexbox!important;display:flex!important;height:2px!important;left:0!important;right:0!important;top:0!important;margin:6px 10px 0!important;padding:0 2px!important;position:absolute!important;visibility:visible!important;z-index:100001!important;overflow:hidden!important}[ad-showing] .i-amphtml-story-progress-bar-exp-disabled.i-amphtml-story-progress-bar{display:none!important}[ad-showing] .i-amphtml-story-attribution{visibility:hidden!important}[ad-showing] .i-amphtml-story-share-control{display:none!important}[ad-showing]:not([i-amphtml-current-page-has-audio]) .i-amphtml-story-mute-audio-control,[ad-showing]:not([i-amphtml-current-page-has-audio]) .i-amphtml-story-unmute-audio-control{visibility:hidden!important}.i-amphtml-story-page-progress-bar{background:hsla(0,0%,100%,0.4)!important;border-radius:1px!important;height:100%!important;list-style-type:none!important;margin:0 2px!important;overflow:hidden!important;width:100%!important}.i-amphtml-story-page-progress-value{background:#fff!important;height:100%!important;width:100%!important;transform:translateZ(0) scaleX(0)!important;transform-origin:left!important}.i-amphtml-story-ad-progress-value{background-color:#fbc02d!important}[dir=rtl] .i-amphtml-story-page-progress-value{transform-origin:right!important}[i-amphtml-story-has-new-page=noshow] .i-amphtml-story-has-new-page-notification-container{transition:opacity 1.5s,visibility 1.5s!important;opacity:0!important;visibility:hidden!important}.i-amphtml-last-page-active[i-amphtml-story-has-new-page=show] .i-amphtml-story-has-new-page-notification-container{transition:opacity 1.5s,visibility 1.5s!important;opacity:1!important;visibility:visible!important}.i-amphtml-story-mute-text,.i-amphtml-story-unmute-no-sound-text,.i-amphtml-story-unmute-sound-text{width:-webkit-max-content!important;width:max-content!important;color:#fff!important}.i-amphtml-story-sound-display{display:inline-block!important;height:46px!important;position:relative!important}.i-amphtml-story-captions-control,.i-amphtml-story-mute-audio-control,.i-amphtml-story-mute-text,.i-amphtml-story-no-audio-ui .i-amphtml-story-sound-display,.i-amphtml-story-nocaptions-control,.i-amphtml-story-pause-control,.i-amphtml-story-play-control,.i-amphtml-story-skip-to-next,.i-amphtml-story-unmute-audio-control,.i-amphtml-story-unmute-no-sound-text,.i-amphtml-story-unmute-sound-text{display:none!important}.i-amphtml-story-system-layer:not([desktop]):not(.i-amphtml-story-desktop-one-panel):not(.amp-mode-keyboard-active) .i-amphtml-paused-display button:not(:focus){margin:0!important;padding:0!important;width:0px!important;opacity:0!important;pointer-events:none!important}[i-amphtml-current-page-has-audio]:not([muted]) .i-amphtml-story-mute-audio-control,[i-amphtml-current-page-has-audio][muted] .i-amphtml-story-unmute-audio-control,[i-amphtml-current-page-has-captions]:not([captions-on]) .i-amphtml-story-nocaptions-control,[i-amphtml-current-page-has-captions][captions-on] .i-amphtml-story-captions-control{display:block!important}.i-amphtml-story-system-layer-buttons button[disabled][disabled]{display:none!important}.i-amphtml-story-has-playback-ui:not([paused]) .i-amphtml-story-pause-control,.i-amphtml-story-has-playback-ui[paused] .i-amphtml-story-play-control{display:block!important}.i-amphtml-story-ui-no-buttons .i-amphtml-story-button,.i-amphtml-story-ui-no-buttons .i-amphtml-story-system-layer-buttons{visibility:hidden!important}.i-amphtml-story-unmute-audio-control{background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="none"><path fill="%23fff" fill-rule="evenodd" d="M27.53 16.97a.95.95 0 0 1 1.1-.76c.75.13 2.28.7 3.63 1.9a7.71 7.71 0 0 1 2.62 5.95c0 1.86-.55 3.32-1.33 4.45l-1.38-1.37c.48-.8.8-1.81.8-3.08 0-2.16-.92-3.59-1.97-4.53a6.43 6.43 0 0 0-2.7-1.45.95.95 0 0 1-.77-1.1z" clip-rule="evenodd"/><path fill="%23fff" fill-rule="evenodd" d="M27.54 21.03a.95.95 0 0 1 1.14-.72c.7.16 2.5 1.19 2.5 3.71 0 .7-.15 1.28-.36 1.76l-1.56-1.52c.05-.6-.07-1.25-.48-1.71-.23-.26-.47-.36-.51-.38 0 0-.01 0 0 0a.95.95 0 0 1-.73-1.14z" clip-rule="evenodd"/><path fill="%23fff" d="M23.4 16.79v1.56l1.9 1.9v-4.27c0-.3-.12-.6-.29-.84a1.59 1.59 0 0 0-.7-.57c-.29-.11-.61-.16-.9-.1-.3.06-.61.21-.82.42l-1.31 1.34 1.33 1.34.8-.78z"/><path stroke="%23fff" stroke-linecap="round" stroke-width="1.9" d="m20.12 18.73-1.76 1.81h-2.59c-.94 0-1.7.76-1.7 1.7v3.45c0 .93.75 1.68 1.67 1.7l2.6.04 4.9 4.9a.65.65 0 0 0 1.1-.46v-9.1"/><path stroke="%23fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m17.13 15.36 17.2 17.19"/><path stroke="%23fff" stroke-linecap="round" stroke-width="1.9" d="M28.47 30.84A7.2 7.2 0 0 0 31 29.67"/></svg>\')!important}.i-amphtml-story-mute-audio-control{background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="none"><path stroke="%23fff" stroke-linecap="round" stroke-width="1.9" d="M28.47 17.14c1.15.2 5.46 1.98 5.46 6.92 0 4.95-4.39 6.63-5.46 6.83"/><path stroke="%23fff" stroke-linecap="round" stroke-width="1.8" d="M28.47 21.24c.37.08 1.75.79 1.75 2.78 0 1.99-1.4 2.67-1.75 2.74"/><path stroke="%23fff" stroke-linecap="round" stroke-width="1.9" d="m18.36 27.48 4.88 4.9a.65.65 0 0 0 1.1-.46V16.09c0-.58-.7-.87-1.1-.45l-4.88 4.94h-2.59c-.94 0-1.7.77-1.7 1.7v3.45c0 .93.75 1.69 1.67 1.7l2.62.05z"/></svg>\')!important}:host(.i-amphtml-story-highlight-mute-audio-control) .i-amphtml-story-mute-audio-control:before{content:""!important;position:absolute!important;width:42px!important;height:42px!important;border-radius:50%!important;background-color:#b1b1b1!important;inset:0!important;margin:auto!important;opacity:0;animation:expand-fade 10s ease-in-out!important}@keyframes expand-fade{0%,40%{transform:scale(0)}50%,90%{transform:scale(1);opacity:0.5}to{opacity:0}}.i-amphtml-story-captions-control{background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="none"><path fill="%23fff" d="M28.9 15.4h-9.8a5.4 5.4 0 0 0-5.4 5.3v6.6a5.4 5.4 0 0 0 5.4 5.3h9.8a5.4 5.4 0 0 0 5.4-5.3v-6.6a5.4 5.4 0 0 0-5.4-5.3zm1 6h-1.7a1.1 1.1 0 0 0-1.1 1.2v2.8a1.1 1.1 0 0 0 1.1 1.1h1.6c.6 0 1 .5 1 1 0 .7-.4 1.2-1 1.2h-1.6a3.3 3.3 0 0 1-3.3-3.3v-2.8a3.3 3.3 0 0 1 3.3-3.3h1.6c.6.1 1 .6 1 1.1 0 .6-.4 1-1 1zm-8.1 0H20a1.1 1.1 0 0 0-1 1.2v2.8a1.1 1.1 0 0 0 1 1.1h1.6c.6 0 1.1.5 1.1 1 0 .7-.5 1.2-1 1.2h-1.6a3.3 3.3 0 0 1-3.3-3.3v-2.8a3.3 3.3 0 0 1 3.3-3.3h1.6c.5.1 1 .6 1 1.1a1.1 1.1 0 0 1-1 1z"/></svg>\')!important;width:52px!important}.i-amphtml-story-nocaptions-control{background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="none"><rect width="18.74" height="15.43" x="14.63" y="16.29" stroke="%23fff" stroke-width="1.85" rx="4.42"/><path stroke="%23fff" stroke-linecap="round" stroke-width="1.85" d="M22.4 20.38h-1.63a2.2 2.2 0 0 0-2.2 2.2v2.84c0 1.21.98 2.2 2.2 2.2h1.63m7.07-7.24h-1.63a2.2 2.2 0 0 0-2.2 2.2v2.84c0 1.21.98 2.2 2.2 2.2h1.63"/></svg>\')!important;width:52px!important}.i-amphtml-story-pause-control{background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="none"><path stroke="%23fff" stroke-linecap="round" stroke-width="2.1" d="M20.33 16.86v15.4m7.34-15.4v15.4"/></svg>\')!important}.i-amphtml-story-play-control{background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="none"><path stroke="%23fff" stroke-linecap="round" stroke-width="1.9" d="M17.74 30.34V18.53a1.8 1.8 0 0 1 2.77-1.52l9.23 5.92a1.8 1.8 0 0 1 0 3.03l-9.23 5.9a1.8 1.8 0 0 1-2.77-1.52z"/></svg>\')!important}.i-amphtml-story-share-control{background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="none"><path fill="%23fff" d="m21.1 25.4 9.87-9.86 1.42 1.42-9.86 9.87z"/><path stroke="%23fff" stroke-linecap="round" stroke-width="1.9" d="m16.85 19.82 15.33-4.14c.04 0 .07.03.06.06l-4.02 15.34a1.6 1.6 0 0 1-2.97.33l-2.93-5.73-5.77-2.88a1.6 1.6 0 0 1 .3-2.98z"/></svg>\')!important}.i-amphtml-story-info-control{background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="none"><rect width="2.2" height="6.7" x="22.9" y="22.6" fill="%23fff" rx="1.1"/><path stroke="%23fff" stroke-width="1.9" d="M31.7 24a7.7 7.7 0 1 1-15.4 0 7.7 7.7 0 0 1 15.4 0z"/><circle cx="24" cy="20.2" r="1.2" fill="%23fff"/></svg>\')!important;display:none!important;background-size:auto!important}.i-amphtml-story-close-control{background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="none"><rect width="1.84" height="18.84" x="16.68" y="18" fill="%23fff" rx=".92" transform="rotate(-45 16.68 18)"/><rect width="1.84" height="18.84" x="30" y="16.7" fill="%23fff" rx=".92" transform="rotate(45 30 16.7)"/></svg>\')!important}.i-amphtml-story-skip-to-next{background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="none"><path stroke="%23fff" stroke-linecap="round" stroke-width="1.9" d="M17 29.2V18.8c0-1.2 1.4-2 2.5-1.3l7.5 5.2c1 .6 1 2 0 2.6l-7.5 5.2c-1 .7-2.5 0-2.5-1.3z"/><rect width="1.8" height="15.6" x="30.2" y="16.2" fill="%23fff" rx=".9"/></svg>\')!important}[desktop] .i-amphtml-story-skip-to-next{display:block!important}.i-amphtml-story-has-new-page-notification-container{position:absolute!important;z-index:100002!important;top:32px!important;right:0!important;left:0!important;opacity:0!important}.i-amphtml-story-has-new-page-notification-container,.i-amphtml-story-has-new-page-text-wrapper{display:-ms-flexbox!important;display:flex!important;-ms-flex-pack:center!important;justify-content:center!important}.i-amphtml-story-has-new-page-text-wrapper{background-color:rgba(32,33,37,0.8)!important;-ms-flex-align:center!important;align-items:center!important;padding:4px 10px 4px 0!important;border-radius:5px!important}[dir=rtl] .i-amphtml-story-has-new-page-text-wrapper{padding-right:0!important;padding-left:10px!important}.i-amphtml-story-has-new-page-text{color:#fff!important;font-size:16px!important;text-shadow:0px 0px 6px rgba(0,0,0,0.36)!important;font-weight:700!important}.i-amphtml-story-has-new-page-circle-icon{background:#03ffa0!important;border-radius:50%!important;height:6px!important;width:6px!important;position:relative!important;box-shadow:0 0 0 2px rgba(3,255,160,0.5)!important;margin:0px 10px!important}.i-amphtml-embedded.i-amphtml-first-page-active .i-amphtml-story-info-control{display:block!important}.i-amphtml-story-no-sharing .i-amphtml-story-info-control,.i-amphtml-story-no-sharing .i-amphtml-story-share-control{display:none!important}.i-amphtml-animate-progress li{transition:transform 0.8s cubic-bezier(0.4,0,0.2,1)!important}.i-amphtml-story-desktop-fullbleed .i-amphtml-story-progress-bar{height:3px!important}.i-amphtml-progress-bar-overflow .i-amphtml-story-page-progress-bar{border-radius:0px!important;list-style:none!important;margin:0 2px!important;width:2px!important;position:absolute!important;transform-origin:left!important}[dir=rtl].i-amphtml-progress-bar-overflow .i-amphtml-story-page-progress-bar{transform-origin:right!important}[desktop] .i-amphtml-progress-bar-overflow .i-amphtml-story-page-progress-bar{width:3px!important}.i-amphtml-story-desktop-one-panel.i-amphtml-story-system-layer{width:var(--i-amphtml-story-desktop-one-panel-width)!important;margin:auto!important;margin-top:var(\n    --i-amphtml-story-desktop-one-panel-responsive-margin\n  )!important;border-radius:var(\n    --i-amphtml-story-desktop-one-panel-border-radius\n  )!important}\n/*# sourceURL=/extensions/amp-story/1.0/amp-story-system-layer.css*/'),this.Bk=this.Hk.querySelector(".i-amphtml-story-system-layer-buttons"),this.mT(),this.pT.subscribe(xi.CAN_SHOW_SYSTEM_LAYER_BUTTONS,(t=>{this.Hk.classList.toggle("i-amphtml-story-ui-no-buttons",!t)}),!0),ei(this.i).isIos()&&this.Hk.setAttribute("ios",""),this.Tr=mi(this.i.document.documentElement),this.Gk=this.Tr.isEmbedded()?new Ko(this.i,this.Tr):null,bs(this.Tr,this.pT)?(this.Hk.classList.add("i-amphtml-embedded"),this.getShadowRoot().setAttribute(nn,"")):this.getShadowRoot().removeAttribute(nn),this.Wk(),this.getShadowRoot().setAttribute(yn,"noshow")),this.ql}Wk(){if(!this.Tr||"auto"!==this.Tr.getParam("attribution"))return;this.Hk.querySelector(".i-amphtml-story-attribution-logo").src=vs(this.Fk,"entity-logo-src")||vs(this.Fk,"publisher-logo-src");const t=this.Hk.querySelector(`.${f(_n)}`);t.href=vs(this.Fk,"entity-url")||li(this.Fk).getSourceOrigin(oi(this.Fk).sourceUrl),this.Hk.querySelector(".i-amphtml-story-attribution-text").textContent=this.Fk.getAttribute("entity")||this.Fk.getAttribute("publisher"),t.classList.add("i-amphtml-story-attribution-visible")}mT(){this.getShadowRoot().addEventListener("click",(t=>{const i=t.target;b(i,`.${en}, .${en} *`)?this.qk(!0):b(i,`.${mn}, .${mn} *`)?this.qk(!1):b(i,`.${cn}, .${cn} *`)?this.Xk(!0):b(i,`.${un}, .${un} *`)?this.Xk(!1):b(i,`.${rn}, .${rn} *`)?this.Kk(!1):b(i,`.${an}, .${an} *`)?this.Kk(!0):b(i,`.${fn}, .${fn} *`)?this.Zk(t):b(i,`.${gn}, .${gn} *`)?this.Jk():b(i,`.${ln}, .${ln} *`)?this.Qk(t.target):b(i,`.${_n}, .${_n} *`)&&As(v(i,(t=>b(t,"a[href]"))),this.Fk)})),this.pT.subscribe(xi.AD_STATE,(t=>{this.tS(t)})),this.pT.subscribe(xi.CAN_SHOW_AUDIO_UI,(t=>{this.iS(t)}),!0),this.pT.subscribe(xi.CAN_SHOW_SHARING_UIS,(t=>{this.sS(t)}),!0),this.pT.subscribe(xi.STORY_HAS_PLAYBACK_UI_STATE,(t=>{this.nS(t)}),!0),this.pT.subscribe(xi.MUTED_STATE,(t=>{this.oy(t)}),!0),this.pT.subscribe(xi.UI_STATE,(t=>{this.Kh.mutate((()=>this.mR(t)))})),this.mR(this.pT.get(xi.UI_STATE)),this.pT.subscribe(xi.PAUSED_STATE,(t=>{this.eS(t)}),!0),this.pT.subscribe(xi.CURRENT_PAGE_INDEX,(t=>{this.oS(t)}),!0),this.pT.subscribe(xi.RTL_STATE,(t=>{this.RV(t)}),!0),this.pT.subscribe(xi.KEYBOARD_ACTIVE_STATE,(t=>{this.rS(t)}),!0),this.pT.subscribe(xi.PAGE_HAS_CAPTIONS_STATE,(t=>this.aS(t)),!0),this.pT.subscribe(xi.CAPTIONS_STATE,(t=>this.hS(t)),!0),this.pT.subscribe(xi.PAGE_HAS_AUDIO_STATE,(t=>{this.lS(t)}),!0),this.pT.subscribe(xi.PAGE_HAS_ELEMENTS_WITH_PLAYBACK_STATE,(t=>{this.pS(t)}),!0),this.pT.subscribe(xi.SYSTEM_UI_IS_VISIBLE_STATE,(t=>{this.mS(t)})),this.pT.subscribe(xi.NEW_PAGE_AVAILABLE_ID,(()=>{this.cS()})),this.pT.subscribe(xi.VIEWER_CUSTOM_CONTROLS,(t=>this.uS(t)),!0)}getShadowRoot(){return this.Hk}tS(t){t?this.getShadowRoot().setAttribute(tn,""):this.getShadowRoot().removeAttribute(tn)}iS(t){this.Kh.mutate((()=>{this.getShadowRoot().classList.toggle("i-amphtml-story-no-audio-ui",!t)}))}sS(t){this.Kh.mutate((()=>{this.getShadowRoot().classList.toggle("i-amphtml-story-no-sharing",!t)}))}nS(t){this.Kh.mutate((()=>{this.getShadowRoot().classList.toggle("i-amphtml-story-has-playback-ui",t)}))}Kk(t){this.pT.dispatch(25,t)}lS(t){t=t||!!this.pT.get(xi.STORY_HAS_BACKGROUND_AUDIO_STATE),this.Kh.mutate((()=>{t?this.getShadowRoot().setAttribute(dn,""):this.getShadowRoot().removeAttribute(dn)}))}aS(t){ct(this.Hk,"i-amphtml-current-page-has-captions",t)}hS(t){ct(this.Hk,"captions-on",t)}pS(t){this.Kh.mutate((()=>{r(this.getShadowRoot().querySelectorAll(".i-amphtml-paused-display button")).forEach((i=>{i.disabled=!t}))}))}oy(t){this.Kh.mutate((()=>{t?this.getShadowRoot().setAttribute(sn,""):this.getShadowRoot().removeAttribute(sn)}))}eS(t){this.Kh.mutate((()=>{t?this.getShadowRoot().setAttribute(on,""):this.getShadowRoot().removeAttribute(on)}))}dS(t){this.QE&&this.er.cancel(this.QE),this.QE=this.er.delay((()=>this.fS(t)),1500)}fS(t){this.ql&&this.Kh.mutate((()=>{this.getShadowRoot().setAttribute(t,"noshow")}))}mR(t){const i=this.getShadowRoot();switch(i.classList.remove("i-amphtml-story-desktop-fullbleed"),i.classList.remove("i-amphtml-story-desktop-one-panel"),i.removeAttribute("desktop"),t){case 2:i.setAttribute("desktop",""),i.classList.add("i-amphtml-story-desktop-fullbleed");break;case 4:i.classList.add("i-amphtml-story-desktop-one-panel")}}mS(t){this.Kh.mutate((()=>{const i=this.getShadowRoot();i.classList.toggle("i-amphtml-story-hidden",!t),r(i.querySelectorAll("button")).forEach((i=>function(t,i){i?(t.removeAttribute("tab-index"),t.removeAttribute("aria-hidden")):(t.setAttribute("tab-index","-1"),t.setAttribute("aria-hidden","true"))}(i,t)))}))}oS(t){this.Kh.mutate((()=>{const i=this.pT.get(xi.PAGE_IDS).length-1;this.getShadowRoot().classList.toggle("i-amphtml-first-page-active",0===t),this.getShadowRoot().classList.toggle("i-amphtml-last-page-active",t===i)}))}RV(t){this.Kh.mutate((()=>{t?this.getShadowRoot().setAttribute("dir","rtl"):this.getShadowRoot().removeAttribute("dir")}))}rS(t){this.Kh.mutate((()=>{this.getShadowRoot().classList.toggle("amp-mode-keyboard-active",t)}))}qk(t){this.pT.dispatch(21,t)}Xk(t){this.pT.dispatch(wi,t)}Zk(t){if(t.preventDefault(),t.target[bn])return void this.Qk(t.target);const i=this.pT.get(xi.SHARE_MENU_STATE);this.pT.dispatch(29,!i)}Qk(t){const i=t[bn];this.Gk&&this.Gk.send("documentStateUpdate",{"state":"AMP_STORY_PLAYER_EVENT","value":i})}Jk(){const t=this.pT.get(xi.INFO_DIALOG_STATE);this.pT.dispatch(18,!t)}cS(){this.Kh.mutate((()=>{this.getShadowRoot().setAttribute(yn,"show"),this.dS(yn)}))}uS(t){t.length<=0||t.forEach((t=>{if(!t.name)return;const i=vn[t.name];let s;if(i&&i.selector?s=y(this.getShadowRoot(),i.selector):(s=bt("button",{class:"i-amphtml-story-button"}),this.Kh.mutate((()=>{this.Bk.appendChild(s)}))),this.Kh.mutate((()=>{s.classList.add(ln)})),"hidden"===t.visibility&&this.Kh.mutate((()=>{s.classList.add("i-amphtml-story-ui-hide-button")})),t.visibility&&"visible"!==t.visibility||this.Kh.mutate((()=>{s.classList.remove("i-amphtml-story-ui-hide-button")})),"disabled"===t.state&&this.Kh.mutate((()=>{s.disabled=!0})),"start"===t.position){const t=this.Hk.querySelector(".i-amphtml-story-system-layer-buttons-start-position");this.Kh.mutate((()=>{this.Bk.removeChild(s),t.appendChild(s)}))}t.backgroundImageUrl&&O(s,{"background-image":`url('${t.backgroundImageUrl}')`}),s[bn]=`amp-story-player-${t.name}`}))}updateProgress(t,i){this.Yk.updateProgress(t,i)}}(this.win,this.element),new class{constructor(t,i){this.i=t,this.FV=i,this.wv=li(i),this.mi=null,this._S=null,this.gS=null,this.yS=null,this.pT=Pi(this.i),this.Ua=ri($t(this.i.document)),this.$k=qi(this.i,i),this.er=pi(this.i),this.AS=null,this.PS=null,this.pT.subscribe(xi.INTERACTIVE_COMPONENT_STATE,(t=>{this.bS(t)})),this.Mi=0,this.vS=null,this.TS=null}bS(t){switch(t.state){case 0:this.ES(0,null);break;case 1:this.ES(1,t)}}ES(t,i){switch(t){case 1:this.Mi=t,this.xS(i),this.$k.triggerEvent("story-focus",this.AS);break;case 0:this.Mi=t,this.xS(null)}}MS(){return this._S=this.wS(),this.mi=gs(bt("div",null),this._S,'.i-amphtml-story-focused-state-layer{top:0!important;left:0!important;width:100%!important;height:100%!important;z-index:100001!important;position:absolute!important}.i-amphtml-story-focused-state-layer.i-amphtml-hidden{opacity:0!important;pointer-events:none!important;transition:opacity 0.1s cubic-bezier(0.4,0.0,1,1)!important}.i-amphtml-story-focused-state-layer-nav-button-container{height:100%!important;width:160px!important;position:absolute!important;display:-ms-flexbox!important;display:flex!important;-ms-flex-direction:column!important;flex-direction:column!important;-ms-flex-pack:center!important;justify-content:center!important}.i-amphtml-story-focused-state-layer-nav-button-container.i-amphtml-story-tooltip-nav-button-left{background-image:linear-gradient(90deg,rgba(33,33,33,0.15) 2%,rgba(33,33,33,0))!important;left:0!important}.i-amphtml-story-focused-state-layer-nav-button-container.i-amphtml-story-tooltip-nav-button-right{background-image:linear-gradient(90deg,rgba(33,33,33,0) 2%,rgba(33,33,33,0.15))!important;right:0!important}.i-amphtml-story-focused-state-layer-nav-button{position:absolute!important;top:0!important;bottom:0!important;margin:auto!important;width:48px!important;height:48px!important;padding:0!important;border:0!important;background-color:transparent!important;filter:drop-shadow(0px 0px 16px rgba(0,0,0,0.5))!important;transition:transform 0.2s cubic-bezier(0.0,0.0,0.2,1)!important}.i-amphtml-story-focused-state-layer-nav-button.i-amphtml-story-tooltip-nav-button-left{left:-8px!important;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="%23FFF"><path d="M30.8 14.8 28 12 16 24l12 12 2.8-2.8-9.1-9.2z"/><path d="M0 0h48v48H0z" fill="none"/></svg>\')!important}.i-amphtml-hidden .i-amphtml-story-focused-state-layer-nav-button.i-amphtml-story-tooltip-nav-button-left{transform:translate3d(8px,0,0);transition:transform 0s linear .1s!important}.i-amphtml-story-focused-state-layer-nav-button.i-amphtml-story-tooltip-nav-button-right{right:-8px!important;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="%23FFF"><path d="m20 12-2.8 2.8 9.1 9.2-9.1 9.2L20 36l12-12z"/><path d="M0 0h48v48H0z" fill="none"/></svg>\')!important}.i-amphtml-hidden .i-amphtml-story-focused-state-layer-nav-button.i-amphtml-story-tooltip-nav-button-right{transform:translate3d(-8px,0,0);transition:transform 0s linear .1s!important}[desktop] .i-amphtml-story-focused-state-layer-nav-button-container{display:none!important}.i-amphtml-hidden>.i-amphtml-story-tooltip,.i-amphtml-hidden>.i-amphtml-story-tooltip.i-amphtml-tooltip-arrow-on-top{transform:translateZ(0)!important;transition:transform 0s linear 0.1s!important}.i-amphtml-story-tooltip{max-width:248px!important;height:40px!important;border-radius:6px!important;padding:8px!important;position:absolute!important;box-sizing:border-box!important;text-decoration:none!important;text-shadow:none!important;font-weight:500!important;display:-ms-flexbox!important;display:flex!important;-ms-flex-align:center!important;align-items:center!important;background:#fff!important;box-shadow:0px 6px 16px rgba(0,0,0,0.16)!important;transform:translate3d(0,-16px,0)!important;transition:transform 0.2s cubic-bezier(0.0,0.0,0.2,1)!important}.i-amphtml-story-tooltip-theme-dark{background:#202125!important}.i-amphtml-story-tooltip.i-amphtml-tooltip-arrow-on-top{transform:translate3d(0,16px,0)!important}.i-amphtml-tooltip-text{text-overflow:ellipsis!important;overflow:hidden!important;white-space:nowrap!important;margin:0px 5px!important;font-family:Roboto,sans-serif!important;font-size:14px!important;color:#3c4043!important;letter-spacing:0!important;line-height:20px!important}.i-amphtml-story-tooltip-theme-dark .i-amphtml-tooltip-text{color:#9aa0a6!important}.i-amphtml-story-tooltip-custom-icon{width:24px!important;height:24px!important;margin:0px 5px!important;background-size:cover!important;background-position:50%!important;background-repeat:no-repeat!important;filter:drop-shadow(0px 0px 8px rgba(0,0,0,0.08))!important;-ms-flex-negative:0;flex-shrink:0;border-radius:50%!important}.i-amphtml-story-tooltip-custom-icon.i-amphtml-hidden{display:none!important}.i-amphtml-tooltip-action-icon{width:16px!important;height:16px!important;margin:0px 5px!important;padding-bottom:2px!important;-ms-flex-negative:0;flex-shrink:0}.i-amphtml-tooltip-action-icon-launch{background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 48 48" fill="%23757575"><path d="M0 0h48v48H0z" fill="none"/><path d="M38 38H10V10h14V6H10a4 4 0 0 0-4 4v28a4 4 0 0 0 4 4h28a4 4 0 0 0 4-4V24h-4v14zM28 6v4h7.2L15.5 29.7l2.8 2.8L38 12.8V20h4V6H28z"/></svg>\')!important}.i-amphtml-story-tooltip-theme-dark .i-amphtml-tooltip-action-icon-launch{background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 48 48" fill="rgba(255, 255, 255, 0.54)"><path d="M0 0h48v48H0z" fill="none"/><path d="M38 38H10V10h14V6H10a4 4 0 0 0-4 4v28a4 4 0 0 0 4 4h28a4 4 0 0 0 4-4V24h-4v14zM28 6v4h7.2L15.5 29.7l2.8 2.8L38 12.8V20h4V6H28z"/></svg>\')!important}.i-amphtml-story-tooltip-arrow{border-right:8px solid transparent!important;border-left:8px solid transparent!important;border-top:10px solid #fff!important;position:absolute!important;bottom:-8px!important}.i-amphtml-story-tooltip-theme-dark .i-amphtml-story-tooltip-arrow{border-top:10px solid #202125!important}.i-amphtml-tooltip-arrow-on-top .i-amphtml-story-tooltip-arrow{bottom:auto!important;top:-8px!important;border-top:0px!important;border-bottom:10px solid #fff!important}.i-amphtml-story-tooltip-theme-dark .i-amphtml-tooltip-arrow-on-top .i-amphtml-story-tooltip-arrow{border-bottom:10px solid #202125!important}.amp-social-share-twitter-no-background{background-image:url(\'data:image/svg+xml;charset=utf-8,<svg width="1200" height="1227" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M714.163 519.284 1160.89 0h-105.86L667.137 450.887 357.328 0H0l468.492 681.821L0 1226.37h105.866l409.625-476.152 327.181 476.152H1200L714.137 519.284h.026zM569.165 687.828l-47.468-67.894-377.686-540.24h162.604l304.797 435.991 47.468 67.894 396.2 566.721H892.476L569.165 687.854v-.026z" fill="%23000"/></svg>\')}.i-amphtml-story-tooltip-custom-icon.amp-social-share-twitter-no-background{background-size:70%!important}\n/*# sourceURL=/extensions/amp-story/1.0/amp-story-tooltip.css*/'),this.gS.addEventListener("click",(t=>{t.stopPropagation(),this.$k.triggerEvent("story-click-through",this.AS),this.gS.href&&this.IS(t)}),!0),this.mi}RS(){this.er.delay((()=>{this.VS()}),100),this.pT.dispatch(19,{state:0})}xS(t){t?(this.AS=t.element,this._S||(this.FV.appendChild(this.MS()),this.mT()),this.er.delay((()=>{this.kS(t)}),100)):this.Ua.mutateElement(this._S,(()=>{this._S.classList.toggle("i-amphtml-hidden",!0)}))}kS(t){this.SS(t.element),this.OS(t),this.PS=Vt(this.FV.querySelector("amp-story-page[active]")),this.Ua.mutateElement(this._S,(()=>{this._S.classList.toggle("i-amphtml-hidden",!1),function(t){try{t.focus()}catch(t){}}(this._S.querySelector("a.i-amphtml-story-tooltip"))}))}mT(){this.pT.subscribe(xi.UI_STATE,(t=>{this.mR(t)}),!0),this.pT.subscribe(xi.CURRENT_PAGE_ID,(()=>{1===this.Mi&&this.RS()}))}mR(t){this.Ua.mutateElement(this._S,(()=>{const i=2===t||4===t;ct(this._S,"desktop",i)}))}OS(t){const i=St(this.CS(t.element),"Invalid embed config for target",t.element),s=this.AS.getAttribute("theme");s&&"dark"===s.toLowerCase()&&this.gS.classList.add(ws),this.zS(t.element),this.NS(t.element,i),this.LS(i),this.DS(),this.US(t)}SS(t){b(t,Ms())&&this.gS.setAttribute("href",this.$S(t))}$S(t){if("amp-twitter"==t.tagName.toLowerCase())return"https://twitter.com/_/status/"+t.getAttribute("data-tweetid");const i=t.getAttribute("href");return this.wv.isProtocolValid(i)?this.wv.parse(i).href:(It().error(Is,"The tooltip url is invalid"),"")}CS(t){const i=Es[t.tagName.toLowerCase()];return i&&b(t,i.selector)?i:(It().error(Is,"No config matching provided target."),null)}zS(t){const i=t.getAttribute("data-tooltip-text")||function(t,i){const s=li(t);let o;try{o=s.parse(s.getSourceOrigin(i))}catch(t){o=s.parse(i)}return o.hostname}(t,this.$S(t));this.gS.querySelector(".i-amphtml-tooltip-text").textContent=i}LS(t){const i=this.gS.querySelector(".i-amphtml-tooltip-action-icon");this.Ua.mutateElement(i,(()=>{i.classList.toggle(t.actionIcon,!0)}))}NS(t,i){const s=t.getAttribute("data-tooltip-icon");if(!this.wv.isProtocolValid(s))return void It().error(Is,"The tooltip icon url is invalid");const o=this.gS.querySelector(".i-amphtml-story-tooltip-custom-icon");s||i.customIconClassName?s?this.Ua.mutateElement(o,(()=>{const{href:t}=this.wv.parse(s);O(o,{"background-image":`url(${t})`})})):this.Ua.mutateElement(o,(()=>{o.classList.add(i.customIconClassName)})):o.classList.toggle("i-amphtml-hidden",!0)}DS(){this.jS()?this.pT.get(xi.RTL_STATE)?this.vS.setAttribute("hidden",!0):this.TS.setAttribute("hidden",!0):(this.vS.removeAttribute("hidden"),this.TS.removeAttribute("hidden"))}jS(){return this.pT.get(xi.CURRENT_PAGE_INDEX)+1===this.pT.get(xi.PAGE_IDS).length}US(t){const i={arrowOnTop:!1};this.Ua.measureMutateElement(this.FV,(()=>{const s=this.PS.getBoundingClientRect();this.FS(t,s,i),this.HS(t,s,i)}),(()=>{this.gS.classList.toggle("i-amphtml-tooltip-arrow-on-top",i.arrowOnTop),O(this.yS,{left:`${i.arrowLeftOffset}px`}),O(Vt(this.gS),{top:`${i.tooltipTop}px`,left:`${i.tooltipLeft}px`})}))}HS(t,i,s){const o=this.gS.offsetHeight;s.tooltipTop=t.clientY-o-24,s.tooltipTop<i.top+48&&(s.arrowOnTop=!0,s.tooltipTop=t.clientY+24)}FS(t,i,s){const o=this.gS.offsetWidth;s.tooltipLeft=t.clientX-o/2;const n=i.left+i.width-32-o,r=i.left+32;s.tooltipLeft=Math.min(s.tooltipLeft,n),s.tooltipLeft=Math.max(s.tooltipLeft,r),s.arrowLeftOffset=Math.abs(t.clientX-s.tooltipLeft-this.yS.offsetWidth/2),s.arrowLeftOffset=Math.min(s.arrowLeftOffset,o-24),s.arrowLeftOffset=Math.max(s.arrowLeftOffset,0)}BS(t){v(t.target,(t=>t==this.gS))||(t.stopPropagation(),this.RS())}VS(){this.Ua.mutateElement(this.gS,(()=>{this.gS.querySelector(".i-amphtml-tooltip-action-icon").className="i-amphtml-tooltip-action-icon";const t=this.gS.querySelector(".i-amphtml-story-tooltip-custom-icon");t.className="i-amphtml-story-tooltip-custom-icon",function(t,i){for(let s=0;s<i.length;s++)C(t,i[s],null)}(t,["background-image"]),this.gS.classList.remove(ws),this.gS.removeAttribute("href")}))}wS(){const t=this.pT.get(xi.RTL_STATE);return this.yS=bt("div",{class:"i-amphtml-story-tooltip-arrow"}),this.gS=bt("a",{class:"i-amphtml-story-tooltip",target:"_blank",role:"tooltip"},bt("div",{class:"i-amphtml-story-tooltip-custom-icon"}),bt("p",{class:"i-amphtml-tooltip-text",ref:"text"}),bt("div",{class:"i-amphtml-tooltip-action-icon"}),this.yS),this.vS=bt("button",{class:"i-amphtml-story-focused-state-layer-nav-button i-amphtml-story-tooltip-nav-button-left",onClick:i=>this.YS(i,t?ki:Ri)}),this.TS=bt("button",{class:"i-amphtml-story-focused-state-layer-nav-button i-amphtml-story-tooltip-nav-button-right",onClick:i=>this.YS(i,t?Ri:ki)}),bt("section",{onClick:t=>this.BS(t),class:"i-amphtml-story-focused-state-layer i-amphtml-story-system-reset i-amphtml-hidden"},bt("div",{class:"i-amphtml-story-focused-state-layer-nav-button-container i-amphtml-story-tooltip-nav-button-left"},this.vS),bt("div",{class:"i-amphtml-story-focused-state-layer-nav-button-container i-amphtml-story-tooltip-nav-button-right"},this.TS),this.gS)}YS(t,i){t.preventDefault(),this.pT.dispatch(7,Wi),Ci(this.i,this.mi,i,void 0,{bubbles:!0})}IS(t){t.preventDefault(),As(this.gS,this.FV)}getShadowRootForTesting(){return this.mi}}(this.win,this.element),this.GS=[],this.WS=[],this.uT=Fi(this.win),this.qS=null,this.XS=this.win.matchMedia("(min-aspect-ratio: 31 / 40)"),this.KS=this.win.matchMedia("(min-width: 550px) and (min-height: 1024px)"),this.ZS=this.win.matchMedia("(orientation: landscape)"),this.JS=null,this.QS=new class{constructor(t,i){this.i=t,this.Kh=ci(this.i),this.er=pi(this.i),this.tO=null,this.iO=null,this.pT=Pi(this.i),this.Fk=i}build(){this.tO||(this.tO=bt("aside",{class:"i-amphtml-story-hint-container i-amphtml-story-system-reset i-amphtml-hidden"},bt("div",{class:"i-amphtml-story-navigation-help-overlay"},bt("div",{class:"i-amphtml-story-navigation-help-section prev-page"},bt("div",{class:"i-amphtml-story-hint-placeholder"},bt("div",{class:"i-amphtml-story-hint-tap-button"},bt("div",{class:"i-amphtml-story-hint-tap-button-icon"})),bt("div",{class:"i-amphtml-story-hint-tap-button-text","i-amphtml-i18n-text-content":"3"}))),bt("div",{class:"i-amphtml-story-navigation-help-section next-page"},bt("div",{class:"i-amphtml-story-hint-placeholder"},bt("div",{class:"i-amphtml-story-hint-tap-button"},bt("div",{class:"i-amphtml-story-hint-tap-button-icon"})),bt("div",{class:"i-amphtml-story-hint-tap-button-text","i-amphtml-i18n-text-content":"2"}))))),Os(this.tO,this.Fk).then((()=>{const t=gs(bt("div",null),this.tO,'.i-amphtml-story-hint-container{transition-property:opacity!important;transition-duration:200ms!important;contain:strict!important;pointer-events:none!important;position:absolute!important;left:0!important;top:0!important;right:0!important;bottom:0!important;z-index:2!important}.i-amphtml-story-hint-container.i-amphtml-hidden{opacity:0!important}.i-amphtml-story-hint-container .i-amphtml-story-navigation-help-overlay{position:absolute!important;left:0!important;top:0!important;right:0!important;bottom:0!important;background:rgba(0,0,0,0.7)!important;-ms-flex-direction:row!important;flex-direction:row!important;color:#fff!important;font-size:20px!important;padding:16px 0!important}.i-amphtml-story-navigation-help-section{position:relative!important;display:-ms-flexbox!important;display:flex!important;-ms-flex-align:center!important;align-items:center!important;-ms-flex-pack:center!important;justify-content:center!important}.prev-page,[dir=rtl].prev-page{-ms-flex:1!important;flex:1!important}.show-first-page-overlay .i-amphtml-story-navigation-help-overlay{background:transparent!important}.show-first-page-overlay .prev-page{background:linear-gradient(90deg,rgba(0,0,0,0.5),transparent)!important}[dir=rtl].show-first-page-overlay .prev-page{background:linear-gradient(270deg,rgba(0,0,0,0.5),transparent)!important}.show-first-page-overlay .next-page{opacity:0!important}.show-first-page-overlay .i-amphtml-story-hint-placeholder{display:none!important}.show-first-page-overlay .i-amphtml-story-navigation-help-overlay{padding:0px!important}.i-amphtml-story-hint-container .next-page{-ms-flex:3!important;flex:3!important;background-image:linear-gradient(#e0d5d5 60%,rgba(255,255,255,0) 0)!important;background-position:0!important;background-size:1px 15px!important;background-repeat:repeat-y!important}[dir=rtl].i-amphtml-story-hint-container .next-page{border-left:none!important;background-position:100%!important}.show-first-page-overlay .i-amphtml-story-navigation-help-overlay,.show-navigation-overlay .i-amphtml-story-navigation-help-overlay{display:-ms-flexbox!important;display:flex!important}.show-first-page-overlay .prev-page .i-amphtml-story-hint-tap-button{visibility:hidden}.show-navigation-overlay .prev-page .i-amphtml-story-hint-tap-button-icon:before{content:""!important;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24"><path d="M15.4 7.4 14 6l-6 6 6 6 1.4-1.4-4.6-4.6z"/><path d="M0 0h24v24H0z" fill="none"/></svg>\')!important;width:30px!important;height:30px!important;display:inline-block!important}[dir=rtl].show-navigation-overlay .prev-page .i-amphtml-story-hint-tap-button-icon:before{background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24"><path d="M10 6 8.6 7.4l4.6 4.6-4.6 4.6L10 18l6-6z"/><path d="M0 0h24v24H0z" fill="none"/></svg>\')!important}.i-amphtml-story-hint-container .i-amphtml-story-hint-tap-button{position:relative!important;width:44px!important;height:44px!important}.i-amphtml-story-hint-tap-button:after,.i-amphtml-story-hint-tap-button:before{position:absolute!important;content:""!important;width:44px!important;height:44px!important;border-radius:50%!important;background-color:hsla(0,0%,100%,0.5)!important;left:0!important;right:0!important}.i-amphtml-story-hint-tap-button:before{animation:expandingBubble 1000ms cubic-bezier(0.4,0,0.2,1) infinite!important}.i-amphtml-story-hint-tap-button:after{background-color:#fff!important}.i-amphtml-story-hint-container .i-amphtml-story-hint-tap-button-icon{position:absolute!important;z-index:1!important;height:44px!important;width:44px!important;display:-ms-flexbox!important;display:flex!important;-ms-flex-pack:center!important;justify-content:center!important;-ms-flex-align:center!important;align-items:center!important}.i-amphtml-story-hint-tap-button-icon:after,.i-amphtml-story-hint-tap-button-icon:before{vertical-align:middle!important;margin:0 2px!important;background-position:50%}.next-page .i-amphtml-story-hint-tap-button-icon:after{content:""!important;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24"><path d="M10 6 8.6 7.4l4.6 4.6-4.6 4.6L10 18l6-6z"/><path d="M0 0h24v24H0z" fill="none"/></svg>\')!important;width:24px!important;height:24px!important;display:inline-block!important}[dir=rtl] .next-page .i-amphtml-story-hint-tap-button-icon:after{background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24"><path d="M15.4 7.4 14 6l-6 6 6 6 1.4-1.4-4.6-4.6z"/><path d="M0 0h24v24H0z" fill="none"/></svg>\')!important}.i-amphtml-story-hint-placeholder{top:50%!important;position:absolute!important;display:-ms-flexbox!important;display:flex!important;-ms-flex-direction:column!important;flex-direction:column!important;-ms-flex-align:center!important;align-items:center!important}.i-amphtml-story-hint-container .i-amphtml-story-hint-tap-button-text{color:#fff!important;font-size:16px!important;font-family:Roboto-Medium,sans-serif!important;margin-top:24px!important;text-align:center!important;word-break:break-word!important;padding:0 6px!important}@keyframes expandingBubble{0%{transform:scale(1);opacity:0}50%{transform:scale(1.5);opacity:1}to{transform:scale(1);opacity:0}}\n/*# sourceURL=/extensions/amp-story/1.0/amp-story-hint.css*/');this.Kh.mutate((()=>{this.Fk.appendChild(t)}))})),this.pT.subscribe(xi.RTL_STATE,(t=>{this.RV(t)}),!0),this.pT.subscribe(xi.SYSTEM_UI_IS_VISIBLE_STATE,(t=>{this.mS(t)})),this.pT.subscribe(xi.INTERACTIVE_COMPONENT_STATE,(t=>{this.sO(1===t.state)})))}nO(t){0===this.pT.get(xi.UI_STATE)&&(this.build(),this.Kh.mutate((()=>{this.tO.classList.toggle(Yo,t==Yo),this.tO.classList.toggle(Go,t==Go),this.tO.classList.remove("i-amphtml-hidden");const i=t==Yo?3e3:275;this.hideAfterTimeout(i)})))}showNavigationOverlay(){this.pT.get(xi.SHARE_MENU_STATE)||this.nO(Yo)}showFirstPageHintOverlay(){this.nO(Go)}hideAfterTimeout(t){this.iO=this.er.delay((()=>this.eO()),t)}hideAllNavigationHint(){this.eO(),null!==this.iO&&(this.er.cancel(this.iO),this.iO=null)}eO(){this.tO&&this.Kh.mutate((()=>{this.tO.classList.add("i-amphtml-hidden")}))}RV(t){this.Kh.mutate((()=>{t?this.tO.setAttribute("dir","rtl"):this.tO.removeAttribute("dir")}))}mS(t){t||this.hideAllNavigationHint()}sO(t){t&&this.hideAllNavigationHint()}}(this.win,this.element),this.oO=Mo.for(this),this.er=pi(this.win),this.fo=ei(this.win),this.Tr=null,this.Gk=null,this.rO=null,this.aO=null,this.hO=null,this.lO=null,this.pO=!1,this.mO=null,this.cO=new o,this.uO=null,this.dO=-1,this.fO=new o,this._O=null,this.gO=new o}buildCallback(){var t,i;this.Tr=mi(this.element),!(null!==(t=this.win.CSS)&&void 0!==t&&null!==(i=t.supports)&&void 0!==i&&i.call(t,"height: 1dvh")||function(t,i,s){const o=z(t.style,"--story-dvh",void 0);if(o)return Y(o)?t.style.getPropertyValue(o):t.style[o]}(this.win.document.documentElement))&&(this.yO(this.getViewport().getSize()),this.getViewport().onResize((t=>this.yO(t)))),this.Gk=this.Tr.isEmbedded()?new Ko(this.win,this.Tr):null,this._O=this.AO(),this.PO(),this.bO()&&this.vO(),this.mutateElement((()=>{}));const s=this.TO();s&&this.element.querySelector(`amp-story-page#${f(s)}`).setAttribute("active",""),this.mT(),this.EO(),this.xO(),this.lO=this.MO(),this.pT.dispatch(35,this.lO),this.wO()&&this.win.document.documentElement.setAttribute("data-story-supports-landscape",""),this.fo.isBot()||this.element.removeAttribute("title"),function(t,i){const s=[];for(let i=t.firstChild;i;i=i.nextSibling)i.nodeType===Node.TEXT_NODE&&s.push(i);return s}(this.element).forEach((t=>{this.element.removeChild(t)})),qt(this.win,"amp-story-branching")&&this.registerAction("goToPage",(t=>{const{args:i}=t;i&&(this.pT.dispatch(7,"goToPageAction"),this._V(i.id,Lo))}));const o=ai(this.win);(qt(this.win,"story-disable-animations-first-page")||vi(this.win)||Cs(this.win)||Ps(this.getAmpDoc()))&&o.addEnabledExperiment("story-disable-animations-first-page");const n=this.getAmpDoc().getRootNode().documentElement,r=n.querySelector('style[amp-extension="amp-story"][i-amphtml-version]'),a=n.querySelector('link[amp-extension="amp-story"][rel=stylesheet]');r?o.addEnabledExperiment("story-inline-css"):a&&o.addEnabledExperiment("story-link-css"),qt(this.win,"story-load-inactive-outside-viewport")&&(o.addEnabledExperiment("story-load-inactive-outside-viewport"),this.element.classList.add("i-amphtml-experiment-story-load-inactive-outside-viewport")),this.IO(),this.RO()}IO(){if(this.wO()||!this.element.hasAttribute("desktop-aspect-ratio"))return;const t=this.element.getAttribute("desktop-aspect-ratio").split(":");if(0==t[1])return;const i=$o(t[0]/t[1],.5,.75);O(document.querySelector(":root"),{"--i-amphtml-story-desktop-one-panel-ratio":i}),this.pT.dispatch(15,i)}fw(){if(this.VO(),this.pT.get(xi.MUTED_STATE)||this.kO(),"inactive"===this.getAmpDoc().getVisibilityState()){const t=()=>{this.qS.setState(0),this.qS.element.setAttribute("active","")};this.qS?t():this.gO.promise.then((()=>t()))}}RR(){this.SO(),this.pT.get(xi.MUTED_STATE)||this.OO()}VO(){null===this.rO&&(this.rO=!!this.pT.get(xi.PAUSED_STATE)),this.pT.dispatch(wi,!0)}SO(){this.pT.dispatch(wi,this.rO),this.rO=null}vO(){this.CO(),this.onResizeDebounced()}EO(){const t=this.element.querySelectorAll("amp-story-page"),i=r(t).map((t=>t.id||"default-page")),s=m();for(let o=0;o<i.length;o++){if(void 0===s[i[o]]){s[i[o]]=0;continue}It().error(jn,`Duplicate amp-story-page ID ${i[o]}`);const n=`${i[o]}__${++s[i[o]]}`;t[o].id=n,i[o]=n}this.pT.dispatch(11,i)}zO(){if(this.pO)return;this.pO=!0;const t=this.win.document.querySelector("style[amp-custom]");t&&(t.textContent=t.textContent.replace(/(-?[\d.]+)v(w|h|min|max)/gim,"calc($1 * var(--story-page-v$2))"))}NO(){if(this.win.document.querySelector("meta[name=theme-color]"))return;const t=this.win.document.createElement("meta"),i=this.element.querySelector("amp-story-page");t.name="theme-color",t.content=B(this.win,this.element).getPropertyValue("--primary-color")||B(this.win,i).getPropertyValue("background-color")||"#202125",this.win.document.head.appendChild(t)}LO(t,i){this.DO(),this.UO(),this.element.appendChild(this.jk.build(t,i))}mT(){this.element.addEventListener(ki,(()=>{this.mr()})),this.element.addEventListener(Ri,(()=>{this.Sm()})),this.pT.subscribe(xi.MUTED_STATE,(t=>{this.oy(t),this.uT.onVariableUpdate(Ui,t)}),!0),this.pT.subscribe(xi.MUTED_STATE,(t=>{this.$k.triggerEvent(t?"story-audio-muted":"story-audio-unmuted")}),!1),this.pT.subscribe(xi.ADVANCEMENT_MODE,(t=>{this.uT.onVariableUpdate(ji,t)})),this.pT.subscribe(xi.CAN_SHOW_AUDIO_UI,(t=>{this.element.classList.toggle("i-amphtml-story-no-audio-ui",!t)}),!0),this.element.addEventListener(Ii,(t=>{this.getAmpDoc().isPreview()&&this.$O(),this._V(gi(t).targetPageId,gi(t).direction),this.QS.hideAllNavigationHint()})),this.element.addEventListener(Vi,(t=>{const i=gi(t),s=i.pageId,o=i.progress;if(s!==this.qS.element.id)return;const n=Xt(this.win,Kt);(!this.qS.isAd()||n&&n!=Zt)&&this.jk.updateProgress(s,o)})),this.element.addEventListener(Si,(()=>{this.BV()})),this.element.addEventListener(zi,(()=>{this.jO()})),this.element.addEventListener(Oi,(()=>{this.FO()})),this.Gx.addOnTapNavigationListener((t=>{this.HO(t)})),this.element.addEventListener("ampstory:dispatchaction",(t=>{})),this.pT.subscribe(xi.ACTIONS_ALLOWLIST,(t=>{si(this.element).setAllowlist(t)}),!0),this.pT.subscribe(xi.AD_STATE,(t=>{this.tS(t)})),this.pT.subscribe(xi.PAUSED_STATE,(t=>{this.eS(t)})),this.pT.subscribe(xi.UI_STATE,(t=>{this.mR(t)}),!0),this.pT.subscribe(xi.SUBSCRIPTIONS_PAGE_INDEX,(t=>{-1!==t&&(this.fO.resolve(),this.dO=t)}),!0),this.pT.subscribe(xi.SUBSCRIPTIONS_STATE,(t=>{1!==t&&(this.cO.resolve(),2===t&&this.BO())})),this.pT.subscribe(xi.SUBSCRIPTIONS_DIALOG_UI_STATE,(t=>{t||this.YO()})),this.win.document.addEventListener("keydown",(t=>{this._u(t)}),!0),this.win.document.addEventListener("contextmenu",(t=>{0===this.pT.get(xi.UI_STATE)&&(this.GO(t.target)||t.preventDefault(),t.stopPropagation())})),this.getAmpDoc().onVisibilityChanged((()=>this.du())),this.win.addEventListener("hashchange",(()=>{const t=J(this.win.location.hash).page;if(!t||!this.WO(t))return;this._V(t,Lo);let i=this.win.location.href.replace(new RegExp(`page=${t}&?`),"");(function(t,i){const s=t.length-"#".length;return s>=0&&t.indexOf("#",s)==s})(i)&&(i=i.slice(0,-1)),this.win.history.replaceState(this.win.history&&jo(this.win.history)||{},this.win.document.title,i)})),new this.win.MutationObserver((t=>this.qO(t))).observe(this.win.document.body,{attributes:!0,attributeFilter:["class"]}),this.getViewport().onResize(At(this.win,(()=>this.onResizeDebounced()),300)),this.XO(),this.Tr.onMessage("selectPage",(t=>this.KO(t))),this.Tr.onMessage("rewind",(()=>this.ZO())),this.Gk&&this.Gk.startListening(),new class{constructor(t,i){this.i=t,this.FV=i,this.$k=qi(t,i),this.pT=Pi(t),this.JO=bt("amp-story-share-menu",null),i.appendChild(this.JO),this.QO=!1,this.mT()}mT(){this.pT.subscribe(xi.SHARE_MENU_STATE,(t=>{t&&(this.zC()?(this.LC(),this.RS()):this.UC()),this.$k.triggerEvent(t?Yi:Gi,this.JO)}))}zC(){const t=mi(this.FV),i=ei(this.i),s=t.isWebviewEmbedded()&&i.isChrome();return"share"in navigator&&!s}LC(){const{navigator:t}=this.i,i={url:oi($t(this.FV)).canonicalUrl,text:this.i.document.title};t.share(i).catch((t=>{}))}UC(){this.QO||(this.QO=!0,ni(this.i).installExtensionForDoc($t(this.FV),"amp-story-share-menu","0.1"))}RS(){this.pT.dispatch(29,!1)}}(this.win,this.element)}qO(t){t.forEach((t=>{const i=t.target;this.pT.dispatch(20,i.classList.contains("amp-mode-keyboard-active"))}))}XO(){if(this.Tr.hasCapability("swipe"))return;const{element:t}=this;zn.get(t,!0).onGesture(class extends class extends class{constructor(t,i){this.$C=t,this.Uv=i}getType(){return this.$C}signalReady(t){this.Uv.ym(this,t)}signalPending(t){this.Uv.Nk(this,t)}signalEnd(){this.Uv.Lk(this)}signalEmit(t,i){this.Uv.Dk(this,t,i)}acceptStart(){}acceptCancel(){}onTouchStart(t){return!1}onTouchMove(t){return!1}onTouchEnd(t){}}{constructor(t,i,s,o){super(t,i),this.FC=s,this.HC=o,this.Tk=!1,this.BC=0,this.YC=0,this.GC=0,this.WC=0,this.qC=0,this.XC=0,this.bh=0,this.KC=0,this.ZC=0,this.JC=0,this.QC=0}onTouchStart(t){const{touches:i}=t;return!!(this.Tk&&i&&i.length>1)||!(!i||1!=i.length)&&(this.bh=Date.now(),this.BC=i[0].clientX,this.YC=i[0].clientY,!0)}onTouchMove(t){const{touches:i}=t;if(i&&i.length>=1){const{clientX:s,clientY:o}=i[0];if(this.GC=s,this.WC=o,this.Tk)this.tz(!1,!1,t);else{const t=Math.abs(s-this.BC),i=Math.abs(o-this.YC);if(this.FC&&this.HC)(t>=8||i>=8)&&this.signalReady(-10);else if(this.FC){if(t>=8&&t>i)this.signalReady(-10);else if(i>=8)return!1}else{if(!this.HC)return!1;if(i>=8&&i>t)this.signalReady(-10);else if(t>=8)return!1}}return!0}return!1}onTouchEnd(t){const{touches:i}=t;i&&0==i.length&&this.iz(t)}acceptStart(){this.Tk=!0,this.qC=this.BC,this.XC=this.YC,this.ZC=this.bh,this.BC=this.GC,this.YC=this.WC,this.tz(!0,!1,null)}acceptCancel(){this.Tk=!1}tz(t,i,s){this.KC=Date.now();const o=this.KC-this.ZC;if(!i&&o>4||i&&o>16){const t=On(this.GC-this.qC,o,this.JC),s=On(this.WC-this.XC,o,this.QC);(!i||o>32||0!=t||0!=s)&&(this.JC=Math.abs(t)>1e-4?t:0,this.QC=Math.abs(s)>1e-4?s:0),this.qC=this.GC,this.XC=this.WC,this.ZC=this.KC}this.signalEmit({first:t,last:i,time:this.KC,deltaX:this.GC-this.BC,deltaY:this.WC-this.YC,startX:this.BC,startY:this.YC,lastX:this.GC,lastY:this.WC,velocityX:this.JC,velocityY:this.QC},s)}iz(t){this.Tk&&(this.Tk=!1,this.tz(!1,!0,t),this.signalEnd())}}{constructor(t){super("swipe-xy",t,!0,!0)}},(t=>{const{deltaX:i,deltaY:s}=t.data;0===this.pT.get(xi.INTERACTIVE_COMPONENT_STATE).state&&this.pT.get(xi.SYSTEM_UI_IS_VISIBLE_STATE)&&this.pT.get(xi.CAN_SHOW_NAVIGATION_OVERLAY_HINT)?t.event&&t.event.defaultPrevented||!this.sz(i,s)||this.QS.showNavigationOverlay():t.event&&!1!==t.event.cancelable&&t.event.preventDefault()}))}sz(t,i){return Math.abs(t)>=50||-1*i>=50}CO(){const{document:t}=this.win;O(t.documentElement,{"overflow":"hidden"}),O(t.body,{"overflow":"hidden"}),this.getViewport().resetTouchZoom(),this.getViewport().disableTouchZoom(),this.nz()}nz(){var t;const{screen:i}=this.win;if(!i||!this.KS.matches)return;const s=null===(t=i.orientation)||void 0===t?void 0:t.lock;if(s)return void s("portrait").catch((t=>{}));const o=i.lockOrientation||i.mozLockOrientation||i.msLockOrientation||(t=>{});try{o("portrait")}catch(t){}}layoutCallback(){return i.isBrowserSupported(this.win)||this.fo.isBot()?this.ez():this.oz()}ez(){const t=this.TO(),i="1"!==this.Tr.getParam("hideProgressBar");i||this.pT.dispatch(Ti,!1),this.LO(t,i),this.NO();const o=Promise.all([this.rz(),this.getAmpDoc().whenFirstPreviewedOrVisible()]).then((()=>{this.az(),this.GS.forEach(((t,i)=>{t.setState(0),this.hz(t,i)})),this.lz(),this.pT.get(xi.CAN_SHOW_PAGINATION_BUTTONS)&&new class{constructor(t){this.pz=t;const{win:i}=this.pz,s=i.document;this.pT=Pi(i),this.mz=new Vn(s,In,this.pT,i),this.cz=new Vn(s,Mn,this.pT,i),this.mz.element.classList.add("next-container"),this.cz.element.classList.add("prev-container"),this.mT(),this.pz.element.appendChild(this.mz.element),this.pz.element.appendChild(this.cz.element)}mT(){this.pT.subscribe(xi.CURRENT_PAGE_INDEX,(t=>{this.uz(t)})),this.pT.subscribe(xi.PAGE_IDS,(()=>{const t=Number(this.pT.get(xi.CURRENT_PAGE_INDEX));this.uz(t)}),!0),this.pT.subscribe(xi.SYSTEM_UI_IS_VISIBLE_STATE,(t=>this.mS(t)))}uz(t){const i=this.pT.get(xi.PAGE_IDS).length;this.cz.setEnabled(t>0),t<i-1?this.mz.updateState(In):mi(this.pz.element).hasCapability("swipe")?this.mz.updateState(Rn):this.mz.updateState(kn)}mS(t){this.cz.setEnabled(t),this.mz.setEnabled(t)}}(this)})).then((()=>(qt(this.win,"amp-story-subscriptions")&&null!==this.element.querySelector("amp-story-subscriptions")&&0===this.pT.get(xi.SUBSCRIPTIONS_STATE)&&this.pT.dispatch(33,1),this._V(this.TO(),Lo)))).then((()=>{if(xn(this.win,"ampStoryAttachmentPageId")===this.qS.element.id){const t=this.qS.element.querySelector("amp-story-page-attachment, amp-story-page-outlink");t&&dt(t).then((()=>t.getImpl())).then((t=>t.open(!1)));const i=xn(this.win,"ampStoryShoppingData");i&&this.pT.dispatch(4,{"activeProductData":i})}bs(Vt(this.Tr),this.pT)&&new class{constructor(t,i){this.i=t,this.yp=null,this.pT=Pi(this.i),this.$k=qi(this.i,i),this.Fk=i,this.Ua=ri(i),this.Tr=mi(i)}build(){if(this.yp)return s();const{canonicalUrl:t}=oi(this.Fk),i=bt("a",{class:"i-amphtml-story-info-moreinfo",target:"_blank","i-amphtml-i18n-text-content":"26"});return this.yp=bt("div",{class:"i-amphtml-story-info-dialog i-amphtml-story-system-reset",onClick:t=>{t.target===t.currentTarget&&this.RS()}},bt("div",{class:"i-amphtml-story-info-dialog-container",onClick:t=>{this.IV(t)}},bt("h1",{class:"i-amphtml-story-info-heading","i-amphtml-i18n-text-content":"25"}),bt("a",{class:"i-amphtml-story-info-link",href:t},t.replace(/([/.]+)/gi,"$1")),i)),this.mT(),Promise.all([Os(this.yp,this.Fk),this.Ua.mutateElement(this.Fk,(()=>{const t=gs(bt("div",null),this.yp,':host{all:initial!important;color:initial!important}.i-amphtml-story-info-dialog{position:absolute!important;top:0!important;left:0!important;height:100%!important;width:100%!important;z-index:100001!important;transform:translate3d(0,-100%,0)!important;transition-delay:0.15s!important}.i-amphtml-story-info-dialog-visible{transform:translateZ(0)!important;transition-delay:0s!important}.i-amphtml-story-info-dialog:before{content:""!important;position:absolute!important;top:0!important;left:0!important;height:100%!important;width:100%!important;background:#000!important;opacity:0!important;transition:opacity 0.15s cubic-bezier(0.4,0.0,1,1)!important}.i-amphtml-story-info-dialog.i-amphtml-story-info-dialog-visible:before{opacity:0.55!important;transition:opacity 0.2s cubic-bezier(0.0,0.0,0.2,1)!important}.i-amphtml-story-info-dialog-container{position:absolute!important;top:0!important;left:0!important;right:0!important;height:auto!important;background:#fff!important;border-radius:0 0 8px 8px!important;transform:translate3d(0,-100%,0)!important;transition:transform 0.15s cubic-bezier(0.4,0.0,1,1)!important;padding:20px!important;font-family:Roboto,sans-serif!important}.i-amphtml-story-info-dialog-visible .i-amphtml-story-info-dialog-container{transform:translateZ(0)!important;transition:transform 0.2s cubic-bezier(0.0,0.0,0.2,1)!important}.i-amphtml-story-info-heading{display:block!important;font-size:14px!important;font-weight:700!important;margin:0 0 8px!important}.i-amphtml-story-info-link{color:#000!important;display:block!important;margin:0!important;opacity:0.64!important;font-size:12px!important;text-decoration:none!important}.i-amphtml-story-info-moreinfo{color:#4285f4!important;display:none!important;font-family:Roboto-Medium,sans-serif!important;font-size:12px!important;letter-spacing:0.5px!important;margin:16px 0 0;text-decoration:none!important}.i-amphtml-story-info-moreinfo.i-amphtml-story-info-moreinfo-visible{display:block!important}\n/*# sourceURL=/extensions/amp-story/1.0/amp-story-info-dialog.css*/');this.Fk.appendChild(t)})),this.dz().then((t=>{if(t)return this.Ua.mutateElement(this.Fk,(()=>{i.classList.add("i-amphtml-story-info-moreinfo-visible"),i.setAttribute("href",t)}))}))])}mT(){this.pT.subscribe(xi.INFO_DIALOG_STATE,(t=>{this.fz(t)}))}fz(t){this.Ua.mutateElement(this.yp,(()=>{this.yp.classList.toggle("i-amphtml-story-info-dialog-visible",t)})),this.yp[Bi]="amp-story-info-dialog",this.$k.triggerEvent(t?Yi:Gi,this.yp)}IV(t){const i=v(t.target,(t=>b(t,"a[href]")));i&&(As(i,this.yp),t.preventDefault())}RS(){this.pT.dispatch(18,!1)}dz(){return this.Tr.isEmbedded()?this.Tr.sendMessageAwaitResponse("moreInfoLinkUrl",void 0).then((t=>t?li(this.Fk).assertAbsoluteHttpOrHttpsUrl(t):null)):Promise.resolve(null)}}(this.win,this.element).build()}));this._z(8e3).then((()=>{this.gz(),this.yz()})),this.Az();const n=this.element.querySelector(`amp-story-page#${f(t)}`);return this.getAmpDoc().hasBeenVisible()?o:dt(n).then((()=>n.build()))}yz(){this.element.hasAttribute("live-story")&&(this.aO=new class{constructor(t){this.pz=t,this.ji=this.pz.getAmpDoc(),this.FV=t.element,this.pT=Pi(this.pz.win)}build(){const t=bt("amp-live-list",{id:"i-amphtml-"+this.FV.id+"-dynamic-list","data-poll-interval":this.FV.getAttribute("data-poll-interval")||15e3,sort:"ascending","disable-scrolling":!0,"disable-pagination":!0,"auto-insert":!0});t.AMP_LIVE_LIST_CUSTOM_SLOT_ID=St(this.FV.id,"amp-story must contain id to use the live story functionality"),this.pz.element.signals().whenSignal(nt).then((()=>{ni(this.ji.win).installExtensionForDoc(this.ji,"amp-live-list"),this.FV.insertBefore(t,this.FV.firstElementChild)}))}update(){const t=P(this.FV,(t=>t.classList.contains("amp-live-list-item-new"))),i=this.FV.querySelectorAll("amp-story-page"),s=Array.prototype.map.call(i,(t=>t.id));this.pT.dispatch(11,s),this.pT.dispatch(2,t.id)}}(this),this.aO.build(),this.pT.dispatch(5,[{tagOrTarget:"AMP-LIVE-LIST",method:"update"}]),this.element.addEventListener("amp:dom-update",(()=>{this.aO.update(),this.rz().then((()=>this.Pz()))})))}TO(){const t=J(this.win.location.hash).page;if(t&&this.WO(t))return t;const i=(s=xn(this.win,Pn)||[])[s.length-1];var s;if(i&&this.WO(i))return i;const o=this.element.querySelector("amp-story-page");return o?o.id:null}WO(t){return this.GS.length>0?this.GS.some((i=>i.element.id===t)):!!this.element.querySelector(`#${f(t)}`)}_z(t=0){const i=this.element.querySelector(`amp-story-page#${f(this.TO())}`),s=dt(i).then((()=>i.signals().whenSignal(nt)));return this.er.timeoutPromise(t,s).catch((()=>{}))}gz(){Ci(this.win,this.element,"ampstory:load",void 0,{bubbles:!0}),this.Gk&&this.Gk.send("storyContentLoaded",{}),this.$k.triggerEvent("story-content-loaded"),this.signals().signal("ini-load"),this.mutateElement((()=>{this.element.classList.add("i-amphtml-story-loaded")}))}az(){const t=this.element.querySelector("amp-consent");t&&(this.bz(),this.vz(t))}bz(){const t=this.getConsentPolicy()||"default",i=function(t,i="default"){return(t=>Qt(t,"consentPolicyManager","amp-consent"))(t).then((t=>t?t.whenPolicyResolved(i):null))}(this.element,t);i&&(this.pT.dispatch(wi,!0),i.then((()=>{this.pT.dispatch(wi,!1)})))}vz(t){x(t,"amp-story-consent")||It().error(jn,"amp-consent must have an amp-story-consent child");const i=["SCRIPT","AMP-STORY-CONSENT"],s=function(t,s){const o=[];for(let s=t.firstElementChild;s;s=s.nextElementSibling)n=s,-1===i.indexOf(n.tagName)&&o.push(s);var n;return o}(t);0!==s.length&&(It().error(jn,"amp-consent only allows tags: %s",i),s.forEach((i=>t.removeChild(i))))}isLayoutSupported(t){return t==q}rz(){const t=Array.prototype.map.call(this.element.querySelectorAll("amp-story-page"),(t=>t.getImpl()));return Promise.all(t).then((t=>{this.GS=t,qt(this.win,"amp-story-branching")&&this.pT.dispatch(5,[{tagOrTarget:"AMP-STORY",method:"goToPage"}])}))}mr(t){this.qS?this.qS.next(t):this.gO.promise.then((()=>this.qS.next(t)))}xO(){"v0"===this.Tr.getParam("storyPlayer")&&ni(this.win).installExtensionForDoc(this.getAmpDoc(),"amp-viewer-integration")}jO(){if(this.Tr.hasCapability("swipe")&&this.Gk){const t=this.pT.get(xi.ADVANCEMENT_MODE);this.Gk.send("selectDocument",{"next":!0,"advancementMode":t})}}Sm(){this.qS?this.qS.previous():this.gO.promise.then((()=>this.qS.previous()))}FO(){if(this.Tr.hasCapability("swipe")&&this.Gk){const t=this.pT.get(xi.ADVANCEMENT_MODE);this.Gk.send("selectDocument",{"previous":!0,"advancementMode":t})}else this.pT.get(xi.CAN_SHOW_PREVIOUS_PAGE_HELP)&&this.QS.showFirstPageHintOverlay()}HO(t){this.pT.dispatch(7,Wi),1===t?this.mr():2===t&&this.Sm()}_V(t,i){var o;const n=this.getPageById(t),r=this.getPageIndex(n);if(this.qS&&this.qS.element.id===t)return s();const a=this.pT.get(xi.SUBSCRIPTIONS_STATE);if(0!==a&&-1===this.dO)return this.Tz(this.fO,t,i);if(r>=this.dO&&1===a)return this.Tz(this.cO,t,i);if(r>this.dO&&3===a)return this.mO=t,this.Ez(),this._V(this.GS[this.dO].element.id,i);this.xz(t,r);const e=this.qS;this.qS=n,this.gO.resolve(),n.isAd()||this.Mz(t,i),null===(o=this.hO)||void 0===o||o.update(n.element);const h=[()=>{e&&e.element.removeAttribute("active"),this.pT.get(xi.PAUSED_STATE)?n.element.setAttribute("active",""):n.setState(1),this.wz()},()=>{e&&(e.setState(0),this.getPageIndex(e)<r?ys(e,Un):_s(e,Un),e.isAd()&&this.pT.dispatch(7,"manualAdvanceFromAd")),this.pT.dispatch(16,n.isAd()),n.isAd()?ys(this,Cn):(_s(this,Cn),n.isAutoAdvance()||this.jk.updateProgress(t,this.Gx.getProgress())),this.pT.dispatch(6,{id:t,index:r}),e||this.Iz()},()=>{this.Pz(!e),this.Rz()}];return new Promise((t=>{const i=()=>{if(h.shift().call(this),!h.length)return t();this.win.requestAnimationFrame((()=>i()))};i()}))}Mz(t,i){const s=this.pT.get(xi.NAVIGATION_PATH);i===Do&&s.pop(),i===Lo&&s[s.length-1]!==t&&s.push(t),this.pT.dispatch(10,s),function(t,i,s){const{history:o}=t,n=yt(yt({},jo(o)||{}),{},{ampStoryNavigationPath:s});o.replaceState(n,""),function(t,i){const s=wn(t);s[Tn(t)]={state:i,time:Date.now()},En(t,s)}(t,n)}(this.win,0,s)}Rz(){si(this.element).trigger(this.qS.element,"active",null,3)}wz(){(this.fo.isSafari()||this.fo.isIos())&&this.mutateElement((()=>{L(this.element,!1),this.element.offsetHeight>=0&&L(this.element,!0)}))}YO(){this.uO&&clearTimeout(this.uO),this.uO=null,this.mO&&2===this.pT.get(xi.SUBSCRIPTIONS_STATE)&&this._V(this.mO,Lo),this.mO=null}Tz(t,i,s){return t.promise.then((()=>this._V(i,s)))}Ez(){this.pT.dispatch(32,!0)}BO(){this.pT.dispatch(32,!1)}xz(t,i){const s=this.pT.get(xi.SUBSCRIPTIONS_DIALOG_UI_STATE);i!==this.dO||s||3!==this.pT.get(xi.SUBSCRIPTIONS_STATE)||(this.uO=setTimeout((()=>{this.mO=t,this.Ez(),this.uO=null}),500)),i<this.dO&&s&&this.BO()}_u(t){if(b(t.target,"amp-story-interactive-slider"))return;this.pT.dispatch(7,Wi);const i=this.pT.get(xi.RTL_STATE);switch(t.key){case"ArrowLeft":i?this.mr():this.Sm();break;case"ArrowRight":i?this.Sm():this.mr()}}onResizeDebounced(){this.lO=this.MO(),this.pT.dispatch(35,this.lO);const t=this.Vz(),i=this.wO();this.kz(t,i)}yO(t){const{height:i}=t;0!==i&&O(this.win.document.documentElement,{"--story-dvh":D(i/100)})}kz(t,i){this.mutateElement((()=>{this.element.setAttribute("orientation",i&&t?"landscape":"portrait")}))}du(){const t=this.getAmpDoc().getVisibilityState(),i=t===rt,s="visible"===t;i&&this.pT.dispatch(Ti,!1),s&&this.pT.dispatch(Ti,!0),i||s?this.RR():this.fw()}tS(t){this.pT.get(xi.MUTED_STATE)||(t?this.kO():this.OO())}mR(t){var i;switch(null===(i=this.hO)||void 0===i||i.detach(),this.hO=null,t){case 0:this.Kh.mutate((()=>{this.win.document.documentElement.setAttribute("i-amphtml-story-mobile",""),this.element.removeAttribute("desktop"),this.element.classList.remove("i-amphtml-story-desktop-fullbleed"),this.element.classList.remove("i-amphtml-story-desktop-one-panel")}));break;case 4:this.hO||(this.hO=new class{constructor(t,i){this.i=t,this.yp=i,this.Sz=null,this.Oz=null,this.Cz=this.i.document.createElement("canvas"),this.Cz.width=this.Cz.height=3,this.In=null,this.zz=!0}attach(){this.Oz=this.i.document.createElement("canvas"),this.Oz.width=this.Oz.height=3,O(this.Oz,{width:"100%",height:"100%",position:"absolute",left:0,top:0}),this.yp.appendChild(this.Oz)}detach(){this.yp.removeChild(this.Oz),cancelAnimationFrame(this.In)}update(t){this.Sz=this.Nz(t),this.Lz(this.Sz[0])}Lz(t){t?this.Dz(t).then((t=>{if("AMP-IMG"===t.tagName)return this.Uz(t)?void this.Lz(this.$z(t)):void this.jz(t.querySelector("img"));const i=t.querySelector("video");if(i.readyState>=2)return void this.jz(i);const s=t.getAttribute("poster");if(!s)return void this.jz();const o=new Image;o.onload=()=>this.jz(o),o.src=s})):this.jz()}Uz(t){if(!this.Fz(t))return!1;const i=t.querySelector("img"),s=this.i.document.createElement("canvas");s.width=s.height=3;const o=s.getContext("2d");o.drawImage(i,0,0,3,3);const n=o.getImageData(0,0,3,3).data;for(let t=0;t<n.length;t+=4)if(n[t+3]<255)return!0;return!1}Fz(t){const i=t.getAttribute("src").toLowerCase();return i.includes(".png")||i.includes(".gif")}$z(t){const i=this.Sz.indexOf(t);return this.Sz[i+1]}Dz(t){return new Promise((i=>{dt(t).then((()=>t.signals().whenSignal(nt))).then((()=>{i(t)})).catch((()=>{It().error("BACKGROUND-BLUR","Failed to load the amp-img or amp-video.")}))}))}jz(t){if(this.Bz(t),this.zz)return this.Yz(1),void(this.zz=!1);let i;const s=t=>{i||(i=t);const o=t-i;if(o<400){const t=o/400;this.Yz(t),this.In=requestAnimationFrame(s)}};cancelAnimationFrame(this.In),this.In=requestAnimationFrame(s)}Yz(t){const i=this.Oz.getContext("2d");i.globalAlpha=t,i.drawImage(this.Cz,0,0,3,3)}Bz(t){const i=this.Cz.getContext("2d");i.fillStyle="black",i.fillRect(0,0,3,3),t&&(i.drawImage(t,0,0,3,3),i.fillStyle="rgba(0, 0, 0, .3)",i.fillRect(0,0,3,3))}Nz(t){const i=t=>{if(!t)return!1;const i=t.getLayoutBox();return i.width*i.height};return Array.from(_(t,"amp-story-grid-layer amp-img, amp-story-grid-layer amp-video")).sort(((t,s)=>i(s)-i(t)))}}(this.win,this.element),this.hO.attach(),this.qS&&this.hO.update(this.qS.element)),this.Kh.mutate((()=>{this.zO(),this.win.document.documentElement.removeAttribute("i-amphtml-story-mobile"),this.element.removeAttribute("desktop"),this.element.classList.add("i-amphtml-story-desktop-one-panel"),this.element.classList.remove("i-amphtml-story-desktop-fullbleed")}));break;case 2:this.Kh.mutate((()=>{this.win.document.documentElement.removeAttribute("i-amphtml-story-mobile"),this.element.setAttribute("desktop",""),this.element.classList.add("i-amphtml-story-desktop-fullbleed"),this.element.classList.remove("i-amphtml-story-desktop-one-panel")}));break;case 3:const t=_(this.element,"amp-story-page amp-story-page-attachment");this.Kh.mutate((()=>{this.zO(),this.element.setAttribute("i-amphtml-vertical",""),this.win.document.documentElement.classList.add("i-amphtml-story-vertical"),O(this.win.document.body,{height:"auto"}),this.win.document.documentElement.removeAttribute("i-amphtml-story-mobile"),this.element.removeAttribute("desktop"),this.element.classList.remove("i-amphtml-story-desktop-fullbleed");for(let i=0;i<t.length;i++)this.element.insertBefore(t[i],t[i].getAttribute("href")?t[i].parentElement.nextElementSibling:null)})),this.signals().whenSignal(nt).then((()=>{this.Kh.mutate((()=>{this.GS.forEach((t=>t.element.setAttribute("active","")))}))}))}}MO(){return 0===this.lO&&this.Gz()?0:this.fo.isBot()?3:this.Wz()?this.wO()?2:4:0}Gz(){var t;const i=this.fo.isAndroid(),s=["INPUT","TEXTAREA"].includes(null===(t=this.win.document.activeElement)||void 0===t?void 0:t.tagName);return i&&s}Wz(){return this.XS.matches&&!this.fo.isBot()}Vz(){return this.ZS.matches}bO(){return this.element.hasAttribute("standalone")}wO(){return this.element.hasAttribute("supports-landscape")}eS(t){if(!this.qS)return;const i=t?2:1;this.qS.setState(i)}oz(){if(this.VO(),this.getFallback())return void this.toggleFallback(!0);const t=function(t,i){const s=(t=>bt("div",{class:"i-amphtml-story-unsupported-browser-overlay"},bt("div",{class:"i-amphtml-overlay-container"},bt("div",{class:"i-amphtml-gear-icon"}),bt("div",{"i-amphtml-i18n-text-content":"21"}),bt("button",{class:"i-amphtml-continue-button",onClick:t,"i-amphtml-i18n-text-content":"27"}))))(i);return Os(s,t),gs(bt("div",null),s,'.i-amphtml-story-unsupported-browser-overlay{position:absolute!important;z-index:20000001!important;font-family:Roboto,sans-serif;font-weight:700!important;line-height:1.5;padding:32px;background-color:#000!important;top:0!important;left:0!important;right:0!important;bottom:0!important;-ms-flex-align:center!important;align-items:center!important;-ms-flex-pack:center!important;justify-content:center!important;text-align:center!important;display:-ms-flexbox!important;display:flex!important;color:#fff!important}.i-amphtml-gear-icon{background-repeat:no-repeat!important;background-position:50%!important;border-radius:50%!important;background-color:#fff!important;padding:16px!important;height:24px!important;width:24px!important;margin:16px auto!important;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 20 20"><path fill="none" d="M0 0h20v20H0V0z"/><path d="M16 10.8V9.2L17.5 8c.2-.1.2-.3.1-.5L16 4.7c0-.2-.3-.2-.5-.2l-2 .8-1.3-.7-.3-2.2c0-.2-.2-.3-.4-.3H8.4c-.2 0-.4.1-.4.3l-.3 2.2a6 6 0 0 0-1.3.7l-2-.8c-.2 0-.4 0-.5.2L2.3 7.4v.5l1.8 1.3a5 5 0 0 0 0 1.6L2.4 12c-.2.1-.2.3-.1.5l1.6 2.8c0 .2.3.2.5.2l2-.8 1.3.7.3 2.2c0 .2.2.3.4.3h3.2c.2 0 .4-.1.4-.3l.3-2.2a6 6 0 0 0 1.3-.7l2 .8c.2 0 .4 0 .5-.2l1.6-2.8V12L16 10.8zM10 13c-1.6 0-3-1.4-3-3s1.4-3 3-3 3 1.4 3 3-1.4 3-3 3z"/></svg>\')!important}.i-amphtml-continue-button{border-radius:20px;font-family:Roboto,sans-serif;color:#000;font-weight:400!important;font-size:16px;background:#fff;padding:10px 20px;border:2px solid #aaa;text-decoration:none;display:block;margin-top:25px;margin-right:auto;margin-left:auto;-ms-flex-align:center!important;align-items:center!important;-ms-flex-pack:center!important;justify-content:center!important;text-align:center!important}\n/*# sourceURL=/extensions/amp-story/1.0/amp-story-unsupported-browser-layer.css*/')}(this.element,(()=>{this.ez().then((()=>{this.SO(),this.mutateElement((()=>{ht(t)}))}))}));return this.mutateElement((()=>{this.element.appendChild(t)}))}qz(){const t=this.Xz(0,{},this.qS.element.id),i=[];return Object.keys(t).forEach((s=>{let o=t[s];if(s===this.GS[0].element.id&&this.qS===this.GS[this.GS.length-1]&&this.GS.length>1&&!this.Tr.hasCapability("swipe")&&(o=1),i[o]||(i[o]=[]),qt(this.win,"amp-story-branching")){const t=this.pT.get(xi.NAVIGATION_PATH),n=t.indexOf(this.qS.element.id),r=t[n-1];n>0&&s===this.qS.element.id&&(i[1]||(i[1]=[]),i[1].push(r)),s!==r&&i[o].push(s)}else i[o].push(s)})),i}Xz(t,i,s){return void 0!==i[s]&&i[s]<=t||(i[s]=t,this.getPageById(s).getAdjacentPageIds().forEach((s=>{void 0!==i[s]&&i[s]<=t||(i=this.Xz(t+1,i,s))}))),i}Pz(t=!1){if(this.fo.isBot())return void this.GS.forEach((t=>{t.setDistance(0)}));const i=this.qz(),s=()=>{i.forEach(((t,i)=>{t.forEach((t=>{this.getPageById(t).setDistance(i)}))}))};this.mutateElement((()=>{if(!t)return s();const o=Vt(i[0][0]);new Promise(((t,i)=>{const s=this.getPageById(o);s.setDistance(0),s.signals().whenSignal(nt).then(t),this.pT.subscribe(xi.CURRENT_PAGE_ID,i)})).then((()=>s()),(()=>{}))}))}Iz(){let t=to(this.element);t&&this.qS.element.signals().whenSignal(nt).then((()=>(this.oO.register(t),this.oO.preload(t)))).then((()=>{this.JS=function(t,i){for(let i=t.firstElementChild;i;i=i.nextElementSibling)if("audio"===i.tagName.toLowerCase())return i;return null}(this.element)}))}Az(){this.Tr.hasCapability("education")&&(this.mutateElement((()=>{this.element.appendChild(bt("amp-story-education",null))})),ni(this.win).installExtensionForDoc(this.getAmpDoc(),"amp-story-education"))}getPageIndexById(t){const i=e(this.GS,(i=>i.element.id===t));return i<0&&It().error(jn,'Story refers to page "%s", but no such page exists.',t),i}getPageById(t){const i=this.getPageIndexById(t);return Vt(this.GS[i])}getPageIndex(t){return e(this.GS,(i=>i===t))}Kz(t){let i=t;t.ownerDocument!==this.win.document&&(i=t.ownerDocument.defaultView.frameElement);const s=e(this.GS,(t=>!!v(i,(i=>i===t.element))));return this.GS[s]||null}getElementDistance(t){const i=this.Kz(t);return i?i.getDistance():-1}getMaxMediaElementCounts(){let t=this.element.querySelectorAll("amp-audio, [background-audio]").length;const i=this.element.querySelectorAll("amp-video").length;return this.element.hasAttribute("background-audio")&&t++,{[Po]:Math.min(t+2,$n.audio),[xo]:Math.min(i+2,$n.video)}}getElement(){return this.element}oy(t){t?this.Zz():this.Jz(),t?this.element.setAttribute(Ln,""):this.element.removeAttribute(Ln)}Zz(){this.kO(),this.qS&&this.qS.muteAllMedia()}kO(){this.JS&&this.oO.pause(this.JS)}Jz(){const t=()=>{this.OO(),this.qS&&this.qS.unmuteAllMedia()};this.oO.blessAll().then(t,t)}OO(){this.JS&&(this.oO.unmute(this.JS),this.oO.play(this.JS))}DO(){const t=this.element.hasAttribute("background-audio");this.pT.dispatch(30,t)}UO(){const t=!!y(this.element,"amp-story-grid-layer amp-audio, amp-story-grid-layer amp-video, amp-story-page[background-audio], amp-story-page[auto-advance-after]"),i=this.element.hasAttribute("background-audio");this.pT.dispatch(31,t||i)}ZO(){this.signals().whenSignal(nt).then((()=>this.BV()))}KO(t){t&&(this.pT.dispatch(7,"viewerSelectPage"),t.next?this.mr():t.previous?this.Sm():t.delta?this.Qz(t.delta):t.id&&this._V(t.id,this.getPageIndexById(t.id)>this.getPageIndex(this.qS)?Lo:Do))}Qz(t){const i=this.pT.get(xi.CURRENT_PAGE_INDEX),s=t>0?Math.min(this.GS.length-1,i+t):Math.max(0,i+t),o=this.GS[s];if(!this.WO(o&&o.element.id)||s===i)return;const n=s>i?Lo:Do;this._V(o.element.id,n)}lz(){let t=xn(this.win,Pn);t&&t.every((t=>this.WO(t)))||(t=[]),this.pT.dispatch(10,t)}BV(){this.pT.dispatch(10,[]);const t=this._V(this.GS[0].element.id,Lo);1===this.GS.length&&(this.GS[0].setState(0),this.GS[0].setState(1)),t.then((()=>{this.GS.forEach((t=>_s(t,Un)))}))}hz(t,i){this.mutateElement((()=>{const s=t.element.id;_(t.element,"amp-story-cta-layer a").forEach((t=>{t.setAttribute("data-vars-story-page-id",s),t.setAttribute("data-vars-story-page-index",i)}))}))}addPage(t){this.GS.push(t),t.isAd()&&this.WS.push(t)}insertPage(t,i){const s=this.getPageById(i),o=s.element;if(s.isAd()&&!this.pT.get(xi.CAN_INSERT_AUTOMATIC_AD))return kt().expectedError(jn,"Inserting ads automatically is disallowed."),!1;const n=this.getPageById(t),r=n.element,a=this.getNextPage(n);if(!a)return!1;const e=qt(this.win,"amp-story-branching")?"advance-to":"i-amphtml-advance-to";r.setAttribute(e,i),r.setAttribute(Nn,i),o.setAttribute(Dn,t);const h=a.element,p=h.id;p!==i&&(o.setAttribute(e,p),o.setAttribute(Nn,p),h.setAttribute(Dn,i));const l=this.getPageIndexById(i);return-1!=l&&this.GS.splice(l,1),this.GS.splice(this.getPageIndexById(t)+1,0,s),this.pT.dispatch(11,this.GS.map((t=>t.element.id))),!0}getNextPage(t){const i=t.getNextPageId(!0);return i?this.getPageById(i):null}static isBrowserSupported(t){return!0}RO(){if(!Tt(this.win)||"inspect"===this.element.getAttribute("mode"))return!1;this.element.setAttribute("mode","inspect");const t=bt("amp-story-dev-tools",null);return this.win.document.body.appendChild(t),this.element.setAttribute("hide",""),ni(this.win).installExtensionForDoc(this.getAmpDoc(),"amp-story-dev-tools"),!0}GO(t){return!!v(t,(t=>b(t,"a.i-amphtml-story-page-open-attachment[href]")),this.element)}PO(){const t=zs(this.element).getLanguageCodesForElement(this.element);this.tN(t[0])||this.iN(t)}tN(t){const i=this.win.document.querySelector('script[amp-localization="amp-story"]');if((null==i?void 0:i.getAttribute("i-amphtml-version"))!==xt(this.win).rtvVersion)return!1;const s=function(t,i){try{return at(t)}catch(t){return null}}(i.textContent);return!!s&&(zs(this.element).registerLocalizedStringBundles({[t]:s}),!0)}iN(t){const i=zs(this.element),s=function(t){for(let i=0;i<t.length;i++){const s=t[i].toLowerCase();for(let t=0;t<Ss.length;t++)if(Ss[t].toLowerCase()===s)return Ss[t]}return"en"}(t),o=(n=this.win,this.win.location,r=`amp-story.${s}.json`,`${Jt.cdn}/rtv/${xt(n).rtvVersion}/v0/${r}`);var n,r;ui(this.win).fetchJson(o,{prerenderSafe:!0}).then((t=>t.json())).then((t=>i.registerLocalizedStringBundles({[s]:t}))).catch((t=>{I(jn,t,"Bundle not found for language "+s)}))}AO(){var t,i;const s=parseInt(null===(t=this.Tr)||void 0===t?void 0:t.getParam("minPreviewPages"),10)||1,o=parseInt(null===(i=this.Tr)||void 0===i?void 0:i.getParam("pctPagesToPreview"),10)||30,n=this.element.querySelectorAll("amp-story-page").length;let r=Math.ceil(o/100*n);return r=Math.max(s,r),r=$o(r,1,n),r-1}$O(){var t;this.GS.indexOf(this.qS)>=this._O&&(null===(t=this.Gk)||void 0===t||t.send("storyPreviewFinished",{}))}};t.registerElement("amp-story",Fn,'.i-amphtml-story-background{background-color:transparent}amp-story[standalone]{background-color:#000}@media (min-aspect-ratio:31/40){:root:not([data-story-supports-landscape]):not([i-amphtml-story-mobile]){--i-amphtml-story-desktop-one-panel-ratio:69/116;--i-amphtml-story-desktop-one-panel-responsive-margin:max(74px,8.25vh);--i-amphtml-story-desktop-one-panel-height:calc(var(--story-100dvh) - var(--i-amphtml-story-desktop-one-panel-responsive-margin)*2);--i-amphtml-story-desktop-one-panel-width:calc(var(--i-amphtml-story-desktop-one-panel-height)*var(--i-amphtml-story-desktop-one-panel-ratio));--i-amphtml-story-desktop-one-panel-border-radius:20px;--story-page-vw:calc(var(--i-amphtml-story-desktop-one-panel-width)*0.01)!important;--story-page-vh:calc(var(--i-amphtml-story-desktop-one-panel-height)*0.01)!important}@media(max-height:756px){:root:not([data-story-supports-landscape]):not([i-amphtml-story-mobile]){--i-amphtml-story-desktop-one-panel-responsive-margin:0px;--i-amphtml-story-desktop-one-panel-width:calc(var(--story-100dvh)*var(--i-amphtml-story-desktop-one-panel-ratio));--i-amphtml-story-desktop-one-panel-border-radius:0}}@media(max-height:538px){:root:not([data-story-supports-landscape]):not([i-amphtml-story-mobile]){--i-amphtml-story-desktop-one-panel-ratio:36/53}}:root:not([i-amphtml-story-mobile]) amp-story:not([supports-landscape]) amp-story-page{width:var(--i-amphtml-story-desktop-one-panel-width)!important;height:var(--i-amphtml-story-desktop-one-panel-height)!important;border-radius:var(--i-amphtml-story-desktop-one-panel-border-radius)!important;margin:auto!important}}[orientation=landscape] [position=landscape-half-left]{width:50%!important;left:0!important;right:auto!important}[orientation=landscape] [position=landscape-half-right]{width:50%!important;left:auto!important;right:0!important}amp-story{font-display:optional}amp-story-grid-layer:not([aspect-ratio]):not([preset]){overflow:hidden}amp-story-grid-layer *{box-sizing:border-box;margin:0}.i-amphtml-story-grid-template-with-full-bleed-animation amp-img img,[template=fill] amp-anim img,[template=fill] amp-img img,[template=fill] amp-video video{-o-object-fit:cover;object-fit:cover}[template=vertical]{-ms-flex-line-pack:start;align-content:start;grid-gap:16px;-ms-flex-pack:stretch;justify-content:stretch;justify-items:start}[template=vertical]>*{width:100%}[template=horizontal]{-ms-flex-line-pack:stretch;align-content:stretch;-ms-flex-align:start;align-items:start;grid-gap:16px;-ms-flex-pack:start;justify-content:start}amp-story-grid-layer{padding:68px 32px 32px}amp-story-grid-layer.i-amphtml-story-has-page-attachment.i-amphtml-story-has-interactive{padding-bottom:104px}amp-story-grid-layer.i-amphtml-story-has-CTA-layer.i-amphtml-story-has-interactive{padding-bottom:20%}html.i-amphtml-story-vertical{--story-page-vh:1.78vw!important}amp-story[standalone][i-amphtml-vertical]{height:auto!important;contain:initial!important}[i-amphtml-vertical] *{transition-delay:0s!important;transition-duration:0s!important}[i-amphtml-vertical] amp-story-page{position:relative!important;height:178vw!important;contain:initial!important;overflow:visible!important}amp-story[i-amphtml-vertical].i-amphtml-element amp-story-page.i-amphtml-element{transform:none!important}[i-amphtml-vertical] .i-amphtml-story-draggable-drawer-container[hidden] .i-amphtml-story-draggable-drawer-content{opacity:1!important}[i-amphtml-vertical] .i-amphtml-story-draggable-drawer-container[hidden] .i-amphtml-story-draggable-drawer-content>*{display:block!important}[i-amphtml-vertical] amp-story-page-attachment{display:block!important;position:relative!important;transform:none!important}[i-amphtml-vertical] .i-amphtml-story-page-attachment-remote-title{overflow:visible!important}[i-amphtml-vertical] .amp-story-draggable-drawer-root{visibility:visible!important}[i-amphtml-vertical] .i-amphtml-story-page-description{background:#fff!important;display:block!important;padding:32px!important;width:auto!important;z-index:9999999!important}[i-amphtml-vertical] .i-amphtml-story-page-description>*{background:#fff!important;color:#000!important;font-size:1rem!important}[i-amphtml-vertical] .i-amphtml-story-page-description>h2{font-size:1.5rem!important}.i-amphtml-story-button-container{cursor:pointer!important;position:absolute!important;width:30px!important;top:0!important;bottom:0!important;height:calc(var(--story-100dvh) - 150px)!important;margin:auto 0!important;background:none!important;transition:opacity 150ms linear,visibility 150ms linear!important;outline:none!important;z-index:100002!important}amp-story:not([desktop]) .i-amphtml-story-button-container{pointer-events:none!important}.i-amphtml-story-button-container.next-container>.i-amphtml-story-button-move,.next-container{left:auto!important;right:0!important}[dir=rtl] .i-amphtml-story-button-container.next-container>.i-amphtml-story-button-move,[dir=rtl] .next-container{left:0!important;right:auto!important}.i-amphtml-story-desktop-fullbleed .i-amphtml-story-button-container{pointer-events:none!important}[dir=rtl] amp-story:not([desktop]) .i-amphtml-story-button-move,amp-story:not([desktop]) .i-amphtml-story-button-move{width:100%!important;height:100%!important;border:none!important;padding:0!important;pointer-events:none!important;background-repeat:no-repeat!important;background-color:transparent!important;background-position:50%!important;filter:invert(100%) drop-shadow(0 0 3px #000b)!important}body:not(.amp-mode-keyboard-active) amp-story:not([desktop]):not(.i-amphtml-story-desktop-one-panel) .i-amphtml-story-button-move{background:none!important}[desktop] .i-amphtml-story-button-move{display:-ms-flexbox!important;display:flex!important;position:fixed!important;top:0!important;bottom:0!important;margin:auto 12px!important;width:54px!important;height:54px!important;border:0!important;background-repeat:no-repeat!important;-ms-flex-pack:center!important;justify-content:center!important;-ms-flex-align:center!important;align-items:center!important;transition:opacity 150ms linear!important;cursor:pointer!important;pointer-events:all!important}amp-story.i-amphtml-story-desktop-one-panel .i-amphtml-story-button-container{height:48px!important;width:48px!important;transform:translateY(-50%)!important;top:50%!important;bottom:auto!important;pointer-events:all!important;--i-amphtml-story-desktop-one-panel-button-margin:max(10px,calc(50vw - 72px - var(--i-amphtml-story-desktop-one-panel-width)/2))}amp-story.i-amphtml-story-desktop-one-panel .i-amphtml-story-button-container.prev-container{margin-inline-start:var(--i-amphtml-story-desktop-one-panel-button-margin)!important}amp-story.i-amphtml-story-desktop-one-panel .i-amphtml-story-button-container.next-container{margin-inline-end:var(--i-amphtml-story-desktop-one-panel-button-margin)!important}[dir=rtl] amp-story.i-amphtml-story-desktop-one-panel .i-amphtml-story-button-move,amp-story.i-amphtml-story-desktop-one-panel .i-amphtml-story-button-move{filter:none!important;background-color:#fff!important;border-radius:50%!important}amp-story.i-amphtml-story-desktop-one-panel .i-amphtml-story-button-hidden{visibility:visible!important;opacity:.1!important;pointer-events:none!important}.i-amphtml-story-desktop-fullbleed .i-amphtml-story-button-move{background-size:100%!important;background-color:#fff2!important;border-radius:50%!important;filter:invert(1)!important}.i-amphtml-story-fwd-next>.i-amphtml-story-button-move,.prev-container>.i-amphtml-story-button-move,[dir=rtl] .i-amphtml-story-fwd-next>.i-amphtml-story-button-move,[dir=rtl] .prev-container>.i-amphtml-story-button-move{background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="none"><path stroke="%23000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.4" d="m21.52 16.22 7.75 7.75m-7.75 7.78L29.27 24"/></svg>\')!important}.prev-container>.i-amphtml-story-button-move,[dir=rtl] .i-amphtml-story-fwd-next>.i-amphtml-story-button-move{left:0!important;right:auto!important;transform:rotate(180deg)!important}[dir=rtl] .prev-container>.i-amphtml-story-button-move{transform:none!important}.i-amphtml-story-fwd-next>.i-amphtml-story-button-move,[dir=rtl] .prev-container>.i-amphtml-story-button-move{left:auto!important;right:0!important}.i-amphtml-story-fwd-replay{pointer-events:none!important}.i-amphtml-story-fwd-replay>.i-amphtml-story-button-move{background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="none"><path stroke="%23000" stroke-linecap="round" stroke-width="2.4" d="M16.15 19.4a9.1 9.1 0 1 1-1.29 3.95M15.6 15.1v4.61m4.4 0h-4.4"/></svg>\')!important}.i-amphtml-story-button-hidden{visibility:hidden!important;opacity:0!important;pointer-events:none!important}:root{--story-page-vw:1vw!important;--story-page-vh:var(--story-dvh,1vh)!important;--story-page-vmin:min(var(--story-page-vw),var(--story-page-vh))!important;--story-page-vmax:max(var(--story-page-vw),var(--story-page-vh))!important;--story-100dvh:calc(var(--story-dvh, 1vh)*100)!important;--story-font-size:calc(var(--story-page-vh, 8px)*2.5)!important;font-size:var(--story-font-size)}@supports (height:1dvh){:root{--story-dvh:1dvh!important}}body{animation:none!important;-webkit-animation:none!important;-moz-animation:none!important;-ms-animation:none!important}amp-story,amp-story-cta-layer,amp-story-page{contain:strict!important;overflow:hidden!important;-webkit-touch-callout:none!important}amp-story-grid-layer{contain:size layout!important;-webkit-touch-callout:none!important}amp-story amp-consent{position:absolute!important;top:0!important;left:0!important;height:100%!important;width:100%!important;background:none!important;z-index:initial!important}@media (prefers-reduced-motion:reduce){*,:after,:before{animation-duration:0s!important;transition-duration:0s!important}}amp-consent.amp-hidden{display:none!important}.i-amphtml-story-system-reset,.i-amphtml-story-system-reset *{border:none!important;box-sizing:initial!important;color:initial!important;font-family:Roboto,sans-serif!important;font-size:initial!important;font-weight:initial!important;height:auto!important;margin:0!important;padding:0!important;text-align:start!important;text-shadow:none!important;width:auto!important}amp-story{position:relative!important;text-rendering:geometricPrecision!important;-webkit-user-select:none!important;-ms-user-select:none!important;user-select:none!important;-ms-touch-action:manipulation!important;touch-action:manipulation!important}amp-story,html:root,html:root body{height:100%!important;width:100%!important}html:root,html:root body{font-size:calc(var(--story-page-vh, 8px)*2.5);margin:0!important;padding:0!important;border:0!important;cursor:auto!important;-webkit-tap-highlight-color:rgba(0,0,0,0)!important}h4,p{font-size:1rem}h1{font-size:2rem}h2{font-size:1.5rem}h3{font-size:1.17rem}h5{font-size:0.83rem}h6{font-size:0.67rem}html:root #i-amphtml-wrapper body{border-top:none!important;overflow:hidden!important}amp-story[standalone]{-ms-flex-item-align:center!important;align-self:center!important;box-shadow:2px 2px 20px rgba(0,0,0,0.5)!important;height:100%!important;justify-self:center!important;max-height:initial!important;max-width:initial!important;min-height:initial!important;min-width:initial!important;visibility:visible!important}amp-story[standalone].amp-notbuilt{min-height:1px!important}amp-story[standalone]:-ms-fullscreen{height:100vh!important;max-height:none!important;max-width:none!important}amp-story[standalone]:fullscreen{height:100vh!important;max-height:none!important;max-width:none!important}amp-story .amp-video-eq,amp-story[hide]{display:none!important}amp-story-page{bottom:0!important;height:auto!important;left:0!important;position:absolute!important;right:0!important;top:0!important;opacity:1!important;-ms-touch-action:none!important;touch-action:none!important;transition:none!important;z-index:0!important}amp-story-page[active]{z-index:1!important}amp-story-page:not(:first-of-type):not([distance]):not([active]),amp-story-page[distance]:not([active]){transform:translateY(1000vh)!important}amp-story-page[active],amp-story-page[distance="0"][distance],amp-story-page[distance="1"][distance]{transform:translateY(0)!important}amp-story-page[distance="2"][distance],amp-story.i-amphtml-experiment-story-load-inactive-outside-viewport:not([desktop]) amp-story-page[distance="1"]:not(.i-amphtml-story-page-loaded):not(.i-amphtml-visited){transform:translateY(var(--story-100dvh))!important}amp-story-page [data-text-background-color]{border-radius:3px!important;line-height:1.5em!important;padding:2px 4px!important;text-indent:0!important;box-decoration-break:clone!important;-webkit-box-decoration-break:clone!important}amp-story-cta-layer{display:block!important;top:80%!important;margin:0!important;z-index:3!important}amp-story-cta-layer,amp-story-grid-layer{position:absolute!important;right:0!important;bottom:0!important;left:0!important}amp-story-grid-layer{box-sizing:border-box!important;display:grid!important;top:0!important;z-index:2!important;pointer-events:none!important}:root:not(.i-amphtml-story-vertical) amp-story{position:absolute!important;top:0;left:0}amp-story-grid-layer[anchor*=left]{margin-left:0!important}amp-story-grid-layer[anchor*=top]{margin-top:0!important}amp-story-grid-layer[anchor*=bottom]{margin-bottom:0!important}amp-story-grid-layer[anchor*=right]{margin-right:0!important;margin-left:auto!important}amp-story-grid-layer amp-video:after{content:""!important;position:absolute!important;height:100%!important;width:100%!important;top:0!important;left:0!important}[template=fill] amp-img img,[template=fill] amp-video video{position:absolute!important}amp-story-grid-layer amp-img img{pointer-events:none!important}amp-story-page[active]:not(.i-amphtml-layout) amp-video.i-amphtml-poolbound:not(.i-amphtml-layout){display:none!important}amp-story-grid-layer a,amp-story-grid-layer amp-ad,amp-story-grid-layer amp-twitter{pointer-events:auto!important}amp-story-grid-layer a *{pointer-events:none!important}amp-story-grid-layer .i-amphtml-embedded-component:after{content:""!important;position:absolute!important;height:100%!important;width:100%!important;top:0!important;left:0!important}.i-amphtml-story-grid-template-with-full-bleed-animation{position:absolute!important;display:block!important;padding:0!important}[template=fill]:not(.i-amphtml-story-grid-template-with-full-bleed-animation)>*{bottom:0!important;height:auto!important;left:0!important;position:absolute!important;right:0!important;top:0!important;width:auto!important}[template=vertical]{grid-auto-flow:row!important;grid-template-columns:100%!important}[template=horizontal]{grid-auto-flow:column!important;grid-template-rows:100%!important}[template=thirds]{height:100%!important;grid-template-rows:33% 33% 33%!important;grid-template-areas:"upper-third" "middle-third" "lower-third"!important}[aspect-ratio],[preset]{margin:auto;width:var(--i-amphtml-story-layer-width,100%);height:var(--i-amphtml-story-layer-height,100%);font-size:calc(var(--i-amphtml-story-layer-height)/10);margin-left:calc(var(--story-page-vw, 1%)*100*0.5 - var(--i-amphtml-story-layer-width, 100%)*0.5);--i-amphtml-aspect-ratio-float:calc(var(--aspect-ratio))!important;--i-amphtml-story-page-width:calc(var(--story-page-vw, 1vw)*100)!important;--i-amphtml-story-page-height:calc(var(--story-page-vh, 1vh)*100)!important;--i-amphtml-story-unscaled-width:min(var(--i-amphtml-story-page-width),calc(var(--i-amphtml-story-page-height)*var(--i-amphtml-aspect-ratio-float)))!important;--i-amphtml-story-unscaled-height:min(var(--i-amphtml-story-page-height),calc(var(--i-amphtml-story-page-width)/var(--i-amphtml-aspect-ratio-float)))!important;--i-amphtml-story-layer-width:calc(var(--i-amphtml-story-unscaled-width)*var(--scaling-factor, 1))!important;--i-amphtml-story-layer-height:calc(var(--i-amphtml-story-unscaled-height)*var(--scaling-factor, 1))!important}[preset="2021-background"],[preset="2021-foreground"]{--aspect-ratio:69/116!important}[preset="2021-background"]{--scaling-factor:1.142!important}.i-amphtml-story-toast{position:absolute!important;bottom:0!important;left:0!important;right:0!important;display:inline-block!important;padding:1.16em 1.33em!important;line-height:1.33!important;color:#fff!important;background:#212121!important;animation:toast 2.2s!important;animation-fill-mode:both!important;font-family:Roboto,sans-serif!important;font-weight:400!important;font-size:12px!important;max-width:640px!important;z-index:100004!important}@media (min-width:640px){.i-amphtml-story-toast{right:auto!important;font-size:14px!important;margin:0 auto 1.16em 1.16em!important;border-radius:6px}}@keyframes toast{0%{transform:translateY(100px);easing:cubic-bezier(0,0,0.2,1)}8%{transform:translateY(0)}92%{transform:translateY(0);easing:cubic-bezier(0.4,0,1,1)}to{transform:translateY(100px)}}.i-amphtml-story-copy-successful{background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="%23fff"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20zm-2 15-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z"/></svg>\')!important;background-repeat:no-repeat!important;background-size:16px 16px!important;padding-left:24px!important;color:#fff!important;display:-ms-flexbox!important;display:flex!important}.i-amphtml-story-copy-url{-ms-flex:1!important;flex:1!important;color:hsla(0,0%,100%,0.5)!important;margin-left:40px!important;text-overflow:ellipsis!important;overflow:hidden!important;white-space:nowrap!important}.i-amphtml-story-spinner,amp-story .amp-video-eq{right:12px!important;bottom:12px!important}[dir=rtl] .i-amphtml-story-spinner,[dir=rtl] amp-story .amp-video-eq{left:12px!important;right:auto!important}.i-amphtml-story-spinner{display:inline-block!important;position:absolute!important;width:24px!important;height:24px!important;z-index:10!important}.i-amphtml-story-spinner-container{width:100%!important;height:100%!important;direction:ltr!important}.i-amphtml-story-spinner[active] .i-amphtml-story-spinner-container{animation:container-rotate 1294ms linear infinite!important}@keyframes container-rotate{to{transform:rotate(360deg)}}.i-amphtml-story-spinner-layer{position:absolute!important;width:100%!important;height:100%!important;opacity:0!important;white-space:nowrap!important;color:#fff!important}.i-amphtml-story-spinner[active] .i-amphtml-story-spinner-layer{animation-name:fill-unfill-rotate!important;animation-duration:4400ms!important;animation-timing-function:cubic-bezier(0.4,0,0.2,1)!important;animation-iteration-count:infinite!important;opacity:1!important;filter:drop-shadow(0px 1px 3px rgba(0,0,0,0.25))!important}@keyframes fill-unfill-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}to{transform:rotate(1080deg)}}.i-amphtml-story-spinner-circle-clipper{display:inline-block!important;position:relative!important;width:50%!important;height:100%!important;overflow:hidden!important}.i-amphtml-story-spinner-layer:after{left:45%!important;width:10%!important;border-top-style:solid!important}.i-amphtml-story-spinner-circle-clipper:after,.i-amphtml-story-spinner-layer:after{content:""!important;box-sizing:border-box!important;position:absolute!important;top:0!important;border-width:3px!important;border-radius:50%!important}.i-amphtml-story-spinner-circle-clipper:after{bottom:0!important;width:200%!important;border-style:solid!important;border-bottom-color:transparent!important}.i-amphtml-story-spinner-circle-clipper.left:after{left:0!important;border-right-color:transparent!important;transform:rotate(129deg)!important}.i-amphtml-story-spinner-circle-clipper.right:after{left:-100%!important;border-left-color:transparent!important;transform:rotate(-129deg)!important}.i-amphtml-story-spinner[active] .i-amphtml-story-spinner-circle-clipper:after{animation-duration:1100ms!important;animation-timing-function:cubic-bezier(0.4,0,0.2,1)!important;animation-iteration-count:infinite!important}.i-amphtml-story-spinner[active] .i-amphtml-story-spinner-circle-clipper.left:after{animation-name:left-spin!important}.i-amphtml-story-spinner[active] .i-amphtml-story-spinner-circle-clipper.right:after{animation-name:right-spin!important}@keyframes left-spin{0%{transform:rotate(130deg)}50%{transform:rotate(-5deg)}to{transform:rotate(130deg)}}@keyframes right-spin{0%{transform:rotate(-130deg)}50%{transform:rotate(5deg)}to{transform:rotate(-130deg)}}.i-amphtml-story-page-error,.i-amphtml-story-page-play-button{display:-ms-flexbox!important;display:flex!important;-ms-flex-align:center!important;align-items:center!important;position:absolute!important;bottom:0!important;right:0!important;height:40px!important;border:0!important;margin:8px 0 0 8px!important;padding:0!important;animation:play-button-fly-in 0.4s cubic-bezier(0.4,0,0.2,1)!important;background-color:transparent!important;z-index:10000!important}@keyframes play-button-fly-in{0%{opacity:0;transform:translateX(12px)}to{opacity:1;transform:translateX(0)}}.i-amphtml-story-page-error[hidden],.i-amphtml-story-page-play-button[hidden]{display:none!important}.i-amphtml-story-page-error-label,.i-amphtml-story-page-play-label{color:#fff!important;font-family:Roboto,sans-serif!important;font-size:16px!important;text-shadow:0px 0px 6px rgba(0,0,0,0.36)!important}.i-amphtml-story-page-error-icon,.i-amphtml-story-page-play-icon{display:inline-block!important;height:24px!important;width:24px!important;margin:0 8px!important;border-radius:24px!important;filter:drop-shadow(0px 0px 6px rgba(0,0,0,0.36))!important}.i-amphtml-story-page-error-icon{background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="%23FFF"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/></svg>\')!important}.i-amphtml-story-page-play-icon{background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 48 48" fill="%23FFF"><path d="M0 0h48v48H0z" fill="none"/><path d="M24 4a20 20 0 1 0 0 40 20 20 0 0 0 0-40zm-4 29V15l12 9-12 9z"/></svg>\')!important}amp-bodymovin-animation,amp-bodymovin-animation *{pointer-events:none!important}\n/*# sourceURL=/extensions/amp-story/1.0/amp-story.css*/'),t.registerElement("amp-story-consent",Bo),t.registerElement("amp-story-grid-layer",class extends X{static prerenderAllowed(t){return it(t.parentElement)}static previewAllowed(){return!0}constructor(t){super(t)}buildCallback(){super.buildCallback(),this.sN(),this.nN(),this.eN()}sN(){this.element.hasAttribute("aspect-ratio")&&O(this.element,{"--aspect-ratio":this.element.getAttribute("aspect-ratio").replace(":","/")})}eN(){_(this.element,ot).forEach((t=>{this.oN(t)}))}nN(){this.oN(this.element)}oN(t){const i={};for(let s=t.attributes.length-1;s>=0;s--){const o=t.attributes[s],n=o.name.toLowerCase(),r=st[n];r&&(i[r]=o.value,t.removeAttribute(n))}N(t,G(i))}}),t.registerElement("amp-story-page",Uo)})();
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
/**
* @license
* Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
* Use of this source code is governed by a BSD-style
* license that can be found in the LICENSE file or at
* https://developers.google.com/open-source/licenses/bsd
*/}});
//# sourceMappingURL=amp-story-1.0.mjs.map